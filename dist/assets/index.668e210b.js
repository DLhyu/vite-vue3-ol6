var zv=Object.defineProperty,$v=Object.defineProperties;var Jv=Object.getOwnPropertyDescriptors;var Lh=Object.getOwnPropertySymbols;var qv=Object.prototype.hasOwnProperty,e1=Object.prototype.propertyIsEnumerable;var lu=(r,t,e)=>t in r?zv(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,qt=(r,t)=>{for(var e in t||(t={}))qv.call(t,e)&&lu(r,e,t[e]);if(Lh)for(var e of Lh(t))e1.call(t,e)&&lu(r,e,t[e]);return r},Ri=(r,t)=>$v(r,Jv(t));var zo=(r,t,e)=>(lu(r,typeof t!="symbol"?t+"":t,e),e);import{_ as $o,a as yr}from"./index.67cbdfe4.js";import{r as q,o as Je,f as gt,g as I,w as S,n as fu,h as ee,i as Mh,F as QA,j as HA,p as Ph,k as Hh,b as NA,l as ce,t as vt,m as Yr,q as Nh,s as oe,u as Jo,x as _r,y as wr,A as t1,B as A1,C as Dh,D as r1,G as qo,H as n1,I as Gh}from"./vendor.b55e3253.js";const bh=()=>{const r=new Date;return[r.getFullYear(),r.getMonth()+1<10?"0"+r.getMonth()+1:r.getMonth()+1,r.getDate()].join("-")},i1=()=>{let r=[];for(let t=0;t<24;t++)r.push(t);return r},o1=()=>{let r=[];for(let t=0;t<24;t+=1)r.push({value:t<10?"0"+t:t,label:t<10?"0"+t:t});return r},a1=[{label:"TMP",name:"\u6E29\u5EA6"},{label:"ER03",name:"\u964D\u6C34"},{label:"EDA10",name:"\u98CE"}],s1=[{label:"gjz",name:"\u56FD\u5BB6\u7AD9"},{label:"qyz",name:"\u533A\u57DF\u7AD9"},{label:"station",name:"\u7AD9\u70B9"},{label:"stationName",name:"\u7AD9\u70B9\u540D\u79F0"},{label:"warningIcon",name:"\u544A\u8B66\u56FE\u6807"}],u1=[{label:"rain",name:"\u964D\u6C34"},{label:"tem",name:"\u6E29\u5EA6"},{label:"avgWind",name:"\u5E73\u5747\u98CE"},{label:"vis",name:"\u80FD\u89C1\u5EA6"},{label:"wepNow",name:"\u5929\u6C14"},{label:"rhu",name:"\u6E7F\u5EA6"},{label:"gst",name:"\u5730\u9762\u6E29\u5EA6"},{label:"extremeWind",name:"\u6781\u5927\u98CE"},{label:"snowDepth",name:"\u79EF\u96EA\u6DF1\u5EA6"}],l1=[{label:"pre1",name:"1\u5C0F\u65F6"},{label:"pre3",name:"3\u5C0F\u65F6"},{label:"pre6",name:"6\u5C0F\u65F6"},{label:"pre12",name:"12\u5C0F\u65F6"},{label:"pre24",name:"24\u5C0F\u65F6"}],f1={TMP:"TMP",TMAX:"TMAX",TMIN:"TMIN",EDA10:"EDA10",ER03:"ER03",ERH:"ERH",VIS03:"VIS03",ECT:"ECT"},h1={temperatureCor:[{r:0,g:0,b:255,value:"-40",text:"-40 -30.1"},{r:0,g:0,b:255,value:"-30",text:"-30~-20.1"},{r:0,g:166,b:255,value:"-20",text:"-20~-10.1"},{r:0,g:255,b:181,value:"-10",text:"-10~-0.1"},{r:0,g:255,b:8,value:"0",text:"0~9.9"},{r:148,g:255,b:0,value:"10",text:"10~19.9"},{r:255,g:195,b:0,value:"20",text:"20~29.9"},{r:255,g:44,b:0,value:"30",text:"30~39.9"},{r:255,g:10,b:0,value:"40",text:"40~44.9"},{r:255,g:10,b:0,value:"45",text:">=45"}],rainCor:[{r:255,g:255,b:255,value:"0",text:"0~0.1"},{r:171,g:239,b:161,value:"0.1",text:"0.1~4.9"},{r:114,g:214,b:99,value:"5",text:"5~9.9"},{r:60,g:186,b:60,value:"10",text:"10~24.9"},{r:96,g:184,b:255,value:"25",text:"25~49.9"},{r:0,g:0,b:255,value:"50",text:"50~99.9"},{r:249,g:1,b:247,value:"100",text:"100~149.9"},{r:209,g:1,b:186,value:"150",text:"150~199.9"},{r:169,g:0,b:125,value:"200",text:"200~249.9"},{r:129,g:0,b:64,value:"250",text:">=250"}],windCor:[{r:82,g:71,b:141,value:0,text:"0~0.9"},{r:85,g:78,b:177,value:1,text:"1~1.9"},{r:80,g:87,b:184,value:2,text:"2~3.9"},{r:67,g:105,b:196,value:4,text:"4~5.9"},{r:64,g:160,b:180,value:6,text:"6~7.9"},{r:78,g:193,b:103,value:8,text:"8~9.9"},{r:104,g:209,b:79,value:10,text:"10~11.9"},{r:157,g:221,b:68,value:12,text:">=12"}],humidityCor:[{r:0,g:0,b:0,value:"0",text:"0~9.9"},{r:240,g:23,b:175,value:"10",text:"10~19.9"},{r:245,g:3,b:180,value:"20",text:"20~29.9"},{r:247,g:70,b:3,value:"30",text:"30~39.9"},{r:255,g:0,b:0,value:"40",text:"40~49.9"},{r:255,g:130,b:0,value:"50",text:"50~59.9"},{r:255,g:255,b:0,value:"60",text:"60~69.9"},{r:164,g:255,b:0,value:"70",text:"70~79.9"},{r:64,g:255,b:0,value:"80",text:"80~89.9"},{r:0,g:255,b:0,value:"90",text:"90~99.9"},{r:0,g:191,b:255,value:"100",text:">=100"}],VIS03Cor:[{r:115,g:35,b:5,value:"0",text:"0~0.19"},{r:155,g:1,b:255,value:"0.2",text:"0.2~0.4"},{r:254,g:1,b:0,value:"0.5",text:"0.5~9.9"},{r:255,g:84,b:0,value:"1",text:"1~1.9"},{r:254,g:176,b:74,value:"2",text:"2~2.9"},{r:255,g:254,b:0,value:"3",text:"3~4.9"},{r:115,g:254,b:52,value:"5",text:"5~9.9"},{r:145,g:224,b:248,value:"10",text:"10~19.9"},{r:201,g:236,b:255,value:"20",text:"20~29.9"},{r:254,g:254,b:254,value:"30",text:">=30"}],ECTCor:[{r:228,g:228,b:228,value:"0",text:"0~9.9"},{r:218,g:218,b:218,value:"10",text:"10~19.9"},{r:208,g:208,b:208,value:"20",text:"20~29.9"},{r:198,g:198,b:198,value:"30",text:"30~39.9"},{r:188,g:188,b:188,value:"40",text:"40~49.9"},{r:178,g:178,b:178,value:"50",text:"50~59.9"},{r:168,g:168,b:168,value:"60",text:"60~69.9"},{r:158,g:158,b:158,value:"70",text:"70~79.9"},{r:148,g:148,b:148,value:"80",text:"80~89.9"},{r:138,g:138,b:138,value:"90",text:"90~99.9"},{r:128,g:128,b:128,value:"100",text:">=100"}]},c1=[{label:"\u5B81\u590F\u56FE\u5C42\uFF08\u6D4B\u8BD5\uFF09",action:"ningxiaReal",icon:"el-icon-menu",width:"500px",component:()=>$o(()=>Promise.resolve().then(function(){return ru}),void 0)},{label:"\u5B81\u590F\u6C14\u8C61\u6570\u636E",action:"gridReal",icon:"el-icon-menu",width:"500px",component:()=>$o(()=>Promise.resolve().then(function(){return ru}),void 0)}],d1=[{label:"\u7F13\u51B2\u533A\u5206\u6790",action:"bufferAnalysis",icon:"el-icon-menu",width:"500px",height:"200px",component:()=>$o(()=>Promise.resolve().then(function(){return ru}),void 0)},{label:"\u6DF9\u6CA1\u5206\u6790",action:"floodAnalysis",icon:"el-icon-menu",width:"500px",height:"200px",component:()=>$o(()=>Promise.resolve().then(function(){return ru}),void 0)}];const p1={name:"leftMenu",setup(){},data(){return{isCollapse:!1,screenHeight:"auto",realtime:c1,spatialAnalysis:d1}},mounted(){const r=this;window.onresize=()=>(()=>{window.screenWidth=document.body.clientWidth,r.screenWidth=window.screenWidth})(),this.showDefaultTool()},methods:{toggleCollapse(){this.isCollapse=!this.isCollapse},showTool(r){this.activedTool=r.action,this.$emit("showDialog",r)},showDefaultTool(){this.realtime.length&&this.showTool(this.realtime[0])}}},IA=r=>(Ph("data-v-23473097"),r=r(),Hh(),r),g1={class:"leftMenu"},v1={key:0,class:"el-icon-s-unfold"},B1=IA(()=>ee("i",{class:"el-icon-s-fold"},null,-1)),y1=IA(()=>ee("i",{class:"el-icon-menu"},null,-1)),_1=IA(()=>ee("span",null,"\u5929\u6C14\u5B9E\u51B5",-1)),w1=IA(()=>ee("i",{class:"el-icon-menu"},null,-1)),m1=IA(()=>ee("span",null,"\u7A7A\u95F4\u5206\u6790",-1)),C1=IA(()=>ee("i",{class:"el-icon-menu"},null,-1)),E1=IA(()=>ee("span",{slot:"title"},"\u5BFC\u822A\u4E09",-1)),F1=IA(()=>ee("i",{class:"el-icon-document"},null,-1)),Q1=IA(()=>ee("span",{slot:"title"},"\u5BFC\u822A\u56DB",-1)),I1=IA(()=>ee("i",{class:"el-icon-setting"},null,-1)),U1=IA(()=>ee("span",{slot:"title"},"\u5BFC\u822A\u4E94",-1));function S1(r,t,e,A,n,i){const o=q("el-header"),a=q("el-container"),s=q("el-menu-item"),u=q("el-menu-item-group"),l=q("el-sub-menu"),f=q("el-menu");return Je(),gt("div",g1,[I(o,{style:fu({height:n.screenHeight+"px"})},{default:S(()=>[I(a,null,{default:S(()=>[I(o,null,{default:S(()=>[ee("div",{class:"icons",onClick:t[0]||(t[0]=(...h)=>i.toggleCollapse&&i.toggleCollapse(...h))},[n.isCollapse?(Je(),gt("i",v1)):Mh("",!0),B1])]),_:1})]),_:1}),I(f,{"background-color":"#2e353e","text-color":"#ffffff","active-text-color":"#409eff","default-active":"ningxiaReal",class:"el-menu-vertical-demo",collapse:n.isCollapse},{default:S(()=>[I(l,{index:"realWeather"},{title:S(()=>[y1,_1]),default:S(()=>[(Je(!0),gt(QA,null,HA(n.realtime,h=>(Je(),NA(u,{key:h.action},{default:S(()=>[I(s,{index:h.action,onClick:c=>i.showTool(h)},{default:S(()=>[ce(vt(h.label),1)]),_:2},1032,["index","onClick"])]),_:2},1024))),128))]),_:1}),I(l,{index:"spatialAnalysis"},{title:S(()=>[w1,m1]),default:S(()=>[(Je(!0),gt(QA,null,HA(n.spatialAnalysis,h=>(Je(),NA(u,{key:h.action},{default:S(()=>[I(s,{index:h.action,onClick:c=>i.showTool(h)},{default:S(()=>[ce(vt(h.label),1)]),_:2},1032,["index","onClick"])]),_:2},1024))),128))]),_:1}),I(s,{index:"3"},{default:S(()=>[C1,E1]),_:1}),I(s,{index:"4"},{default:S(()=>[F1,Q1]),_:1}),I(s,{index:"5"},{default:S(()=>[I1,U1]),_:1})]),_:1},8,["collapse"])]),_:1},8,["style"])])}var hu=yr(p1,[["render",S1],["__scopeId","data-v-23473097"]]);const Kh={olObj:null};function x1(r){Kh.olObj=r}const T1={data(){return{olObj:Kh.olObj}}};var O1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",initOlApp:x1,olMixin:T1});const R1=[];let Li=2e3;const L1={data(){return{isVisible:!0,isCollapse:!1,dialogEl:null}},methods:{show(){this.isVisible=!0;let r=this.dialogEl,t=null;if(r)t=r.style;else{r=this.$el.querySelector(".el-dialog");const e=this.$el.style.zIndex;Li=Li<e?e:Li,r.className=r.className+" tool-panel",t=r.style,t.zIndex=e;const A=this.$el.parentNode;A.appendChild(r),A.removeChild(this.$el),this.dialogEl=r;return}t.display="block",t.zIndex<Li&&(t.zIndex=++Li)},toggle(){const t=this.dialogEl.querySelector(".el-dialog__body"),e=this.isCollapse;t.style.display=e?"block":"none",this.isCollapse=!e},beforeClose(r){this.$emit("beforeClose",this)!==!1&&(this.dialogEl.style.display="none",r())}}};var M1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",dialogList:R1,dialogWin:L1});const kh=qt(qt({},O1),M1);var de={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Z(){return function(){throw new Error("Unimplemented abstract method.")}()}var P1=0;function be(r){return r.ol_uid||(r.ol_uid=String(++P1))}var H1="6.9.0";function Vh(r){return r[0]>0&&r[1]>0}function Yh(r,t,e){return e===void 0&&(e=[0,0]),e[0]=r[0]*t+.5|0,e[1]=r[1]*t+.5|0,e}function eA(r,t){return Array.isArray(r)?r:(t===void 0?t=[r,r]:(t[0]=r,t[1]=r),t)}var N1=function(){function r(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=eA(t.scale),this.displacement_=t.displacement}return r.prototype.clone=function(){var t=this.getScale();return new r({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},r.prototype.getOpacity=function(){return this.opacity_},r.prototype.getRotateWithView=function(){return this.rotateWithView_},r.prototype.getRotation=function(){return this.rotation_},r.prototype.getScale=function(){return this.scale_},r.prototype.getScaleArray=function(){return this.scaleArray_},r.prototype.getDisplacement=function(){return this.displacement_},r.prototype.getAnchor=function(){return Z()},r.prototype.getImage=function(t){return Z()},r.prototype.getHitDetectionImage=function(){return Z()},r.prototype.getPixelRatio=function(t){return 1},r.prototype.getImageState=function(){return Z()},r.prototype.getImageSize=function(){return Z()},r.prototype.getOrigin=function(){return Z()},r.prototype.getSize=function(){return Z()},r.prototype.setOpacity=function(t){this.opacity_=t},r.prototype.setRotateWithView=function(t){this.rotateWithView_=t},r.prototype.setRotation=function(t){this.rotation_=t},r.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=eA(t)},r.prototype.listenImageChange=function(t){Z()},r.prototype.load=function(){Z()},r.prototype.unlistenImageChange=function(t){Z()},r}(),Xh=N1,D1=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),G1=function(r){D1(t,r);function t(e){var A=this,n="v"+H1.split("-")[0],i="Assertion failed. See https://openlayers.org/en/"+n+"/doc/errors/#"+e+" for details.";return A=r.call(this,i)||this,A.code=e,A.name="AssertionError",A.message=i,A}return t}(Error),Wh=G1;function ae(r,t){if(!r)throw new Wh(t)}function Ct(r,t,e){return Math.min(Math.max(r,t),e)}var b1=function(){var r;return"cosh"in Math?r=Math.cosh:r=function(t){var e=Math.exp(t);return(e+1/e)/2},r}(),K1=function(){var r;return"log2"in Math?r=Math.log2:r=function(t){return Math.log(t)*Math.LOG2E},r}();function k1(r,t,e,A,n,i){var o=n-e,a=i-A;if(o!==0||a!==0){var s=((r-e)*o+(t-A)*a)/(o*o+a*a);s>1?(e=n,A=i):s>0&&(e+=o*s,A+=a*s)}return Xr(r,t,e,A)}function Xr(r,t,e,A){var n=e-r,i=A-t;return n*n+i*i}function V1(r){for(var t=r.length,e=0;e<t;e++){for(var A=e,n=Math.abs(r[e][e]),i=e+1;i<t;i++){var o=Math.abs(r[i][e]);o>n&&(n=o,A=i)}if(n===0)return null;var a=r[A];r[A]=r[e],r[e]=a;for(var s=e+1;s<t;s++)for(var u=-r[s][e]/r[e][e],l=e;l<t+1;l++)e==l?r[s][l]=0:r[s][l]+=u*r[e][l]}for(var f=new Array(t),h=t-1;h>=0;h--){f[h]=r[h][t]/r[h][h];for(var c=h-1;c>=0;c--)r[c][t]-=r[c][h]*f[h]}return f}function Wr(r){return r*Math.PI/180}function mr(r,t){var e=r%t;return e*t<0?e+t:e}function er(r,t,e){return r+e*(t-r)}var Y1=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,X1=/^([a-z]*)$|^hsla?\(.*\)$/i;function jh(r){return typeof r=="string"?r:$h(r)}function W1(r){var t=document.createElement("div");if(t.style.color=r,t.style.color!==""){document.body.appendChild(t);var e=getComputedStyle(t).color;return document.body.removeChild(t),e}else return""}var j1=function(){var r=1024,t={},e=0;return function(A){var n;if(t.hasOwnProperty(A))n=t[A];else{if(e>=r){var i=0;for(var o in t)(i++&3)==0&&(delete t[o],--e)}n=Z1(A),t[A]=n,++e}return n}}();function Zh(r){return Array.isArray(r)?r:j1(r)}function Z1(r){var t,e,A,n,i;if(X1.exec(r)&&(r=W1(r)),Y1.exec(r)){var o=r.length-1,a=void 0;o<=4?a=1:a=2;var s=o===4||o===8;t=parseInt(r.substr(1+0*a,a),16),e=parseInt(r.substr(1+1*a,a),16),A=parseInt(r.substr(1+2*a,a),16),s?n=parseInt(r.substr(1+3*a,a),16):n=255,a==1&&(t=(t<<4)+t,e=(e<<4)+e,A=(A<<4)+A,s&&(n=(n<<4)+n)),i=[t,e,A,n/255]}else r.indexOf("rgba(")==0?(i=r.slice(5,-1).split(",").map(Number),zh(i)):r.indexOf("rgb(")==0?(i=r.slice(4,-1).split(",").map(Number),i.push(1),zh(i)):ae(!1,14);return i}function zh(r){return r[0]=Ct(r[0]+.5|0,0,255),r[1]=Ct(r[1]+.5|0,0,255),r[2]=Ct(r[2]+.5|0,0,255),r[3]=Ct(r[3],0,1),r}function $h(r){var t=r[0];t!=(t|0)&&(t=t+.5|0);var e=r[1];e!=(e|0)&&(e=e+.5|0);var A=r[2];A!=(A|0)&&(A=A+.5|0);var n=r[3]===void 0?1:r[3];return"rgba("+t+","+e+","+A+","+n+")"}function DA(r){return Array.isArray(r)?$h(r):r}var On=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",z1=On.indexOf("firefox")!==-1;On.indexOf("safari")!==-1&&On.indexOf("chrom")==-1;var $1=On.indexOf("webkit")!==-1&&On.indexOf("edge")==-1,J1=On.indexOf("macintosh")!==-1,Jh=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,ea=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,q1=typeof Image!="undefined"&&Image.prototype.decode,qh=function(){var r=!1;try{var t=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(e){}return r}();function uA(r,t,e,A){var n;return e&&e.length?n=e.shift():ea?n=new OffscreenCanvas(r||300,t||300):(n=document.createElement("canvas"),n.style.all="unset"),r&&(n.width=r),t&&(n.height=t),n.getContext("2d",A)}function eB(r){var t=r.offsetWidth,e=getComputedStyle(r);return t+=parseInt(e.marginLeft,10)+parseInt(e.marginRight,10),t}function tB(r){var t=r.offsetHeight,e=getComputedStyle(r);return t+=parseInt(e.marginTop,10)+parseInt(e.marginBottom,10),t}function ta(r,t){var e=t.parentNode;e&&e.replaceChild(r,t)}function Aa(r){return r&&r.parentNode?r.parentNode.removeChild(r):null}function ec(r){for(;r.lastChild;)r.removeChild(r.lastChild)}function AB(r,t){for(var e=r.childNodes,A=0;;++A){var n=e[A],i=t[A];if(!n&&!i)break;if(n!==i){if(!n){r.appendChild(i);continue}if(!i){r.removeChild(n),--A;continue}r.insertBefore(i,n)}}}var rB=function(){function r(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return r.prototype.preventDefault=function(){this.defaultPrevented=!0},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r}(),UA=rB,jr={PROPERTYCHANGE:"propertychange"},nB=function(){function r(){this.disposed=!1}return r.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},r.prototype.disposeInternal=function(){},r}(),cu=nB;function iB(r,t,e){for(var A,n,i=e||Zr,o=0,a=r.length,s=!1;o<a;)A=o+(a-o>>1),n=+i(r[A],t),n<0?o=A+1:(a=A,s=!n);return s?o:~o}function Zr(r,t){return r>t?1:r<t?-1:0}function oB(r,t){return r.indexOf(t)>=0}function ra(r,t,e){var A=r.length;if(r[0]<=t)return 0;if(t<=r[A-1])return A-1;var n=void 0;if(e>0){for(n=1;n<A;++n)if(r[n]<t)return n-1}else if(e<0){for(n=1;n<A;++n)if(r[n]<=t)return n}else for(n=1;n<A;++n){if(r[n]==t)return n;if(r[n]<t)return typeof e=="function"?e(t,r[n-1],r[n])>0?n-1:n:r[n-1]-t<t-r[n]?n-1:n}return A-1}function aB(r,t,e){for(;t<e;){var A=r[t];r[t]=r[e],r[e]=A,++t,--e}}function lA(r,t){for(var e=Array.isArray(t)?t:[t],A=e.length,n=0;n<A;n++)r[r.length]=e[n]}function zr(r,t){var e=r.length;if(e!==t.length)return!1;for(var A=0;A<e;A++)if(r[A]!==t[A])return!1;return!0}function sB(r,t,e){var A=t||Zr;return r.every(function(n,i){if(i===0)return!0;var o=A(r[i-1],n);return!(o>0||e&&o===0)})}function $r(){return!0}function Mi(){return!1}function Jr(){}function uB(r){var t=!1,e,A,n;return function(){var i=Array.prototype.slice.call(arguments);return(!t||this!==n||!zr(i,A))&&(t=!0,n=this,A=i,e=r.apply(this,arguments)),e}}var Ae=typeof Object.assign=="function"?Object.assign:function(r,t){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(r),A=1,n=arguments.length;A<n;++A){var i=arguments[A];if(i!=null)for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}return e};function Pi(r){for(var t in r)delete r[t]}var tc=typeof Object.values=="function"?Object.values:function(r){var t=[];for(var e in r)t.push(r[e]);return t};function Rn(r){var t;for(t in r)return!1;return!t}var lB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),fB=function(r){lB(t,r);function t(e){var A=r.call(this)||this;return A.eventTarget_=e,A.pendingRemovals_=null,A.dispatching_=null,A.listeners_=null,A}return t.prototype.addEventListener=function(e,A){if(!(!e||!A)){var n=this.listeners_||(this.listeners_={}),i=n[e]||(n[e]=[]);i.indexOf(A)===-1&&i.push(A)}},t.prototype.dispatchEvent=function(e){var A=typeof e=="string"?new UA(e):e,n=A.type;A.target||(A.target=this.eventTarget_||this);var i=this.listeners_&&this.listeners_[n],o;if(i){var a=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});n in a||(a[n]=0,s[n]=0),++a[n];for(var u=0,l=i.length;u<l;++u)if("handleEvent"in i[u]?o=i[u].handleEvent(A):o=i[u].call(this,A),o===!1||A.propagationStopped){o=!1;break}if(--a[n],a[n]===0){var f=s[n];for(delete s[n];f--;)this.removeEventListener(n,Jr);delete a[n]}return o}},t.prototype.disposeInternal=function(){this.listeners_&&Pi(this.listeners_)},t.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},t.prototype.hasListener=function(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1},t.prototype.removeEventListener=function(e,A){var n=this.listeners_&&this.listeners_[e];if(n){var i=n.indexOf(A);i!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[i]=Jr,++this.pendingRemovals_[e]):(n.splice(i,1),n.length===0&&delete this.listeners_[e]))}},t}(cu),Ln=fB,$={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Ve(r,t,e,A,n){if(A&&A!==r&&(e=e.bind(A)),n){var i=e;e=function(){r.removeEventListener(t,e),i.apply(this,arguments)}}var o={target:r,type:t,listener:e};return r.addEventListener(t,e),o}function na(r,t,e,A){return Ve(r,t,e,A,!0)}function it(r){r&&r.target&&(r.target.removeEventListener(r.type,r.listener),Pi(r))}var hB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),ia=function(r){hB(t,r);function t(){var e=r.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return t.prototype.changed=function(){++this.revision_,this.dispatchEvent($.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.onInternal=function(e,A){if(Array.isArray(e)){for(var n=e.length,i=new Array(n),o=0;o<n;++o)i[o]=Ve(this,e[o],A);return i}else return Ve(this,e,A)},t.prototype.onceInternal=function(e,A){var n;if(Array.isArray(e)){var i=e.length;n=new Array(i);for(var o=0;o<i;++o)n[o]=na(this,e[o],A)}else n=na(this,e,A);return A.ol_key=n,n},t.prototype.unInternal=function(e,A){var n=A.ol_key;if(n)cB(n);else if(Array.isArray(e))for(var i=0,o=e.length;i<o;++i)this.removeEventListener(e[i],A);else this.removeEventListener(e,A)},t}(Ln);ia.prototype.on;ia.prototype.once;ia.prototype.un;function cB(r){if(Array.isArray(r))for(var t=0,e=r.length;t<e;++t)it(r[t]);else it(r)}var Ac=ia,rc=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),nc=function(r){rc(t,r);function t(e,A,n){var i=r.call(this,e)||this;return i.key=A,i.oldValue=n,i}return t}(UA),dB=function(r){rc(t,r);function t(e){var A=r.call(this)||this;return A.on,A.once,A.un,be(A),A.values_=null,e!==void 0&&A.setProperties(e),A}return t.prototype.get=function(e){var A;return this.values_&&this.values_.hasOwnProperty(e)&&(A=this.values_[e]),A},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&Ae({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(e,A){var n;n="change:"+e,this.dispatchEvent(new nc(n,e,A)),n=jr.PROPERTYCHANGE,this.dispatchEvent(new nc(n,e,A))},t.prototype.addChangeListener=function(e,A){this.addEventListener("change:"+e,A)},t.prototype.removeChangeListener=function(e,A){this.removeEventListener("change:"+e,A)},t.prototype.set=function(e,A,n){var i=this.values_||(this.values_={});if(n)i[e]=A;else{var o=i[e];i[e]=A,o!==A&&this.notify(e,o)}},t.prototype.setProperties=function(e,A){for(var n in e)this.set(n,e[n],A)},t.prototype.applyProperties=function(e){!e.values_||Ae(this.values_||(this.values_={}),e.values_)},t.prototype.unset=function(e,A){if(this.values_&&e in this.values_){var n=this.values_[e];delete this.values_[e],Rn(this.values_)&&(this.values_=null),A||this.notify(e,n)}},t}(Ac),SA=dB,oa="ol-hidden",pB="ol-selectable",Mn="ol-unselectable",gB="ol-unsupported",aa="ol-control",ic="ol-collapsed",vB=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),oc=["style","variant","weight","size","lineHeight","family"],ac=function(r){var t=r.match(vB);if(!t)return null;for(var e={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},A=0,n=oc.length;A<n;++A){var i=t[A+1];i!==void 0&&(e[oc[A]]=i)}return e.families=e.family.split(/,\s?/),e};function du(r){return r===1?"":String(Math.round(r*100)/100)}var sc="10px sans-serif",tr="#000",sa="round",Hi=[],Ni=0,Pn="round",Di=10,Gi="#000",bi="center",ua="middle",qr=[0,0,0,0],Ki=1,Ar=new SA,BB=new Ln;BB.setSize=function(){console.warn("labelCache is deprecated.")};var Hn=null,pu,gu={},yB=function(){var r=100,t="32px ",e=["monospace","serif"],A=e.length,n="wmytzilWMYTZIL@#/&?$%10\uF013",i,o;function a(u,l,f){for(var h=!0,c=0;c<A;++c){var d=e[c];if(o=la(u+" "+l+" "+t+d,n),f!=d){var p=la(u+" "+l+" "+t+f+","+d,n);h=h&&p!=o}}return!!h}function s(){for(var u=!0,l=Ar.getKeys(),f=0,h=l.length;f<h;++f){var c=l[f];Ar.get(c)<r&&(a.apply(this,c.split(`
`))?(Pi(gu),Hn=null,pu=void 0,Ar.set(c,r)):(Ar.set(c,Ar.get(c)+1,!0),u=!1))}u&&(clearInterval(i),i=void 0)}return function(u){var l=ac(u);if(!!l)for(var f=l.families,h=0,c=f.length;h<c;++h){var d=f[h],p=l.style+`
`+l.weight+`
`+d;Ar.get(p)===void 0&&(Ar.set(p,r,!0),a(l.style,l.weight,d)||(Ar.set(p,0,!0),i===void 0&&(i=setInterval(s,32))))}}}(),_B=function(){var r;return function(t){var e=gu[t];if(e==null){if(ea){var A=ac(t),n=uc(t,"\u017Dg"),i=isNaN(Number(A.lineHeight))?1.2:Number(A.lineHeight);e=i*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else r||(r=document.createElement("div"),r.innerHTML="M",r.style.minHeight="0",r.style.maxHeight="none",r.style.height="auto",r.style.padding="0",r.style.border="none",r.style.position="absolute",r.style.display="block",r.style.left="-99999px"),r.style.font=t,document.body.appendChild(r),e=r.offsetHeight,document.body.removeChild(r);gu[t]=e}return e}}();function uc(r,t){return Hn||(Hn=uA(1,1)),r!=pu&&(Hn.font=r,pu=Hn.font),Hn.measureText(t)}function la(r,t){return uc(r,t).width}function lc(r,t,e){if(t in e)return e[t];var A=la(r,t);return e[t]=A,A}function wB(r,t,e){for(var A=t.length,n=0,i=0;i<A;++i){var o=la(r,t[i]);n=Math.max(n,o),e.push(o)}return n}function mB(r,t,e,A,n,i,o,a,s,u,l){r.save(),e!==1&&(r.globalAlpha*=e),t&&r.setTransform.apply(r,t),A.contextInstructions?(r.translate(s,u),r.scale(l[0],l[1]),CB(A,r)):l[0]<0||l[1]<0?(r.translate(s,u),r.scale(l[0],l[1]),r.drawImage(A,n,i,o,a,0,0,o,a)):r.drawImage(A,n,i,o,a,s,u,o*l[0],a*l[1]),r.restore()}function CB(r,t){for(var e=r.contextInstructions,A=0,n=e.length;A<n;A+=2)Array.isArray(e[A+1])?t[e[A]].apply(t,e[A+1]):t[e[A]]=e[A+1]}var EB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),FB=function(r){EB(t,r);function t(e){var A=this,n=e.rotateWithView!==void 0?e.rotateWithView:!1;return A=r.call(this,{opacity:1,rotateWithView:n,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0]})||this,A.canvas_=void 0,A.hitDetectionCanvas_=null,A.fill_=e.fill!==void 0?e.fill:null,A.origin_=[0,0],A.points_=e.points,A.radius_=e.radius!==void 0?e.radius:e.radius1,A.radius2_=e.radius2,A.angle_=e.angle!==void 0?e.angle:0,A.stroke_=e.stroke!==void 0?e.stroke:null,A.anchor_=null,A.size_=null,A.renderOptions_=null,A.render(),A}return t.prototype.clone=function(){var e=this.getScale(),A=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice()});return A.setOpacity(this.getOpacity()),A},t.prototype.getAnchor=function(){return this.anchor_},t.prototype.getAngle=function(){return this.angle_},t.prototype.getFill=function(){return this.fill_},t.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},t.prototype.getImage=function(e){var A=this.canvas_[e];if(!A){var n=this.renderOptions_,i=uA(n.size*e,n.size*e);this.draw_(n,i,e),A=i.canvas,this.canvas_[e]=A}return A},t.prototype.getPixelRatio=function(e){return e},t.prototype.getImageSize=function(){return this.size_},t.prototype.getImageState=function(){return de.LOADED},t.prototype.getOrigin=function(){return this.origin_},t.prototype.getPoints=function(){return this.points_},t.prototype.getRadius=function(){return this.radius_},t.prototype.getRadius2=function(){return this.radius2_},t.prototype.getSize=function(){return this.size_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.listenImageChange=function(e){},t.prototype.load=function(){},t.prototype.unlistenImageChange=function(e){},t.prototype.calculateLineJoinSize_=function(e,A,n){if(A===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return A;var i=this.radius_,o=this.radius2_===void 0?i:this.radius2_;if(i<o){var a=i;i=o,o=a}var s=this.radius2_===void 0?this.points_:this.points_*2,u=2*Math.PI/s,l=o*Math.sin(u),f=Math.sqrt(o*o-l*l),h=i-f,c=Math.sqrt(l*l+h*h),d=c/l;if(e==="miter"&&d<=n)return d*A;var p=A/2/d,B=A/2*(h/c),g=Math.sqrt((i+p)*(i+p)+B*B),y=g-i;if(this.radius2_===void 0||e==="bevel")return y*2;var m=i*Math.sin(u),_=Math.sqrt(i*i-m*m),C=o-_,F=Math.sqrt(m*m+C*C),E=F/m;if(E<=n){var Q=E*A/2-o-i;return 2*Math.max(y,Q)}return y*2},t.prototype.createRenderOptions=function(){var e=Pn,A=0,n=null,i=0,o,a=0;this.stroke_&&(o=this.stroke_.getColor(),o===null&&(o=Gi),o=DA(o),a=this.stroke_.getWidth(),a===void 0&&(a=Ki),n=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),e===void 0&&(e=Pn),A=this.stroke_.getMiterLimit(),A===void 0&&(A=Di));var s=this.calculateLineJoinSize_(e,a,A),u=Math.max(this.radius_,this.radius2_||0),l=Math.ceil(2*u+s);return{strokeStyle:o,strokeWidth:a,size:l,lineDash:n,lineDashOffset:i,lineJoin:e,miterLimit:A}},t.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var e=this.renderOptions_.size,A=this.getDisplacement();this.canvas_={},this.anchor_=[e/2-A[0],e/2+A[1]],this.size_=[e,e]},t.prototype.draw_=function(e,A,n){if(A.scale(n,n),A.translate(e.size/2,e.size/2),this.createPath_(A),this.fill_){var i=this.fill_.getColor();i===null&&(i=tr),A.fillStyle=DA(i),A.fill()}this.stroke_&&(A.strokeStyle=e.strokeStyle,A.lineWidth=e.strokeWidth,A.setLineDash&&e.lineDash&&(A.setLineDash(e.lineDash),A.lineDashOffset=e.lineDashOffset),A.lineJoin=e.lineJoin,A.miterLimit=e.miterLimit,A.stroke())},t.prototype.createHitDetectionCanvas_=function(e){if(this.fill_){var A=this.fill_.getColor(),n=0;if(typeof A=="string"&&(A=Zh(A)),A===null?n=1:Array.isArray(A)&&(n=A.length===4?A[3]:1),n===0){var i=uA(e.size,e.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(e,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},t.prototype.createPath_=function(e){var A=this.points_,n=this.radius_;if(A===1/0)e.arc(0,0,n,0,2*Math.PI);else{var i=this.radius2_===void 0?n:this.radius2_;this.radius2_!==void 0&&(A*=2);for(var o=this.angle_-Math.PI/2,a=2*Math.PI/A,s=0;s<A;s++){var u=o+s*a,l=s%2==0?n:i;e.lineTo(l*Math.cos(u),l*Math.sin(u))}e.closePath()}},t.prototype.drawHitDetectionCanvas_=function(e,A){A.translate(e.size/2,e.size/2),this.createPath_(A),A.fillStyle=tr,A.fill(),this.stroke_&&(A.strokeStyle=e.strokeStyle,A.lineWidth=e.strokeWidth,e.lineDash&&(A.setLineDash(e.lineDash),A.lineDashOffset=e.lineDashOffset),A.lineJoin=e.lineJoin,A.miterLimit=e.miterLimit,A.stroke())},t}(Xh),vu=FB,QB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),IB=function(r){QB(t,r);function t(e){var A=this,n=e||{};return A=r.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:n.scale!==void 0?n.scale:1,rotation:n.rotation!==void 0?n.rotation:0,rotateWithView:n.rotateWithView!==void 0?n.rotateWithView:!1,displacement:n.displacement!==void 0?n.displacement:[0,0]})||this,A}return t.prototype.clone=function(){var e=this.getScale(),A=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return A.setOpacity(this.getOpacity()),A},t.prototype.setRadius=function(e){this.radius_=e,this.render()},t}(vu),Nn=IB,UB=function(){function r(t){var e=t||{};this.color_=e.color!==void 0?e.color:null}return r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0})},r.prototype.getColor=function(){return this.color_},r.prototype.setColor=function(t){this.color_=t},r}(),Ze=UB,Cr={FRACTION:"fraction",PIXELS:"pixels"},fA={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},SB=function(){function r(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return r.prototype.clear=function(){this.cache_={},this.cacheSize_=0},r.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},r.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var A=this.cache_[e];(t++&3)==0&&!A.hasListener()&&(delete this.cache_[e],--this.cacheSize_)}}},r.prototype.get=function(t,e,A){var n=fc(t,e,A);return n in this.cache_?this.cache_[n]:null},r.prototype.set=function(t,e,A,n){var i=fc(t,e,A);this.cache_[i]=n,++this.cacheSize_},r.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},r}();function fc(r,t,e){var A=e?jh(e):"null";return t+":"+r+":"+A}var fa=new SB,xB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),TB=function(r){xB(t,r);function t(e,A,n,i){var o=r.call(this)||this;return o.extent=e,o.pixelRatio_=n,o.resolution=A,o.state=i,o}return t.prototype.changed=function(){this.dispatchEvent($.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return Z()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){Z()},t}(Ln),hc=TB,ki={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Ut={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function hA(r){for(var t=tA(),e=0,A=r.length;e<A;++e)Xi(t,r[e]);return t}function OB(r,t,e){var A=Math.min.apply(null,r),n=Math.min.apply(null,t),i=Math.max.apply(null,r),o=Math.max.apply(null,t);return AA(A,n,i,o,e)}function ha(r,t,e){return e?(e[0]=r[0]-t,e[1]=r[1]-t,e[2]=r[2]+t,e[3]=r[3]+t,e):[r[0]-t,r[1]-t,r[2]+t,r[3]+t]}function cc(r,t){return t?(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t):r.slice()}function en(r,t,e){var A,n;return t<r[0]?A=r[0]-t:r[2]<t?A=t-r[2]:A=0,e<r[1]?n=r[1]-e:r[3]<e?n=e-r[3]:n=0,A*A+n*n}function Vi(r,t){return Bu(r,t[0],t[1])}function GA(r,t){return r[0]<=t[0]&&t[2]<=r[2]&&r[1]<=t[1]&&t[3]<=r[3]}function Bu(r,t,e){return r[0]<=t&&t<=r[2]&&r[1]<=e&&e<=r[3]}function yu(r,t){var e=r[0],A=r[1],n=r[2],i=r[3],o=t[0],a=t[1],s=Ut.UNKNOWN;return o<e?s=s|Ut.LEFT:o>n&&(s=s|Ut.RIGHT),a<A?s=s|Ut.BELOW:a>i&&(s=s|Ut.ABOVE),s===Ut.UNKNOWN&&(s=Ut.INTERSECTING),s}function tA(){return[1/0,1/0,-1/0,-1/0]}function AA(r,t,e,A,n){return n?(n[0]=r,n[1]=t,n[2]=e,n[3]=A,n):[r,t,e,A]}function Yi(r){return AA(1/0,1/0,-1/0,-1/0,r)}function ca(r,t){var e=r[0],A=r[1];return AA(e,A,e,A,t)}function dc(r,t,e,A,n){var i=Yi(n);return gc(i,r,t,e,A)}function Dn(r,t){return r[0]==t[0]&&r[2]==t[2]&&r[1]==t[1]&&r[3]==t[3]}function pc(r,t){return t[0]<r[0]&&(r[0]=t[0]),t[2]>r[2]&&(r[2]=t[2]),t[1]<r[1]&&(r[1]=t[1]),t[3]>r[3]&&(r[3]=t[3]),r}function Xi(r,t){t[0]<r[0]&&(r[0]=t[0]),t[0]>r[2]&&(r[2]=t[0]),t[1]<r[1]&&(r[1]=t[1]),t[1]>r[3]&&(r[3]=t[1])}function gc(r,t,e,A,n){for(;e<A;e+=n)RB(r,t[e],t[e+1]);return r}function RB(r,t,e){r[0]=Math.min(r[0],t),r[1]=Math.min(r[1],e),r[2]=Math.max(r[2],t),r[3]=Math.max(r[3],e)}function _u(r,t){var e;return e=t(Gn(r)),e||(e=t(Wi(r)),e)||(e=t(ji(r)),e)||(e=t(bA(r)),e)?e:!1}function wu(r){var t=0;return Zi(r)||(t=st(r)*Xt(r)),t}function Gn(r){return[r[0],r[1]]}function Wi(r){return[r[2],r[1]]}function rr(r){return[(r[0]+r[2])/2,(r[1]+r[3])/2]}function LB(r,t){var e;return t===ki.BOTTOM_LEFT?e=Gn(r):t===ki.BOTTOM_RIGHT?e=Wi(r):t===ki.TOP_LEFT?e=bA(r):t===ki.TOP_RIGHT?e=ji(r):ae(!1,13),e}function bn(r,t,e,A,n){var i=t*A[0]/2,o=t*A[1]/2,a=Math.cos(e),s=Math.sin(e),u=i*a,l=i*s,f=o*a,h=o*s,c=r[0],d=r[1],p=c-u+h,B=c-u-h,g=c+u-h,y=c+u+h,m=d-l-f,_=d-l+f,C=d+l+f,F=d+l-f;return AA(Math.min(p,B,g,y),Math.min(m,_,C,F),Math.max(p,B,g,y),Math.max(m,_,C,F),n)}function Xt(r){return r[3]-r[1]}function Er(r,t,e){var A=e||tA();return Ht(r,t)?(r[0]>t[0]?A[0]=r[0]:A[0]=t[0],r[1]>t[1]?A[1]=r[1]:A[1]=t[1],r[2]<t[2]?A[2]=r[2]:A[2]=t[2],r[3]<t[3]?A[3]=r[3]:A[3]=t[3]):Yi(A),A}function bA(r){return[r[0],r[3]]}function ji(r){return[r[2],r[3]]}function st(r){return r[2]-r[0]}function Ht(r,t){return r[0]<=t[2]&&r[2]>=t[0]&&r[1]<=t[3]&&r[3]>=t[1]}function Zi(r){return r[2]<r[0]||r[3]<r[1]}function MB(r,t){return t?(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t):r}function PB(r,t,e){var A=!1,n=yu(r,t),i=yu(r,e);if(n===Ut.INTERSECTING||i===Ut.INTERSECTING)A=!0;else{var o=r[0],a=r[1],s=r[2],u=r[3],l=t[0],f=t[1],h=e[0],c=e[1],d=(c-f)/(h-l),p=void 0,B=void 0;!!(i&Ut.ABOVE)&&!(n&Ut.ABOVE)&&(p=h-(c-u)/d,A=p>=o&&p<=s),!A&&!!(i&Ut.RIGHT)&&!(n&Ut.RIGHT)&&(B=c-(h-s)*d,A=B>=a&&B<=u),!A&&!!(i&Ut.BELOW)&&!(n&Ut.BELOW)&&(p=h-(c-a)/d,A=p>=o&&p<=s),!A&&!!(i&Ut.LEFT)&&!(n&Ut.LEFT)&&(B=c-(h-o)*d,A=B>=a&&B<=u)}return A}function HB(r,t,e,A){var n=[];if(A>1)for(var i=r[2]-r[0],o=r[3]-r[1],a=0;a<A;++a)n.push(r[0]+i*a/A,r[1],r[2],r[1]+o*a/A,r[2]-i*a/A,r[3],r[0],r[3]-o*a/A);else n=[r[0],r[1],r[2],r[1],r[2],r[3],r[0],r[3]];t(n,n,2);for(var s=[],u=[],a=0,l=n.length;a<l;a+=2)s.push(n[a]),u.push(n[a+1]);return OB(s,u,e)}function NB(r,t){var e=t.getExtent(),A=rr(r);if(t.canWrapX()&&(A[0]<e[0]||A[0]>=e[2])){var n=st(e),i=Math.floor((A[0]-e[0])/n),o=i*n;r[0]-=o,r[2]-=o}return r}var DB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),GB=function(r){DB(t,r);function t(e,A,n,i,o,a){var s=r.call(this,e,A,n,de.IDLE)||this;return s.src_=i,s.image_=new Image,o!==null&&(s.image_.crossOrigin=o),s.unlisten_=null,s.state=de.IDLE,s.imageLoadFunction_=a,s}return t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=de.ERROR,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=Xt(this.extent)/this.image_.height),this.state=de.LOADED,this.unlistenImage_(),this.changed()},t.prototype.load=function(){(this.state==de.IDLE||this.state==de.ERROR)&&(this.state=de.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=mu(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(e){this.image_=e,this.resolution=Xt(this.extent)/this.image_.height},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(hc);function mu(r,t,e){var A=r;if(A.src&&q1){var n=A.decode(),i=!0,o=function(){i=!1};return n.then(function(){i&&t()}).catch(function(s){i&&(s.name==="EncodingError"&&s.message==="Invalid image type."?t():e())}),o}var a=[na(A,$.LOAD,t),na(A,$.ERROR,e)];return function(){a.forEach(it)}}var bB=GB,KB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),zi=null,kB=function(r){KB(t,r);function t(e,A,n,i,o,a){var s=r.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,i!==null&&(s.image_.crossOrigin=i),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=n,s.src_=A,s.tainted_,s}return t.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===de.LOADED){zi||(zi=uA(1,1)),zi.drawImage(this.image_,0,0);try{zi.getImageData(0,0,1,1),this.tainted_=!1}catch(e){zi=null,this.tainted_=!0}}return this.tainted_===!0},t.prototype.dispatchChangeEvent_=function(){this.dispatchEvent($.CHANGE)},t.prototype.handleImageError_=function(){this.imageState_=de.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.handleImageLoad_=function(){this.imageState_=de.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.getImage=function(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_},t.prototype.getPixelRatio=function(e){return this.replaceColor_(e),this.canvas_[e]?e:1},t.prototype.getImageState=function(){return this.imageState_},t.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],A=this.size_[1],n=uA(e,A);n.fillRect(0,0,e,A),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},t.prototype.getSize=function(){return this.size_},t.prototype.getSrc=function(){return this.src_},t.prototype.load=function(){if(this.imageState_==de.IDLE){this.imageState_=de.LOADING;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=mu(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},t.prototype.replaceColor_=function(e){if(!(!this.color_||this.canvas_[e]||this.imageState_!==de.LOADED)){var A=document.createElement("canvas");this.canvas_[e]=A,A.width=Math.ceil(this.image_.width*e),A.height=Math.ceil(this.image_.height*e);var n=A.getContext("2d");if(n.scale(e,e),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply",n.globalCompositeOperation==="multiply"||this.isTainted_())n.fillStyle=jh(this.color_),n.fillRect(0,0,A.width/e,A.height/e),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var i=n.getImageData(0,0,A.width,A.height),o=i.data,a=this.color_[0]/255,s=this.color_[1]/255,u=this.color_[2]/255,l=this.color_[3],f=0,h=o.length;f<h;f+=4)o[f]*=a,o[f+1]*=s,o[f+2]*=u,o[f+3]*=l;n.putImageData(i,0,0)}}},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(Ln);function VB(r,t,e,A,n,i){var o=fa.get(t,A,i);return o||(o=new kB(r,t,e,A,n,i),fa.set(t,A,i,o)),o}var YB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),XB=function(r){YB(t,r);function t(e){var A=this,n=e||{},i=n.opacity!==void 0?n.opacity:1,o=n.rotation!==void 0?n.rotation:0,a=n.scale!==void 0?n.scale:1,s=n.rotateWithView!==void 0?n.rotateWithView:!1;A=r.call(this,{opacity:i,rotation:o,scale:a,displacement:n.displacement!==void 0?n.displacement:[0,0],rotateWithView:s})||this,A.anchor_=n.anchor!==void 0?n.anchor:[.5,.5],A.normalizedAnchor_=null,A.anchorOrigin_=n.anchorOrigin!==void 0?n.anchorOrigin:fA.TOP_LEFT,A.anchorXUnits_=n.anchorXUnits!==void 0?n.anchorXUnits:Cr.FRACTION,A.anchorYUnits_=n.anchorYUnits!==void 0?n.anchorYUnits:Cr.FRACTION,A.crossOrigin_=n.crossOrigin!==void 0?n.crossOrigin:null;var u=n.img!==void 0?n.img:null,l=n.imgSize!==void 0?n.imgSize:null,f=n.src;ae(!(f!==void 0&&u),4),ae(!u||u&&l,5),(f===void 0||f.length===0)&&u&&(f=u.src||be(u)),ae(f!==void 0&&f.length>0,6);var h=n.src!==void 0?de.IDLE:de.LOADED;return A.color_=n.color!==void 0?Zh(n.color):null,A.iconImage_=VB(u,f,l,A.crossOrigin_,h,A.color_),A.offset_=n.offset!==void 0?n.offset:[0,0],A.offsetOrigin_=n.offsetOrigin!==void 0?n.offsetOrigin:fA.TOP_LEFT,A.origin_=null,A.size_=n.size!==void 0?n.size:null,A}return t.prototype.clone=function(){var e=this.getScale();return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:this.size_!==null?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},t.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var e=this.anchor_,A=this.getSize();if(this.anchorXUnits_==Cr.FRACTION||this.anchorYUnits_==Cr.FRACTION){if(!A)return null;e=this.anchor_.slice(),this.anchorXUnits_==Cr.FRACTION&&(e[0]*=A[0]),this.anchorYUnits_==Cr.FRACTION&&(e[1]*=A[1])}if(this.anchorOrigin_!=fA.TOP_LEFT){if(!A)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_==fA.TOP_RIGHT||this.anchorOrigin_==fA.BOTTOM_RIGHT)&&(e[0]=-e[0]+A[0]),(this.anchorOrigin_==fA.BOTTOM_LEFT||this.anchorOrigin_==fA.BOTTOM_RIGHT)&&(e[1]=-e[1]+A[1])}var n=this.getDisplacement();return e[0]-=n[0],e[1]+=n[1],this.normalizedAnchor_=e,this.normalizedAnchor_},t.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(e){return this.iconImage_.getImage(e)},t.prototype.getPixelRatio=function(e){return this.iconImage_.getPixelRatio(e)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if(this.offsetOrigin_!=fA.TOP_LEFT){var A=this.getSize(),n=this.iconImage_.getSize();if(!A||!n)return null;e=e.slice(),(this.offsetOrigin_==fA.TOP_RIGHT||this.offsetOrigin_==fA.BOTTOM_RIGHT)&&(e[0]=n[0]-A[0]-e[0]),(this.offsetOrigin_==fA.BOTTOM_LEFT||this.offsetOrigin_==fA.BOTTOM_RIGHT)&&(e[1]=n[1]-A[1]-e[1])}return this.origin_=e,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(e){this.iconImage_.addEventListener($.CHANGE,e)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener($.CHANGE,e)},t}(Xh),vc=XB,WB=function(){function r(t){var e=t||{};this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(t){this.color_=t},r.prototype.setLineCap=function(t){this.lineCap_=t},r.prototype.setLineDash=function(t){this.lineDash_=t},r.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},r.prototype.setLineJoin=function(t){this.lineJoin_=t},r.prototype.setMiterLimit=function(t){this.miterLimit_=t},r.prototype.setWidth=function(t){this.width_=t},r}(),zt=WB,U={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},Kn=function(){function r(t){var e=t||{};this.geometry_=null,this.geometryFunction_=yc,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}return r.prototype.clone=function(){var t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new r({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},r.prototype.getRenderer=function(){return this.renderer_},r.prototype.setRenderer=function(t){this.renderer_=t},r.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},r.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},r.prototype.getGeometry=function(){return this.geometry_},r.prototype.getGeometryFunction=function(){return this.geometryFunction_},r.prototype.getFill=function(){return this.fill_},r.prototype.setFill=function(t){this.fill_=t},r.prototype.getImage=function(){return this.image_},r.prototype.setImage=function(t){this.image_=t},r.prototype.getStroke=function(){return this.stroke_},r.prototype.setStroke=function(t){this.stroke_=t},r.prototype.getText=function(){return this.text_},r.prototype.setText=function(t){this.text_=t},r.prototype.getZIndex=function(){return this.zIndex_},r.prototype.setGeometry=function(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(e){return e.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=yc,this.geometry_=t},r.prototype.setZIndex=function(t){this.zIndex_=t},r}();function jB(r){var t;if(typeof r=="function")t=r;else{var e;if(Array.isArray(r))e=r;else{ae(typeof r.getZIndex=="function",41);var A=r;e=[A]}t=function(){return e}}return t}var Cu=null;function ZB(r,t){if(!Cu){var e=new Ze({color:"rgba(255,255,255,0.4)"}),A=new zt({color:"#3399CC",width:1.25});Cu=[new Kn({image:new Nn({fill:e,stroke:A,radius:5}),fill:e,stroke:A})]}return Cu}function Bc(){var r={},t=[255,255,255,1],e=[0,153,255,1],A=3;return r[U.POLYGON]=[new Kn({fill:new Ze({color:[255,255,255,.5]})})],r[U.MULTI_POLYGON]=r[U.POLYGON],r[U.LINE_STRING]=[new Kn({stroke:new zt({color:t,width:A+2})}),new Kn({stroke:new zt({color:e,width:A})})],r[U.MULTI_LINE_STRING]=r[U.LINE_STRING],r[U.CIRCLE]=r[U.POLYGON].concat(r[U.LINE_STRING]),r[U.POINT]=[new Kn({image:new Nn({radius:A*2,fill:new Ze({color:e}),stroke:new zt({color:t,width:A/2})}),zIndex:1/0})],r[U.MULTI_POINT]=r[U.POINT],r[U.GEOMETRY_COLLECTION]=r[U.POLYGON].concat(r[U.LINE_STRING],r[U.POINT]),r}function yc(r){return r.getGeometry()}var ht=Kn,_c={POINT:"point",LINE:"line"},zB="#333",$B=function(){function r(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=eA(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Ze({color:zB}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:_c.POINT,this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding}return r.prototype.clone=function(){var t=this.getScale();return new r({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},r.prototype.getOverflow=function(){return this.overflow_},r.prototype.getFont=function(){return this.font_},r.prototype.getMaxAngle=function(){return this.maxAngle_},r.prototype.getPlacement=function(){return this.placement_},r.prototype.getOffsetX=function(){return this.offsetX_},r.prototype.getOffsetY=function(){return this.offsetY_},r.prototype.getFill=function(){return this.fill_},r.prototype.getRotateWithView=function(){return this.rotateWithView_},r.prototype.getRotation=function(){return this.rotation_},r.prototype.getScale=function(){return this.scale_},r.prototype.getScaleArray=function(){return this.scaleArray_},r.prototype.getStroke=function(){return this.stroke_},r.prototype.getText=function(){return this.text_},r.prototype.getTextAlign=function(){return this.textAlign_},r.prototype.getTextBaseline=function(){return this.textBaseline_},r.prototype.getBackgroundFill=function(){return this.backgroundFill_},r.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},r.prototype.getPadding=function(){return this.padding_},r.prototype.setOverflow=function(t){this.overflow_=t},r.prototype.setFont=function(t){this.font_=t},r.prototype.setMaxAngle=function(t){this.maxAngle_=t},r.prototype.setOffsetX=function(t){this.offsetX_=t},r.prototype.setOffsetY=function(t){this.offsetY_=t},r.prototype.setPlacement=function(t){this.placement_=t},r.prototype.setRotateWithView=function(t){this.rotateWithView_=t},r.prototype.setFill=function(t){this.fill_=t},r.prototype.setRotation=function(t){this.rotation_=t},r.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=eA(t!==void 0?t:1)},r.prototype.setStroke=function(t){this.stroke_=t},r.prototype.setText=function(t){this.text_=t},r.prototype.setTextAlign=function(t){this.textAlign_=t},r.prototype.setTextBaseline=function(t){this.textBaseline_=t},r.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},r.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},r.prototype.setPadding=function(t){this.padding_=t},r}(),cA=$B;const da={map:null,view:null,mapAll:{}},JB=r=>{da.map=r},qB=r=>{da.mapAll=r},$i=()=>da.map,pa=()=>da.mapAll,kn=(r,t)=>ey(r,t),wc=(r,t)=>{let e;return r<=3.3&&r>1.5?e="./assets/wind/2-3LevelWind.png":r<=5.4?e="./assets/wind/3-4LevelWind.png":r<=7.9?e="./assets/wind/4-5LevelWind.png":r<=10.7?e="./assets/wind/5-6LevelWind.png":r<=13.8?e="./assets/wind/6-7LevelWind.png":r<=17.1?e="./assets/wind/7-8LevelWind.png":r<=20.7?e="./assets/wind/8-9LevelWind.png":r<=24.4?e="./assets/wind/9-10LevelWind.png":r<=28.4?e="./assets/wind/10-11LevelWind.png":(r<=32.6||r<=100)&&(e="./assets/wind/11-12LevelWind.png"),new vc({anchor:[.5,.5],src:e,anchorXUnits:"fraction",anchorYUnits:"fraction",rotation:t*Math.PI/180,size:[27,54],rotateWithView:!1})},ey=(r,t)=>{const e=r;return{stationName:new cA({font:"Bold 10px/1 'Open Sans'",textAlign:"center",textBaseline:"top",text:e.stationName,offsetY:5}),tem:new cA({font:"Bold 10px/1 'Open Sans'",textAlign:"center",textBaseline:"top",text:e.tem!=null&&e.tem<999999?e.tem.toString():"",offsetY:-5,offsetX:-20,fill:new Ze({color:"blue"})}),vis:new cA({font:"Bold 10px/1 'Open Sans'",textAlign:"center",textBaseline:"top",text:e.vis!=null&&e.vis>0&&e.vis<999999?e.vis.toString():"",offsetY:10,offsetX:25,fill:new Ze({color:"#9966FF"})}),rhu:new cA({font:"Bold 10px/1 'Open Sans'",textAlign:"center",textBaseline:"top",text:e.rhu!=null&&e.rhu>=0?e.rhu.toString():"",offsetY:-5,offsetX:20,fill:new Ze({color:"gray"})}),gst:new cA({font:"Bold 10px/1 'Open Sans'",textAlign:"center",textBaseline:"top",text:e.gst!=null&&e.gst<100?e.gst.toString():"",offsetY:-20,offsetX:-20,fill:new Ze({color:"orange"})}),snowDepth:new cA({font:"Bold 10px/1 'Open Sans'",textAlign:"center",textBaseline:"top",text:e.snowDepth!=null&&e.snowDepth<100&&e.snowDepth>0?e.snowDepth.toString():"",offsetY:15,offsetX:0,fill:new Ze({color:"orange"})})}[t]},ty=(r,t)=>new cA({font:"Bold 10px/1 'Open Sans'",textAlign:"center",textBaseline:"top",text:r[t]!=null&&r[t]>0&&r[t]<100?r[t].toString():"",offsetY:10,offsetX:-20,fill:new Ze({color:"green"})}),mc=(r,t)=>{const e=r.get("attributes");if(t.stationType==="")return;if(e.stationType!=t.stationType&&t.stationType!="all")return;const A=new ht({image:new Nn({radius:t.station?4:0,fill:new Ze({color:"rgba(255, 0, 0, 0.9)"}),stroke:new zt({color:"red",width:1})}),text:kn(e,t.stationName)}),n=new ht({text:kn(e,t.tem)}),i=new ht({text:ty(e,t.rain&&t.hourRain?t.hourRain:t.rain)}),o=new ht({image:wc(e.winSAvg10,e.winDAvg10)}),a=new ht({text:kn(e,t.vis)}),s=new ht({text:kn(e,t.rhu)}),u=new ht({text:kn(e,t.gst)}),l=new ht({image:wc(e.winSInstMax,e.winDInstMax)}),f=new ht({text:kn(e,t.snowDepth)}),h=[A,n,i,a,s,u,f];return t.avgWind&&h.push(o),t.extremeWind&&h.push(l),h},Ay=(r,t)=>new ht({fill:new Ze({color:"rgba("+Cc(r.get("attributes").value,t)+")"}),stroke:new zt({color:"rgba("+Cc(r.get("attributes").value,t)+")",width:.1})}),ry=new ht({fill:new Ze({color:"rgba(255, 255, 255, 0.1)"}),stroke:new zt({color:"#FF0000",width:2})}),ny=r=>new ht({text:new cA({text:r,font:"12px Calibri,sans-serif",fill:new Ze({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new Ze({color:"rgba(0, 0, 0, 0.4)"}),padding:[2,2,2,2],textAlign:"left",offsetX:15})}),Cc=(r,t)=>{let e;for(let A=0;A<t.length-1;A++){const n=t[A].value,i=t[A+1].value;if(r>=n&&r<i){e=t[A].r+","+t[A].g+","+t[A].b+",0.5";break}else if(r>=t[t.length-1].value){e=t[t.length-1].r+","+t[t.length-1].g+","+t[t.length-1].b+",0.5";break}}return e},iy=(r,t)=>{var e=r[0],A=r[1];if(!(e<t.header.lo1||e>t.header.lo2||A<t.header.la1||A>t.header.la2)){var n=Math.floor((e-t.header.lo1)/t.header.dx),i=Math.floor((t.header.la2-A)/t.header.dy),o,a;o=t.data[i][n][0],a=t.data[i][n][1];var s=Math.sqrt(Math.pow(o,2)+Math.pow(a,2)),u=ay(o,a),l={direction:oy(u),level:sy(s),speed:s.toFixed(2)};return l}},oy=r=>{if(r>=0&&r<=22.5||r<=360&&r>337.5)return"\u5317\u98CE";if(r<=337.5&&r>292.5)return"\u897F\u5317\u98CE";if(r<=292.5&&r>247.5)return"\u897F\u98CE";if(r<=247.5&&r>202.5)return"\u897F\u5357\u98CE";if(r<=202.5&&r>157.5)return"\u5357\u98CE";if(r<=157.5&&r>112.5)return"\u4E1C\u5357\u98CE";if(r<=112.5&&r>67.5)return"\u4E1C\u98CE";if(r<=67.5&&r>22.5)return"\u4E1C\u5317\u98CE"},ay=(r,t)=>{var e=0;return r>0&t>0?e=270-Math.atan(t/r)*180/Math.PI:r<0&t>0||r<0&t<0?e=90-Math.atan(t/r)*180/Math.PI:r>0&t<0?e=270-Math.atan(t/r)*180/Math.PI:r==0&t>0?e=180:r==0&t<0?e=0:r>0&t==0?e=270:r<0&t==0?e=90:r==0&t==0&&(e=999.9),e},sy=r=>{if(r<.3)return 0;if(r>=.3&&r<1.6)return 1;if(r>=1.6&&r<3.4)return 2;if(r>=3.4&&r<5.5)return 3;if(r>=5.5&&r<8)return 4;if(r>=8&&r<10.8)return 5;if(r>=10.8&&r<13.9)return 6;if(r>=13.9&&r<17.2)return 7;if(r>=17.2&&r<20.8)return 8;if(r>=20.8&&r<24.5)return 9;if(r>=24.5&&r<28.5)return 10;if(r>=28.5&&r<32.7)return 11;if(r>=32.7&&r<37)return 12;if(r>=37&&r<41.5)return 13;if(r>=41.5&&r<46.2)return 14;if(r>=46.2&&r<51)return 15;if(r>=51&&r<56.1)return 16;if(r>=56.1&&r<61.2)return 17;if(r>=61.2)return 18},uy=(r,t)=>new ht({fill:new Ze({color:t.colors[parseFloat(r.get("value").split("-")[1])*10]})}),ly=new ht({fill:new Ze({color:"black"})}),fy=r=>new ht({fill:new Ze({color:r}),stroke:new zt({color:r,width:3})}),hy=new ht({fill:new Ze({color:"rgba(255, 255, 255, 0.2)"}),stroke:new zt({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new Nn({radius:5,stroke:new zt({color:"rgba(0, 0, 0, 0.7)"}),fill:new Ze({color:"rgba(255, 255, 255, 0.2)"})})}),cy=new ht({fill:new Ze({color:"rgba(0, 255, 255, 0.2)"}),stroke:new zt({color:"#ffcc33",width:2}),image:new Nn({radius:7,fill:new Ze({color:"#ffcc33"})})}),Eu=new ht({text:new cA({font:"14px Calibri,sans-serif",fill:new Ze({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new Ze({color:"rgba(0, 0, 0, 0.7)"}),padding:[3,3,3,3],textBaseline:"bottom",offsetY:-15}),image:new vu({radius:8,points:3,angle:Math.PI,displacement:[0,10],fill:new Ze({color:"rgba(0, 0, 0, 0.7)"})})}),Ec=new ht({text:new cA({font:"12px Calibri,sans-serif",fill:new Ze({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new Ze({color:"rgba(0, 0, 0, 0.4)"}),padding:[2,2,2,2],textAlign:"left",offsetX:15})}),Fu=new ht({image:new Nn({radius:5,stroke:new zt({color:"rgba(0, 0, 0, 0.7)"}),fill:new Ze({color:"rgba(0, 0, 0, 0.4)"})}),text:new cA({text:"\u62D6\u62FD\u4FEE\u6539",font:"12px Calibri,sans-serif",fill:new Ze({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new Ze({color:"rgba(0, 0, 0, 0.7)"}),padding:[2,2,2,2],textAlign:"left",offsetX:15})}),Fc=new ht({text:new cA({font:"12px Calibri,sans-serif",fill:new Ze({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new Ze({color:"rgba(0, 0, 0, 0.4)"}),padding:[2,2,2,2],textBaseline:"bottom",offsetY:-12}),image:new vu({radius:6,points:3,angle:Math.PI,displacement:[0,8],fill:new Ze({color:"rgba(0, 0, 0, 0.4)"})})});/*!
 * author: [object Object] 
 * @sakitam-gis/kriging v0.1.0
 * build-time: 2019-7-6 20:41
 * LICENSE: MIT
 * (c) 2019-2019 https://github.com/sakitam-gis/kriging.js
 */function dy(r){return Math.max.apply(null,r)}function py(r){return Math.min.apply(null,r)}function ga(r,t){for(var e=[],A=0;A<t;A++)e.push(r);return e}function gy(r,t,e){for(var A=0,n=r.length-1,i=!1,o=r.length;A<o;n=A++)r[A][1]>e!=r[n][1]>e&&t<(r[n][0]-r[A][0])*(e-r[A][1])/(r[n][1]-r[A][1])+r[A][0]&&(i=!i);return i}function Qc(r,t){for(var e=0,A=ga(0,t*t);e<t;e++)A[e*t+e]=r;return A}function vy(r,t,e){for(var A=0,n,i=Array(e*t);A<t;A++)for(n=0;n<e;n++)i[n*t+A]=r[A*e+n];return i}function Ic(r,t,e,A){for(var n=0,i,o=Array(e*A);n<e;n++)for(i=0;i<A;i++)o[n*A+i]=r[n*A+i]+t[n*A+i];return o}function Ji(r,t,e,A,n){for(var i=0,o,a,s=Array(e*n);i<e;i++)for(o=0;o<n;o++)for(s[i*n+o]=0,a=0;a<A;a++)s[i*n+o]+=r[i*A+a]*t[a*n+o];return s}function Uc(r,t){var e,A,n,i=Array(t);for(e=0;e<t;e++)i[e]=r[e*t+e];for(e=0;e<t;e++){for(A=0;A<e;A++)i[e]-=r[e*t+A]*r[e*t+A];if(i[e]<=0)return!1;for(i[e]=Math.sqrt(i[e]),A=e+1;A<t;A++){for(n=0;n<e;n++)r[A*t+e]-=r[A*t+n]*r[e*t+n];r[A*t+e]/=i[e]}}for(e=0;e<t;e++)r[e*t+e]=i[e];return!0}function Sc(r,t){var e,A,n,i;for(e=0;e<t;e++)for(r[e*t+e]=1/r[e*t+e],A=e+1;A<t;A++){for(i=0,n=e;n<A;n++)i-=r[A*t+n]*r[n*t+e];r[A*t+e]=i/r[A*t+A]}for(e=0;e<t;e++)for(A=e+1;A<t;A++)r[e*t+A]=0;for(e=0;e<t;e++){for(r[e*t+e]*=r[e*t+e],n=e+1;n<t;n++)r[e*t+e]+=r[n*t+e]*r[n*t+e];for(A=e+1;A<t;A++)for(n=A;n<t;n++)r[e*t+A]+=r[n*t+e]*r[n*t+A]}for(e=0;e<t;e++)for(A=0;A<e;A++)r[e*t+A]=r[A*t+e]}function xc(r,t){var e=t,A=Array(t*t),n=Array(t),i=Array(t),o=Array(t),a,s=0,u=0,l,f,h,c,d,p,B,g;for(a=0;a<t;a++)for(l=0;l<t;l++)a===l?A[a*t+l]=1:A[a*t+l]=0;for(l=0;l<t;l++)o[l]=0;for(a=0;a<t;a++){for(d=0,l=0;l<t;l++)if(o[l]!==1)for(f=0;f<t;f++)o[f]===0&&Math.abs(r[l*t+f])>=d&&(d=Math.abs(r[l*t+f]),u=l,s=f);if(++o[s],u!==s){for(h=0;h<t;h++)g=r[u*t+h],r[u*t+h]=r[s*t+h],r[s*t+h]=g;for(h=0;h<e;h++)g=A[u*t+h],A[u*t+h]=A[s*t+h],A[s*t+h]=g}if(i[a]=u,n[a]=s,r[s*t+s]===0)return!1;for(B=1/r[s*t+s],r[s*t+s]=1,h=0;h<t;h++)r[s*t+h]*=B;for(h=0;h<e;h++)A[s*t+h]*=B;for(c=0;c<t;c++)if(c!==s){for(p=r[c*t+s],r[c*t+s]=0,h=0;h<t;h++)r[c*t+h]-=r[s*t+h]*p;for(h=0;h<e;h++)A[c*t+h]-=A[s*t+h]*p}}for(h=t-1;h>=0;h--)if(i[h]!==n[h])for(f=0;f<t;f++)g=r[f*t+i[h]],r[f*t+i[h]]=r[f*t+n[h]],r[f*t+n[h]]=g;return!0}function By(r,t,e,A,n){return t+(A-t)/e*(1-Math.exp(-(1/n)*Math.pow(r/e,2)))}function Qu(r,t,e,A,n){return t+(A-t)/e*(1-Math.exp(-(1/n)*(r/e)))}function yy(r,t,e,A){return r>e?t+(A-t)/e:t+(A-t)/e*(1.5*(r/e)-.5*Math.pow(r/e,3))}function _y(r,t,e,A,n,i){var o={t:r,x:t,y:e,nugget:0,range:0,sill:0,A:1/3,n:0,model:Qu,K:[],M:[]};switch(A){case"gaussian":o.model=By;break;case"exponential":o.model=Qu;break;case"spherical":o.model=yy;break;default:o.model=Qu}var a,s,u,l,f=r.length,h=Array((f*f-f)/2);for(a=0,u=0;a<f;a++)for(s=0;s<a;s++,u++)h[u]=Array(2),h[u][0]=Math.pow(Math.pow(t[a]-t[s],2)+Math.pow(e[a]-e[s],2),.5),h[u][1]=Math.abs(r[a]-r[s]);h.sort(function(P,Y){return P[0]-Y[0]}),o.range=h[(f*f-f)/2-1][0];var c=(f*f-f)/2>30?30:(f*f-f)/2,d=o.range/c,p=ga(0,c),B=ga(0,c);if(c<30)for(l=0;l<c;l++)p[l]=h[l][0],B[l]=h[l][1];else{for(a=0,s=0,u=0,l=0;a<c&&s<(f*f-f)/2;a++,u=0){for(;h[s][0]<=(a+1)*d&&(p[l]+=h[s][0],B[l]+=h[s][1],s++,u++,!(s>=(f*f-f)/2)););u>0&&(p[l]/=u,B[l]/=u,l++)}if(l<2)return o}f=l,o.range=p[f-1]-p[0];var g=ga(1,2*f),y=Array(f),m=o.A;for(a=0;a<f;a++){switch(A){case"gaussian":g[a*2+1]=1-Math.exp(-(1/m)*Math.pow(p[a]/o.range,2));break;case"exponential":g[a*2+1]=1-Math.exp(-(1/m)*p[a]/o.range);break;case"spherical":g[a*2+1]=1.5*(p[a]/o.range)-.5*Math.pow(p[a]/o.range,3);break}y[a]=B[a]}var _=vy(g,f,2),C=Ji(_,g,2,f,2);C=Ic(C,Qc(1/i,2),2,2);var F=C.slice(0);Uc(C,2)?Sc(C,2):(xc(F,2),C=F);var E=Ji(Ji(C,_,2,2,f),y,2,f,1);o.nugget=E[0],o.sill=E[1]*o.range+o.nugget,o.n=t.length,f=t.length;var Q=Array(f*f);for(a=0;a<f;a++){for(s=0;s<a;s++)Q[a*f+s]=o.model(Math.pow(Math.pow(t[a]-t[s],2)+Math.pow(e[a]-e[s],2),.5),o.nugget,o.range,o.sill,o.A),Q[s*f+a]=Q[a*f+s];Q[a*f+a]=o.model(0,o.nugget,o.range,o.sill,o.A)}var w=Ic(Q,Qc(n,f),f,f),T=w.slice(0);Uc(w,f)?Sc(w,f):(xc(T,f),w=T);var O=w.slice(0),L=Ji(w,r,f,f,1);return o.K=O,o.M=L,o}function wy(r,t,e){var A,n=Array(e.n);for(A=0;A<e.n;A++)n[A]=e.model(Math.pow(Math.pow(r-e.x[A],2)+Math.pow(t-e.y[A],2),.5),e.nugget,e.range,e.sill,e.A);return Ji(n,e.M,1,e.n,1)[0]}function my(r,t,e){var A,n,i,o=r.length;if(o!==0){var a=[r[0][0][0],r[0][0][0]],s=[r[0][0][1],r[0][0][1]];for(A=0;A<o;A++)for(n=0;n<r[A].length;n++)r[A][n][0]<a[0]&&(a[0]=r[A][n][0]),r[A][n][0]>a[1]&&(a[1]=r[A][n][0]),r[A][n][1]<s[0]&&(s[0]=r[A][n][1]),r[A][n][1]>s[1]&&(s[1]=r[A][n][1]);var u,l,f=Array(2),h=Array(2),c=Array(2),d=Array(2),p=Math.ceil((a[1]-a[0])/e),B=Math.ceil((s[1]-s[0])/e),g=Array(p+1);for(A=0;A<=p;A++)g[A]=Array(B+1);for(A=0;A<o;A++){for(c[0]=r[A][0][0],c[1]=c[0],d[0]=r[A][0][1],d[1]=d[0],n=1;n<r[A].length;n++)r[A][n][0]<c[0]&&(c[0]=r[A][n][0]),r[A][n][0]>c[1]&&(c[1]=r[A][n][0]),r[A][n][1]<d[0]&&(d[0]=r[A][n][1]),r[A][n][1]>d[1]&&(d[1]=r[A][n][1]);for(f[0]=Math.floor((c[0]-(c[0]-a[0])%e-a[0])/e),f[1]=Math.ceil((c[1]-(c[1]-a[1])%e-a[0])/e),h[0]=Math.floor((d[0]-(d[0]-s[0])%e-s[0])/e),h[1]=Math.ceil((d[1]-(d[1]-s[1])%e-s[0])/e),n=f[0];n<=f[1];n++)for(i=h[0];i<=h[1];i++)u=a[0]+n*e,l=s[0]+i*e,gy(r[A],u,l)&&(g[n][i]=wy(u,l,t))}return{xlim:a,ylim:s,width:e,data:g,zlim:[py(t.t),dy(t.t)]}}}const Cy=[[106.75224331600003,39.371484436925556],[106.80011361800013,39.31881437692522],[106.78702343900017,39.25169984292472],[106.80722731100013,39.194914082924385],[106.84017260400009,39.14029099192397],[106.85864100900005,39.09030186092368],[106.91535903300019,39.07768828292352],[106.96295735900009,39.04086672692332],[106.81498000500011,38.83096576092186],[106.48942563800006,38.30528690591808],[106.6241931260002,38.23177735091741],[106.792204395,38.16697939291692],[106.8997318320001,38.14089834591679],[107.12160487000017,38.148665304916875],[107.238461094,38.11031358691664],[107.34125957700013,38.07076944491632],[107.42288445100013,38.001268798915675],[107.65074117600017,37.85906845591463],[107.59596995900012,37.78616974491404],[107.48935949800006,37.75624984491376],[107.39843921100004,37.69076351991317],[107.30949456400009,37.607715976912516],[107.32391086299998,37.495708052911624],[107.2797472110002,37.47958606691139],[107.2729700180002,37.41671457791083],[107.25574581800004,37.36155230491046],[107.26954999700007,37.292558907909715],[107.29643239100017,37.26167476190955],[107.30177768400006,37.23741656890942],[107.26478475600004,37.23558125090926],[107.29203574200011,37.20979293490905],[107.31700672000011,37.19143698890889],[107.32686913700019,37.17036288090866],[107.32819069300007,37.1428377689085],[107.31092972900012,37.1146965959082],[107.29359106200019,37.10907149390808],[107.27197434400006,37.12759403690826],[107.27334879200009,37.10971306990828],[107.24643664700011,37.105400220908145],[107.21825994700004,37.108220954908134],[107.19200947500019,37.12901035490843],[107.16376779200016,37.13923604590844],[107.10499351500005,37.12545799290824],[107.07635464100008,37.1259883449083],[107.02491986600006,37.13999745090843],[107.01625185799998,37.11224994290829],[106.98925814400013,37.11110370190821],[106.95577159999999,37.11292547890827],[106.93196357900018,37.13732327990839],[106.89556190200005,37.14993250090849],[106.9003999300001,37.13282200990841],[106.90601318000006,37.110535010908144],[106.87219594800013,37.10979614390819],[106.821833739,37.130818969908425],[106.80332747000011,37.14481065390856],[106.78709101300007,37.15084694790856],[106.77133233800015,37.15581728590863],[106.76996081200014,37.15235791390853],[106.76529135000015,37.118026372908254],[106.74609773000014,37.08719736790794],[106.72023663700008,37.11275120790815],[106.68038537000012,37.12852563590833],[106.64180801800018,37.12128512690828],[106.60053514800012,37.12824714390839],[106.62204665600007,37.086427512907946],[106.64105266600001,37.05309381390767],[106.65442788500013,37.02191926190742],[106.63740096800007,37.00619267790723],[106.61770788900014,36.95917794590689],[106.58446018900008,36.957901893906765],[106.57771826100003,36.9340976059066],[106.56686131600014,36.95454794490676],[106.53749079500017,36.98527232990714],[106.5458719520002,36.94883099690679],[106.57924688200012,36.926592770906524],[106.59493449500008,36.894559526906285],[106.62369940200006,36.89076468790624],[106.62393413400008,36.86431589590588],[106.63532344200007,36.83437794490576],[106.65297102700004,36.816934549905554],[106.63634381700007,36.802583443905476],[106.6327644800001,36.77720859290527],[106.62628622300014,36.74483520990486],[106.62298451700013,36.72675107790462],[106.59020949000018,36.7462427309049],[106.54711105900014,36.73505628690471],[106.50924189300014,36.71453520290464],[106.51073742300008,36.69045271390444],[106.48890435300018,36.665521309904065],[106.47991761300017,36.62762322490372],[106.44175262600015,36.612730717903574],[106.45380925800009,36.59195805790339],[106.44361195000016,36.57693630890316],[106.42754275400017,36.55924762690321],[106.39061774400017,36.569712920903214],[106.36372391100008,36.57515378190321],[106.37015105100005,36.54697593590295],[106.41140195700007,36.52563657990285],[106.44121499600004,36.503846044902616],[106.48500601500001,36.486570205902524],[106.51446306300016,36.45653525690215],[106.50002693300013,36.41861615190166],[106.49382510900017,36.40070611890158],[106.52330269300006,36.37209154290142],[106.50033607500012,36.34625649590112],[106.4950264320002,36.310638423900684],[106.48063744900008,36.31588967190077],[106.47851121600007,36.28653468590043],[106.53953462900017,36.25933886290017],[106.55238393700017,36.28556393690046],[106.57920476600003,36.28311894990038],[106.59479806000007,36.29166666690047],[106.61908254000014,36.27023299690034],[106.64027522300012,36.272385253900346],[106.67619922500006,36.269643775900356],[106.69490061300007,36.24232350989997],[106.73607142700018,36.22938768089988],[106.76450845900013,36.21377722689972],[106.79493112900002,36.2155064838997],[106.82579193700013,36.22773327589986],[106.84593342000016,36.20782526489979],[106.87768784200011,36.17590480989933],[106.90306207200013,36.15522771289921],[106.91476177500016,36.12070746589893],[106.92197893300005,36.11521572089879],[106.93563835200007,36.10216524189864],[106.94964139700005,36.075337856898265],[106.93475762200018,36.05520312689818],[106.92498019200013,36.028411238897874],[106.94461712700019,36.003046762897675],[106.92346275400018,35.97965907689752],[106.9108305540002,35.95535717289719],[106.90432204000012,35.95690153789718],[106.90000773800017,35.96395568789716],[106.88620676800014,35.96985219789737],[106.90297995600008,35.938020589897086],[106.92385524700006,35.95129377989712],[106.92358609200011,35.924636189896894],[106.90065074400007,35.91674969189674],[106.86574492700004,35.904353887896626],[106.8481665430001,35.88410409489647],[106.8743117350001,35.870253231896385],[106.87888598300003,35.84717335489615],[106.90866126000014,35.83006934089599],[106.91050850300013,35.807928981895536],[106.89504319900004,35.802024690895564],[106.9117502360001,35.78726626289552],[106.89945534000015,35.77217019989539],[106.88182533100007,35.766641658895225],[106.86945716400015,35.779381002895306],[106.86020185800015,35.75671080589504],[106.83589073700011,35.74433107289499],[106.81496762000006,35.736628201894796],[106.81551309600007,35.71969415389467],[106.77981524600017,35.72087530289468],[106.75906352900012,35.7284737588948],[106.74206915300016,35.70270605689465],[106.73546079900012,35.69297966089448],[106.70863499800004,35.7034515138946],[106.68410414300007,35.72264593089481],[106.66803134300017,35.72902082089493],[106.66606502600013,35.704131700894656],[106.65459170600008,35.707901360894695],[106.62582812700003,35.71447508989467],[106.61089633200015,35.74279153189503],[106.59821642899999,35.74205301589502],[106.57662317200015,35.73075132889476],[106.53511897800013,35.741857521895035],[106.5131633470001,35.73293315589497],[106.49548158100009,35.7384865748949],[106.48379781000017,35.731117829894856],[106.48138816800008,35.72297314589481],[106.45458569600004,35.7108842728946],[106.44101950700014,35.69250297989435],[106.42905317300017,35.68244351989432],[106.4337634170002,35.666213073894205],[106.44194573700003,35.65207708189395],[106.44720372200015,35.634240044893836],[106.46536594700018,35.60249671889359],[106.47449604700012,35.57524863389324],[106.45268908300005,35.574576034893255],[106.44707645700004,35.54683005689281],[106.43675634200008,35.52094776189273],[106.45250198700006,35.50562654989245],[106.46229957200006,35.47992979689225],[106.48241438200012,35.47291945989201],[106.47696481100013,35.44924570889188],[106.49130309500003,35.43241486889157],[106.49473794800014,35.408067563891485],[106.49200658400008,35.38364857089113],[106.50006434800014,35.35958538189085],[106.48483712000018,35.34713720189069],[106.47927809200013,35.32468787089043],[106.45147714000007,35.30863792889031],[106.42388508500017,35.29166941989027],[106.39898563600008,35.27580924089008],[106.37080997500004,35.27454784588993],[106.36395469600012,35.26495613088994],[106.35734403800006,35.23840956188953],[106.33148410200005,35.25194297188982],[106.3152618250001,35.274645162890025],[106.29370579300019,35.29083119389016],[106.28207858200011,35.30719225589033],[106.26663682700013,35.33083450189059],[106.24524426100004,35.34867028289082],[106.23895424500006,35.37733889489106],[106.23103646800018,35.41029703389143],[106.19477383600008,35.41044707689145],[106.17366724600004,35.42398819489169],[106.16107536599998,35.420479428891554],[106.12885748300016,35.398492624891325],[106.11858031900016,35.37695908889105],[106.10161046600018,35.366582568891076],[106.09382725600011,35.390897348891286],[106.08641662200017,35.402913444891375],[106.07502882800014,35.42523001389168],[106.0723715210001,35.446227875891786],[106.06713609000008,35.46843703189217],[106.07190550500007,35.49030650489222],[106.0917006250001,35.50600574189242],[106.06999879700004,35.506672213892514],[106.06331611000019,35.49185631289241],[106.05948888900014,35.50000000089239],[106.04399413100009,35.49894677989231],[106.01443743300007,35.494508974892355],[106.0052454650002,35.51051684189247],[105.99904179200018,35.51979296989252],[105.97363764300007,35.531901177892784],[105.95096391900006,35.537321667892854],[105.92774435600006,35.535906245892754],[105.91467349700014,35.53901272089288],[105.88690542200004,35.54836447589287],[105.8663813660001,35.53857174489281],[105.85851610900005,35.521719487892604],[105.84718833700003,35.499747949892374],[105.83213724300009,35.493215681892366],[105.8282128960002,35.51810674789263],[105.82939159500012,35.53874233289289],[105.82246258800012,35.54692193389291],[105.81757962300014,35.56361107389318],[105.79920020300017,35.569284137893135],[105.77695622300013,35.58264437389327],[105.7753398100001,35.59948581689347],[105.74825577600018,35.61129027189354],[105.75634899300007,35.627187102893735],[105.73679588100015,35.62914612089384],[105.7229826000002,35.638299975893965],[105.71559480700012,35.66376938189413],[105.69898749600009,35.68734182589434],[105.70170247000004,35.70625960589463],[105.72687670900007,35.70067454589448],[105.75349273700016,35.72871812189483],[105.7260377300002,35.72999377089477],[105.70054400900017,35.737109098894905],[105.68532238699999,35.74846198389496],[105.66504872300015,35.751063856895065],[105.64538702900012,35.74350747789494],[105.62440465700007,35.733708093894926],[105.59157294700015,35.71973873089478],[105.57297016400008,35.70408042789461],[105.55740834100004,35.70234984789458],[105.55616292200011,35.72293853389478],[105.52035701100004,35.72719066889483],[105.47749435200018,35.727142415894846],[105.44875164700011,35.74975756089494],[105.42658466000017,35.79367631789548],[105.3992090960001,35.81846350089574],[105.37247287700012,35.810014072895704],[105.36929294900011,35.847005492896145],[105.39436562800012,35.85758793089629],[105.3514614890002,35.87863255689637],[105.33405594700014,35.908711256896716],[105.32810409900009,35.959923047897256],[105.33677503800016,36.006389766897755],[105.34938305000009,36.03403972889803],[105.37152731000015,36.06034374789825],[105.39772906700017,36.0770673458983],[105.42458476600007,36.10217043389871],[105.45918608400001,36.10574069889863],[105.48861092700008,36.10748941989866],[105.50728335300016,36.14535826489908],[105.48150437100003,36.192607934899605],[105.45839058700005,36.220954138899764],[105.46090005600007,36.25194858690002],[105.47103872700006,36.283401014900356],[105.45036358600015,36.3163799719008],[105.41918651200018,36.33585944090097],[105.40457411700004,36.35260670990114],[105.396057353,36.36961560990125],[105.40630012100019,36.383440386901526],[105.39280731600013,36.421016590901836],[105.36784260500019,36.437699530901895],[105.36452325200008,36.45767073890215],[105.35761585200004,36.49518962790258],[105.3203111700002,36.53068930890291],[105.28214079900005,36.526237075902806],[105.24999999700009,36.54482300790299],[105.2705060180001,36.563461928903216],[105.24725980200014,36.60174896090349],[105.22143667600011,36.631433236903895],[105.21850626900004,36.665953246904216],[105.206090459,36.717440126904684],[105.23399997500019,36.73872861390475],[105.26928545300007,36.74738365790491],[105.32582283200009,36.75492622690494],[105.32789398400018,36.80509211290551],[105.28824526900013,36.83946867090568],[105.2701905950002,36.870082877906015],[105.22844216300001,36.892200868906166],[105.18744744800017,36.889731852906294],[105.1783408710001,36.90929541690636],[105.17994191800017,36.937150460906714],[105.15992866500011,36.98607311090711],[105.09422487000018,37.00370336690723],[105.02613861200007,37.006801523907214],[104.97417924700017,37.032331871907516],[104.92899013300007,37.085683056907996],[104.91270099300004,37.11295848190821],[104.89346222100016,37.133442609908464],[104.87231351600013,37.16605956890875],[104.8519395080001,37.20682619190914],[104.81818401400017,37.22836360990931],[104.76902742200008,37.24419466290934],[104.72835616500015,37.2201760499091],[104.70194439900007,37.20712178990906],[104.65790766300012,37.20820974090911],[104.6092123300001,37.220789262909115],[104.6076409870002,37.27717970090961],[104.66091021700004,37.30128407290989],[104.70719299600012,37.34920756391025],[104.65864573300007,37.36647573091033],[104.66792980900016,37.39979022491071],[104.63082693400008,37.41828826191083],[104.57719154600011,37.42408309991093],[104.52093050000019,37.43257345191108],[104.48193232600005,37.42218840391095],[104.41057003000009,37.43979503991113],[104.28420963100018,37.42010783591093],[104.42364963800014,37.510362839911615],[105.20026380500019,37.67035649291302],[105.62341668400012,37.779670103913816],[105.704206795,37.78678249191404],[105.76034793300016,37.7944564449141],[105.79399539800016,37.90296885391499],[105.81514006600014,37.973881435915395],[105.79475287700006,38.0576666669162],[105.77160819300013,38.18882480691715],[105.8563868010001,38.28598954391783],[105.817945399,38.355384392918474],[105.82178030800014,38.40617785891885],[105.84249156200013,38.44835046191916],[105.84328238400002,38.495327697919535],[105.85662413200009,38.5407779589198],[105.86876141700009,38.58367964092014],[105.84880948800014,38.634249917920414],[105.87726811800007,38.67595523292077],[105.88224704500016,38.71705940492103],[105.89768946600003,38.75046944192132],[105.89143697700007,38.786900840921575],[105.93139754900011,38.80179645492168],[105.9584022050002,38.83440201292196],[105.9908010260001,38.86454510792215],[105.96339131400009,38.895163790922204],[105.99774295100008,38.92859366392259],[106.02689181300008,38.959078418922765],[106.05999430400016,38.98095921992299],[106.08274842600008,39.01115513392312],[106.07815181200004,39.040771620923266],[106.09298703700017,39.08858877692364],[106.10979604800013,39.12079492392381],[106.1425981550002,39.15279004592404],[106.18162891600008,39.14371064792394],[106.23777494000012,39.13458256592392],[106.28073949300011,39.14127046592401],[106.28633169700004,39.1832807049242],[106.28115585800015,39.22757867192463],[106.272969063,39.26916784592481],[106.33926826700008,39.28146549792492],[106.41589705400008,39.28501810092501],[106.45382346600002,39.28226624292486],[106.49392615500017,39.271551130924784],[106.56385278100015,39.33873426392528],[106.71710878500011,39.37499936092558],[106.75224331600003,39.371484436925556]];var Iu={polygonArr:Cy};function Uu(r,t,e){e===void 0&&(e={});var A={type:"Feature"};return(e.id===0||e.id)&&(A.id=e.id),e.bbox&&(A.bbox=e.bbox),A.properties=t||{},A.geometry=r,A}function Su(r,t,e){if(e===void 0&&(e={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Tc(r[0])||!Tc(r[1]))throw new Error("coordinates must contain numbers");var A={type:"Point",coordinates:r};return Uu(A,t,e)}function xu(r,t,e){e===void 0&&(e={});for(var A=0,n=r;A<n.length;A++){var i=n[A];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<i[i.length-1].length;o++)if(i[i.length-1][o]!==i[0][o])throw new Error("First and last Position are not equivalent.")}var a={type:"Polygon",coordinates:r};return Uu(a,t,e)}function Tu(r,t){t===void 0&&(t={});var e={type:"FeatureCollection"};return t.id&&(e.id=t.id),t.bbox&&(e.bbox=t.bbox),e.features=r,e}function Ey(r,t,e){e===void 0&&(e={});var A={type:"MultiPolygon",coordinates:r};return Uu(A,t,e)}function Tc(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function va(r){return!!r&&r.constructor===Object}function Ba(r,t,e){if(r!==null)for(var A,n,i,o,a,s,u,l=0,f=0,h,c=r.type,d=c==="FeatureCollection",p=c==="Feature",B=d?r.features.length:1,g=0;g<B;g++){u=d?r.features[g].geometry:p?r.geometry:r,h=u?u.type==="GeometryCollection":!1,a=h?u.geometries.length:1;for(var y=0;y<a;y++){var m=0,_=0;if(o=h?u.geometries[y]:u,o!==null){s=o.coordinates;var C=o.type;switch(l=e&&(C==="Polygon"||C==="MultiPolygon")?1:0,C){case null:break;case"Point":if(t(s,f,g,m,_)===!1)return!1;f++,m++;break;case"LineString":case"MultiPoint":for(A=0;A<s.length;A++){if(t(s[A],f,g,m,_)===!1)return!1;f++,C==="MultiPoint"&&m++}C==="LineString"&&m++;break;case"Polygon":case"MultiLineString":for(A=0;A<s.length;A++){for(n=0;n<s[A].length-l;n++){if(t(s[A][n],f,g,m,_)===!1)return!1;f++}C==="MultiLineString"&&m++,C==="Polygon"&&_++}C==="Polygon"&&m++;break;case"MultiPolygon":for(A=0;A<s.length;A++){for(_=0,n=0;n<s[A].length;n++){for(i=0;i<s[A][n].length-l;i++){if(t(s[A][n][i],f,g,m,_)===!1)return!1;f++}_++}m++}break;case"GeometryCollection":for(A=0;A<o.geometries.length;A++)if(Ba(o.geometries[A],t,e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Oc(r,t){if(r.type==="Feature")t(r,0);else if(r.type==="FeatureCollection")for(var e=0;e<r.features.length&&t(r.features[e],e)!==!1;e++);}function Fy(r,t){var e,A,n,i,o,a,s,u,l,f,h=0,c=r.type==="FeatureCollection",d=r.type==="Feature",p=c?r.features.length:1;for(e=0;e<p;e++){for(a=c?r.features[e].geometry:d?r.geometry:r,u=c?r.features[e].properties:d?r.properties:{},l=c?r.features[e].bbox:d?r.bbox:void 0,f=c?r.features[e].id:d?r.id:void 0,s=a?a.type==="GeometryCollection":!1,o=s?a.geometries.length:1,n=0;n<o;n++){if(i=s?a.geometries[n]:a,i===null){if(t(null,h,u,l,f)===!1)return!1;continue}switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(i,h,u,l,f)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<i.geometries.length;A++)if(t(i.geometries[A],h,u,l,f)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}h++}}function Qy(r,t,e){var A=e;return Fy(r,function(n,i,o,a,s){i===0&&e===void 0?A=n:A=t(A,n,i,o,a,s)}),A}function Ou(r){var t=[1/0,1/0,-1/0,-1/0];return Ba(r,function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])}),t}Ou.default=Ou;function Iy(r){if(!r)throw new Error("coord is required");if(!Array.isArray(r)){if(r.type==="Feature"&&r.geometry!==null&&r.geometry.type==="Point")return r.geometry.coordinates;if(r.type==="Point")return r.coordinates}if(Array.isArray(r)&&r.length>=2&&!Array.isArray(r[0])&&!Array.isArray(r[1]))return r;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function tn(r){if(Array.isArray(r))return r;if(r.type==="Feature"){if(r.geometry!==null)return r.geometry.coordinates}else if(r.coordinates)return r.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Rc(r,t,e){if(!r)throw new Error("No featureCollection passed");if(!e)throw new Error(".collectionOf() requires a name");if(!r||r.type!=="FeatureCollection")throw new Error("Invalid input to "+e+", FeatureCollection required");for(var A=0,n=r.features;A<n.length;A++){var i=n[A];if(!i||i.type!=="Feature"||!i.geometry)throw new Error("Invalid input to "+e+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+e+": must be a "+t+", given "+i.geometry.type)}}function Uy(r){return r.type==="Feature"?r.geometry:r}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Lc=Object.getOwnPropertySymbols,Sy=Object.prototype.hasOwnProperty,xy=Object.prototype.propertyIsEnumerable;function Ty(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function Oy(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;var A=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(A.join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(i){n[i]=i}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch(i){return!1}}var Ry=Oy()?Object.assign:function(r,t){for(var e,A=Ty(r),n,i=1;i<arguments.length;i++){e=Object(arguments[i]);for(var o in e)Sy.call(e,o)&&(A[o]=e[o]);if(Lc){n=Lc(e);for(var a=0;a<n.length;a++)xy.call(e,n[a])&&(A[n[a]]=e[n[a]])}}return A};function Ly(r,t,e,A,n){Mc(r,t,e||0,A||r.length-1,n||My)}function Mc(r,t,e,A,n){for(;A>e;){if(A-e>600){var i=A-e+1,o=t-e+1,a=Math.log(i),s=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*s*(i-s)/i)*(o-i/2<0?-1:1),l=Math.max(e,Math.floor(t-o*s/i+u)),f=Math.min(A,Math.floor(t+(i-o)*s/i+u));Mc(r,t,l,f,n)}var h=r[t],c=e,d=A;for(qi(r,e,t),n(r[A],h)>0&&qi(r,e,A);c<d;){for(qi(r,c,d),c++,d--;n(r[c],h)<0;)c++;for(;n(r[d],h)>0;)d--}n(r[e],h)===0?qi(r,e,d):(d++,qi(r,d,A)),d<=t&&(e=d+1),t<=d&&(A=d-1)}}function qi(r,t,e){var A=r[t];r[t]=r[e],r[e]=A}function My(r,t){return r<t?-1:r>t?1:0}class Pc{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const A=[];if(!_a(t,e))return A;const n=this.toBBox,i=[];for(;e;){for(let o=0;o<e.children.length;o++){const a=e.children[o],s=e.leaf?n(a):a;_a(t,s)&&(e.leaf?A.push(a):Lu(t,s)?this._all(a,A):i.push(a))}e=i.pop()}return A}collides(t){let e=this.data;if(!_a(t,e))return!1;const A=[];for(;e;){for(let n=0;n<e.children.length;n++){const i=e.children[n],o=e.leaf?this.toBBox(i):i;if(_a(t,o)){if(e.leaf||Lu(t,o))return!0;A.push(i)}}e=A.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let A=0;A<t.length;A++)this.insert(t[A]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=e;else if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const A=this.data;this.data=e,e=A}this._insert(e,this.data.height-e.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Yn([]),this}remove(t,e){if(!t)return this;let A=this.data;const n=this.toBBox(t),i=[],o=[];let a,s,u;for(;A||i.length;){if(A||(A=i.pop(),s=i[i.length-1],a=o.pop(),u=!0),A.leaf){const l=Py(t,A.children,e);if(l!==-1)return A.children.splice(l,1),i.push(A),this._condense(i),this}!u&&!A.leaf&&Lu(A,n)?(i.push(A),o.push(a),a=0,s=A,A=A.children[0]):s?(a++,A=s.children[a],u=!1):A=null}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const A=[];for(;t;)t.leaf?e.push(...t.children):A.push(...t.children),t=A.pop();return e}_build(t,e,A,n){const i=A-e+1;let o=this._maxEntries,a;if(i<=o)return a=Yn(t.slice(e,A+1)),Vn(a,this.toBBox),a;n||(n=Math.ceil(Math.log(i)/Math.log(o)),o=Math.ceil(i/Math.pow(o,n-1))),a=Yn([]),a.leaf=!1,a.height=n;const s=Math.ceil(i/o),u=s*Math.ceil(Math.sqrt(o));Hc(t,e,A,u,this.compareMinX);for(let l=e;l<=A;l+=u){const f=Math.min(l+u-1,A);Hc(t,l,f,s,this.compareMinY);for(let h=l;h<=f;h+=s){const c=Math.min(h+s-1,f);a.children.push(this._build(t,h,c,n-1))}}return Vn(a,this.toBBox),a}_chooseSubtree(t,e,A,n){for(;n.push(e),!(e.leaf||n.length-1===A);){let i=1/0,o=1/0,a;for(let s=0;s<e.children.length;s++){const u=e.children[s],l=Ru(u),f=Dy(t,u)-l;f<o?(o=f,i=l<i?l:i,a=u):f===o&&l<i&&(i=l,a=u)}e=a||e.children[0]}return e}_insert(t,e,A){const n=A?t:this.toBBox(t),i=[],o=this._chooseSubtree(n,this.data,e,i);for(o.children.push(t),to(o,n);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(n,i,e)}_split(t,e){const A=t[e],n=A.children.length,i=this._minEntries;this._chooseSplitAxis(A,i,n);const o=this._chooseSplitIndex(A,i,n),a=Yn(A.children.splice(o,A.children.length-o));a.height=A.height,a.leaf=A.leaf,Vn(A,this.toBBox),Vn(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(A,a)}_splitRoot(t,e){this.data=Yn([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Vn(this.data,this.toBBox)}_chooseSplitIndex(t,e,A){let n,i=1/0,o=1/0;for(let a=e;a<=A-e;a++){const s=eo(t,0,a,this.toBBox),u=eo(t,a,A,this.toBBox),l=Gy(s,u),f=Ru(s)+Ru(u);l<i?(i=l,n=a,o=f<o?f:o):l===i&&f<o&&(o=f,n=a)}return n||A-e}_chooseSplitAxis(t,e,A){const n=t.leaf?this.compareMinX:Hy,i=t.leaf?this.compareMinY:Ny,o=this._allDistMargin(t,e,A,n),a=this._allDistMargin(t,e,A,i);o<a&&t.children.sort(n)}_allDistMargin(t,e,A,n){t.children.sort(n);const i=this.toBBox,o=eo(t,0,e,i),a=eo(t,A-e,A,i);let s=ya(o)+ya(a);for(let u=e;u<A-e;u++){const l=t.children[u];to(o,t.leaf?i(l):l),s+=ya(o)}for(let u=A-e-1;u>=e;u--){const l=t.children[u];to(a,t.leaf?i(l):l),s+=ya(a)}return s}_adjustParentBBoxes(t,e,A){for(let n=A;n>=0;n--)to(e[n],t)}_condense(t){for(let e=t.length-1,A;e>=0;e--)t[e].children.length===0?e>0?(A=t[e-1].children,A.splice(A.indexOf(t[e]),1)):this.clear():Vn(t[e],this.toBBox)}}function Py(r,t,e){if(!e)return t.indexOf(r);for(let A=0;A<t.length;A++)if(e(r,t[A]))return A;return-1}function Vn(r,t){eo(r,0,r.children.length,t,r)}function eo(r,t,e,A,n){n||(n=Yn(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(let i=t;i<e;i++){const o=r.children[i];to(n,r.leaf?A(o):o)}return n}function to(r,t){return r.minX=Math.min(r.minX,t.minX),r.minY=Math.min(r.minY,t.minY),r.maxX=Math.max(r.maxX,t.maxX),r.maxY=Math.max(r.maxY,t.maxY),r}function Hy(r,t){return r.minX-t.minX}function Ny(r,t){return r.minY-t.minY}function Ru(r){return(r.maxX-r.minX)*(r.maxY-r.minY)}function ya(r){return r.maxX-r.minX+(r.maxY-r.minY)}function Dy(r,t){return(Math.max(t.maxX,r.maxX)-Math.min(t.minX,r.minX))*(Math.max(t.maxY,r.maxY)-Math.min(t.minY,r.minY))}function Gy(r,t){const e=Math.max(r.minX,t.minX),A=Math.max(r.minY,t.minY),n=Math.min(r.maxX,t.maxX),i=Math.min(r.maxY,t.maxY);return Math.max(0,n-e)*Math.max(0,i-A)}function Lu(r,t){return r.minX<=t.minX&&r.minY<=t.minY&&t.maxX<=r.maxX&&t.maxY<=r.maxY}function _a(r,t){return t.minX<=r.maxX&&t.minY<=r.maxY&&t.maxX>=r.minX&&t.maxY>=r.minY}function Yn(r){return{children:r,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Hc(r,t,e,A,n){const i=[t,e];for(;i.length;){if(e=i.pop(),t=i.pop(),e-t<=A)continue;const o=t+Math.ceil((e-t)/A/2)*A;Ly(r,o,t,e,n),i.push(t,o,o,e)}}function by(r,t,e){if(e===void 0&&(e={}),!r)throw new Error("point is required");if(!t)throw new Error("polygon is required");var A=Iy(r),n=Uy(t),i=n.type,o=t.bbox,a=n.coordinates;if(o&&Ky(A,o)===!1)return!1;i==="Polygon"&&(a=[a]);for(var s=!1,u=0;u<a.length&&!s;u++)if(Nc(A,a[u][0],e.ignoreBoundary)){for(var l=!1,f=1;f<a[u].length&&!l;)Nc(A,a[u][f],!e.ignoreBoundary)&&(l=!0),f++;l||(s=!0)}return s}function Nc(r,t,e){var A=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var n=0,i=t.length-1;n<t.length;i=n++){var o=t[n][0],a=t[n][1],s=t[i][0],u=t[i][1],l=r[1]*(o-s)+a*(s-r[0])+u*(r[0]-o)==0&&(o-r[0])*(s-r[0])<=0&&(a-r[1])*(u-r[1])<=0;if(l)return!e;var f=a>r[1]!=u>r[1]&&r[0]<(s-o)*(r[1]-a)/(u-a)+o;f&&(A=!A)}return A}function Ky(r,t){return t[0]<=r[0]&&t[1]<=r[1]&&t[2]>=r[0]&&t[3]>=r[1]}function ky(r){var t=[];return r.type==="FeatureCollection"?Oc(r,function(e){Ba(e,function(A){t.push(Su(A,e.properties))})}):Ba(r,function(e){t.push(Su(e,r.properties))}),Tu(t)}var Dc=6378137;function Mu(r){return Qy(r,function(t,e){return t+Vy(e)},0)}function Vy(r){var t=0,e;switch(r.type){case"Polygon":return Gc(r.coordinates);case"MultiPolygon":for(e=0;e<r.coordinates.length;e++)t+=Gc(r.coordinates[e]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function Gc(r){var t=0;if(r&&r.length>0){t+=Math.abs(bc(r[0]));for(var e=1;e<r.length;e++)t-=Math.abs(bc(r[e]))}return t}function bc(r){var t,e,A,n,i,o,a,s=0,u=r.length;if(u>2){for(a=0;a<u;a++)a===u-2?(n=u-2,i=u-1,o=0):a===u-1?(n=u-1,i=0,o=1):(n=a,i=a+1,o=a+2),t=r[n],e=r[i],A=r[o],s+=(Pu(A[0])-Pu(t[0]))*Math.sin(Pu(e[1]));s=s*Dc*Dc/2}return s}function Pu(r){return r*Math.PI/180}function Yy(r,t){if(t=t||{},!va(t))throw new Error("options is invalid");var e=t.zProperty||"elevation",A=t.flip,n=t.flags;Rc(r,"Point","input must contain Points");for(var i=Xy(r,A),o=[],a=0;a<i.length;a++){for(var s=i[a],u=[],l=0;l<s.length;l++){var f=s[l];f.properties[e]?u.push(f.properties[e]):u.push(0),n===!0&&(f.properties.matrixPosition=[a,l])}o.push(u)}return o}function Xy(r,t){var e={};Oc(r,function(i){var o=tn(i)[1];e[o]||(e[o]=[]),e[o].push(i)});var A=Object.keys(e).map(function(i){var o=e[i],a=o.sort(function(s,u){return tn(s)[0]-tn(u)[0]});return a}),n=A.sort(function(i,o){return t?tn(i[0])[1]-tn(o[0])[1]:tn(o[0])[1]-tn(i[0])[1]});return n}/*!
 * @license GNU Affero General Public License.
 * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
 * v. 1.2.0
 * https://github.com/RaumZeit/MarchingSquares.js
 *
 * MarchingSquaresJS is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * MarchingSquaresJS is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * As additional permission under GNU Affero General Public License version 3
 * section 7, third-party projects (personal or commercial) may distribute,
 * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
 * requirement that said third-party project for that reason alone becomes
 * subject to any requirement of the GNU Affero General Public License version 3.
 * Any modifications to MarchingSquaresJS, however, must be shared with the public
 * and made available.
 *
 * In summary this:
 * - allows you to use MarchingSquaresJS at no cost
 * - allows you to use MarchingSquaresJS for both personal and commercial purposes
 * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
 *   license as long as this license notice is included
 * - enables you to keep the source code of your program that uses MarchingSquaresJS
 *   undisclosed
 * - forces you to share any modifications you have made to MarchingSquaresJS,
 *   e.g. bug-fixes
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
 */var Kc={successCallback:null,verbose:!1,polygons:!1},An={};function Wy(r,t,e,A){A=A||{};for(var n=Object.keys(Kc),i=0;i<n.length;i++){var o=n[i],a=A[o];a=typeof a!="undefined"&&a!==null?a:Kc[o],An[o]=a}An.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+t+":"+(t+e)+"]");var s=Q_(r,t,e),u;return An.polygons?(An.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),u=O_(s)):(An.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),u=I_(s)),typeof An.successCallback=="function"&&An.successCallback(u),u}var Rt=64,dA=16,Qt=4,St=1,pe=[],ge=[],ve=[],Be=[],ye=[],_e=[],we=[],me=[],Ce=[],Ee=[],Fe=[],Qe=[],Ie=[],Ue=[],Se=[],xe=[],Te=[],Oe=[],Re=[],Le=[],Me=[],Pe=[],He=[],Ne=[];we[85]=Ee[85]=-1;me[85]=Fe[85]=0;Ce[85]=Qe[85]=1;Re[85]=Pe[85]=1;Le[85]=He[85]=0;Me[85]=Ne[85]=1;pe[85]=Be[85]=0;ge[85]=ye[85]=-1;ve[85]=Se[85]=0;xe[85]=Ie[85]=0;Te[85]=Ue[85]=1;_e[85]=Oe[85]=1;Pe[1]=Pe[169]=0;He[1]=He[169]=-1;Ne[1]=Ne[169]=0;Ie[1]=Ie[169]=-1;Ue[1]=Ue[169]=0;Se[1]=Se[169]=0;Ee[4]=Ee[166]=0;Fe[4]=Fe[166]=-1;Qe[4]=Qe[166]=1;xe[4]=xe[166]=1;Te[4]=Te[166]=0;Oe[4]=Oe[166]=0;we[16]=we[154]=0;me[16]=me[154]=1;Ce[16]=Ce[154]=1;Be[16]=Be[154]=1;ye[16]=ye[154]=0;_e[16]=_e[154]=1;Re[64]=Re[106]=0;Le[64]=Le[106]=1;Me[64]=Me[106]=0;pe[64]=pe[106]=-1;ge[64]=ge[106]=0;ve[64]=ve[106]=1;Re[2]=Re[168]=0;Le[2]=Le[168]=-1;Me[2]=Me[168]=1;Pe[2]=Pe[168]=0;He[2]=He[168]=-1;Ne[2]=Ne[168]=0;Ie[2]=Ie[168]=-1;Ue[2]=Ue[168]=0;Se[2]=Se[168]=0;xe[2]=xe[168]=-1;Te[2]=Te[168]=0;Oe[2]=Oe[168]=1;we[8]=we[162]=0;me[8]=me[162]=-1;Ce[8]=Ce[162]=0;Ee[8]=Ee[162]=0;Fe[8]=Fe[162]=-1;Qe[8]=Qe[162]=1;Ie[8]=Ie[162]=1;Ue[8]=Ue[162]=0;Se[8]=Se[162]=1;xe[8]=xe[162]=1;Te[8]=Te[162]=0;Oe[8]=Oe[162]=0;we[32]=we[138]=0;me[32]=me[138]=1;Ce[32]=Ce[138]=1;Ee[32]=Ee[138]=0;Fe[32]=Fe[138]=1;Qe[32]=Qe[138]=0;pe[32]=pe[138]=1;ge[32]=ge[138]=0;ve[32]=ve[138]=0;Be[32]=Be[138]=1;ye[32]=ye[138]=0;_e[32]=_e[138]=1;Pe[128]=Pe[42]=0;He[128]=He[42]=1;Ne[128]=Ne[42]=1;Re[128]=Re[42]=0;Le[128]=Le[42]=1;Me[128]=Me[42]=0;pe[128]=pe[42]=-1;ge[128]=ge[42]=0;ve[128]=ve[42]=1;Be[128]=Be[42]=-1;ye[128]=ye[42]=0;_e[128]=_e[42]=0;Ee[5]=Ee[165]=-1;Fe[5]=Fe[165]=0;Qe[5]=Qe[165]=0;Pe[5]=Pe[165]=1;He[5]=He[165]=0;Ne[5]=Ne[165]=0;xe[20]=xe[150]=0;Te[20]=Te[150]=1;Oe[20]=Oe[150]=1;Be[20]=Be[150]=0;ye[20]=ye[150]=-1;_e[20]=_e[150]=1;we[80]=we[90]=-1;me[80]=me[90]=0;Ce[80]=Ce[90]=1;Re[80]=Re[90]=1;Le[80]=Le[90]=0;Me[80]=Me[90]=1;Ie[65]=Ie[105]=0;Ue[65]=Ue[105]=1;Se[65]=Se[105]=0;pe[65]=pe[105]=0;ge[65]=ge[105]=-1;ve[65]=ve[105]=0;we[160]=we[10]=-1;me[160]=me[10]=0;Ce[160]=Ce[10]=1;Ee[160]=Ee[10]=-1;Fe[160]=Fe[10]=0;Qe[160]=Qe[10]=0;Pe[160]=Pe[10]=1;He[160]=He[10]=0;Ne[160]=Ne[10]=0;Re[160]=Re[10]=1;Le[160]=Le[10]=0;Me[160]=Me[10]=1;xe[130]=xe[40]=0;Te[130]=Te[40]=1;Oe[130]=Oe[40]=1;Ie[130]=Ie[40]=0;Ue[130]=Ue[40]=1;Se[130]=Se[40]=0;pe[130]=pe[40]=0;ge[130]=ge[40]=-1;ve[130]=ve[40]=0;Be[130]=Be[40]=0;ye[130]=ye[40]=-1;_e[130]=_e[40]=1;Ee[37]=Ee[133]=0;Fe[37]=Fe[133]=1;Qe[37]=Qe[133]=1;Pe[37]=Pe[133]=0;He[37]=He[133]=1;Ne[37]=Ne[133]=0;pe[37]=pe[133]=-1;ge[37]=ge[133]=0;ve[37]=ve[133]=0;Be[37]=Be[133]=1;ye[37]=ye[133]=0;_e[37]=_e[133]=0;xe[148]=xe[22]=-1;Te[148]=Te[22]=0;Oe[148]=Oe[22]=0;Pe[148]=Pe[22]=0;He[148]=He[22]=-1;Ne[148]=Ne[22]=1;Re[148]=Re[22]=0;Le[148]=Le[22]=1;Me[148]=Me[22]=1;Be[148]=Be[22]=-1;ye[148]=ye[22]=0;_e[148]=_e[22]=1;we[82]=we[88]=0;me[82]=me[88]=-1;Ce[82]=Ce[88]=1;xe[82]=xe[88]=1;Te[82]=Te[88]=0;Oe[82]=Oe[88]=1;Ie[82]=Ie[88]=-1;Ue[82]=Ue[88]=0;Se[82]=Se[88]=1;Re[82]=Re[88]=0;Le[82]=Le[88]=-1;Me[82]=Me[88]=0;we[73]=we[97]=0;me[73]=me[97]=1;Ce[73]=Ce[97]=0;Ee[73]=Ee[97]=0;Fe[73]=Fe[97]=-1;Qe[73]=Qe[97]=0;Ie[73]=Ie[97]=1;Ue[73]=Ue[97]=0;Se[73]=Se[97]=0;pe[73]=pe[97]=1;ge[73]=ge[97]=0;ve[73]=ve[97]=1;we[145]=we[25]=0;me[145]=me[25]=-1;Ce[145]=Ce[25]=0;Ie[145]=Ie[25]=1;Ue[145]=Ue[25]=0;Se[145]=Se[25]=1;Pe[145]=Pe[25]=0;He[145]=He[25]=1;Ne[145]=Ne[25]=1;Be[145]=Be[25]=-1;ye[145]=ye[25]=0;_e[145]=_e[25]=0;Ee[70]=Ee[100]=0;Fe[70]=Fe[100]=1;Qe[70]=Qe[100]=0;xe[70]=xe[100]=-1;Te[70]=Te[100]=0;Oe[70]=Oe[100]=1;Re[70]=Re[100]=0;Le[70]=Le[100]=-1;Me[70]=Me[100]=1;pe[70]=pe[100]=1;ge[70]=ge[100]=0;ve[70]=ve[100]=0;Ee[101]=Ee[69]=0;Fe[101]=Fe[69]=1;Qe[101]=Qe[69]=0;pe[101]=pe[69]=1;ge[101]=ge[69]=0;ve[101]=ve[69]=0;Pe[149]=Pe[21]=0;He[149]=He[21]=1;Ne[149]=Ne[21]=1;Be[149]=Be[21]=-1;ye[149]=ye[21]=0;_e[149]=_e[21]=0;xe[86]=xe[84]=-1;Te[86]=Te[84]=0;Oe[86]=Oe[84]=1;Re[86]=Re[84]=0;Le[86]=Le[84]=-1;Me[86]=Me[84]=1;we[89]=we[81]=0;me[89]=me[81]=-1;Ce[89]=Ce[81]=0;Ie[89]=Ie[81]=1;Ue[89]=Ue[81]=0;Se[89]=Se[81]=1;we[96]=we[74]=0;me[96]=me[74]=1;Ce[96]=Ce[74]=0;Ee[96]=Ee[74]=-1;Fe[96]=Fe[74]=0;Qe[96]=Qe[74]=1;Re[96]=Re[74]=1;Le[96]=Le[74]=0;Me[96]=Me[74]=0;pe[96]=pe[74]=1;ge[96]=ge[74]=0;ve[96]=ve[74]=1;we[24]=we[146]=0;me[24]=me[146]=-1;Ce[24]=Ce[146]=1;xe[24]=xe[146]=1;Te[24]=Te[146]=0;Oe[24]=Oe[146]=1;Ie[24]=Ie[146]=0;Ue[24]=Ue[146]=1;Se[24]=Se[146]=1;Be[24]=Be[146]=0;ye[24]=ye[146]=-1;_e[24]=_e[146]=0;Ee[6]=Ee[164]=-1;Fe[6]=Fe[164]=0;Qe[6]=Qe[164]=1;xe[6]=xe[164]=-1;Te[6]=Te[164]=0;Oe[6]=Oe[164]=0;Pe[6]=Pe[164]=0;He[6]=He[164]=-1;Ne[6]=Ne[164]=1;Re[6]=Re[164]=1;Le[6]=Le[164]=0;Me[6]=Me[164]=0;Ie[129]=Ie[41]=0;Ue[129]=Ue[41]=1;Se[129]=Se[41]=1;Pe[129]=Pe[41]=0;He[129]=He[41]=1;Ne[129]=Ne[41]=0;pe[129]=pe[41]=-1;ge[129]=ge[41]=0;ve[129]=ve[41]=0;Be[129]=Be[41]=0;ye[129]=ye[41]=-1;_e[129]=_e[41]=0;xe[66]=xe[104]=0;Te[66]=Te[104]=1;Oe[66]=Oe[104]=0;Ie[66]=Ie[104]=-1;Ue[66]=Ue[104]=0;Se[66]=Se[104]=1;Re[66]=Re[104]=0;Le[66]=Le[104]=-1;Me[66]=Me[104]=0;pe[66]=pe[104]=0;ge[66]=ge[104]=-1;ve[66]=ve[104]=1;we[144]=we[26]=-1;me[144]=me[26]=0;Ce[144]=Ce[26]=0;Pe[144]=Pe[26]=1;He[144]=He[26]=0;Ne[144]=Ne[26]=1;Re[144]=Re[26]=0;Le[144]=Le[26]=1;Me[144]=Me[26]=1;Be[144]=Be[26]=-1;ye[144]=ye[26]=0;_e[144]=_e[26]=1;Ee[36]=Ee[134]=0;Fe[36]=Fe[134]=1;Qe[36]=Qe[134]=1;xe[36]=xe[134]=0;Te[36]=Te[134]=1;Oe[36]=Oe[134]=0;pe[36]=pe[134]=0;ge[36]=ge[134]=-1;ve[36]=ve[134]=1;Be[36]=Be[134]=1;ye[36]=ye[134]=0;_e[36]=_e[134]=0;we[9]=we[161]=-1;me[9]=me[161]=0;Ce[9]=Ce[161]=0;Ee[9]=Ee[161]=0;Fe[9]=Fe[161]=-1;Qe[9]=Qe[161]=0;Ie[9]=Ie[161]=1;Ue[9]=Ue[161]=0;Se[9]=Se[161]=0;Pe[9]=Pe[161]=1;He[9]=He[161]=0;Ne[9]=Ne[161]=1;we[136]=0;me[136]=1;Ce[136]=1;Ee[136]=0;Fe[136]=1;Qe[136]=0;xe[136]=-1;Te[136]=0;Oe[136]=1;Ie[136]=-1;Ue[136]=0;Se[136]=0;Pe[136]=0;He[136]=-1;Ne[136]=0;Re[136]=0;Le[136]=-1;Me[136]=1;pe[136]=1;ge[136]=0;ve[136]=0;Be[136]=1;ye[136]=0;_e[136]=1;we[34]=0;me[34]=-1;Ce[34]=0;Ee[34]=0;Fe[34]=-1;Qe[34]=1;xe[34]=1;Te[34]=0;Oe[34]=0;Ie[34]=1;Ue[34]=0;Se[34]=1;Pe[34]=0;He[34]=1;Ne[34]=1;Re[34]=0;Le[34]=1;Me[34]=0;pe[34]=-1;ge[34]=0;ve[34]=1;Be[34]=-1;ye[34]=0;_e[34]=0;we[35]=0;me[35]=1;Ce[35]=1;Ee[35]=0;Fe[35]=-1;Qe[35]=1;xe[35]=1;Te[35]=0;Oe[35]=0;Ie[35]=-1;Ue[35]=0;Se[35]=0;Pe[35]=0;He[35]=-1;Ne[35]=0;Re[35]=0;Le[35]=1;Me[35]=0;pe[35]=-1;ge[35]=0;ve[35]=1;Be[35]=1;ye[35]=0;_e[35]=1;we[153]=0;me[153]=1;Ce[153]=1;Ie[153]=-1;Ue[153]=0;Se[153]=0;Pe[153]=0;He[153]=-1;Ne[153]=0;Be[153]=1;ye[153]=0;_e[153]=1;Ee[102]=0;Fe[102]=-1;Qe[102]=1;xe[102]=1;Te[102]=0;Oe[102]=0;Re[102]=0;Le[102]=1;Me[102]=0;pe[102]=-1;ge[102]=0;ve[102]=1;we[155]=0;me[155]=-1;Ce[155]=0;Ie[155]=1;Ue[155]=0;Se[155]=1;Pe[155]=0;He[155]=1;Ne[155]=1;Be[155]=-1;ye[155]=0;_e[155]=0;Ee[103]=0;Fe[103]=1;Qe[103]=0;xe[103]=-1;Te[103]=0;Oe[103]=1;Re[103]=0;Le[103]=-1;Me[103]=1;pe[103]=1;ge[103]=0;ve[103]=0;we[152]=0;me[152]=1;Ce[152]=1;xe[152]=-1;Te[152]=0;Oe[152]=1;Ie[152]=-1;Ue[152]=0;Se[152]=0;Pe[152]=0;He[152]=-1;Ne[152]=0;Re[152]=0;Le[152]=-1;Me[152]=1;Be[152]=1;ye[152]=0;_e[152]=1;we[156]=0;me[156]=-1;Ce[156]=1;xe[156]=1;Te[156]=0;Oe[156]=1;Ie[156]=-1;Ue[156]=0;Se[156]=0;Pe[156]=0;He[156]=-1;Ne[156]=0;Re[156]=0;Le[156]=1;Me[156]=1;Be[156]=-1;ye[156]=0;_e[156]=1;we[137]=0;me[137]=1;Ce[137]=1;Ee[137]=0;Fe[137]=1;Qe[137]=0;Ie[137]=-1;Ue[137]=0;Se[137]=0;Pe[137]=0;He[137]=-1;Ne[137]=0;pe[137]=1;ge[137]=0;ve[137]=0;Be[137]=1;ye[137]=0;_e[137]=1;we[139]=0;me[139]=1;Ce[139]=1;Ee[139]=0;Fe[139]=-1;Qe[139]=0;Ie[139]=1;Ue[139]=0;Se[139]=0;Pe[139]=0;He[139]=1;Ne[139]=0;pe[139]=-1;ge[139]=0;ve[139]=0;Be[139]=1;ye[139]=0;_e[139]=1;we[98]=0;me[98]=-1;Ce[98]=0;Ee[98]=0;Fe[98]=-1;Qe[98]=1;xe[98]=1;Te[98]=0;Oe[98]=0;Ie[98]=1;Ue[98]=0;Se[98]=1;Re[98]=0;Le[98]=1;Me[98]=0;pe[98]=-1;ge[98]=0;ve[98]=1;we[99]=0;me[99]=1;Ce[99]=0;Ee[99]=0;Fe[99]=-1;Qe[99]=1;xe[99]=1;Te[99]=0;Oe[99]=0;Ie[99]=-1;Ue[99]=0;Se[99]=1;Re[99]=0;Le[99]=-1;Me[99]=0;pe[99]=1;ge[99]=0;ve[99]=1;Ee[38]=0;Fe[38]=-1;Qe[38]=1;xe[38]=1;Te[38]=0;Oe[38]=0;Pe[38]=0;He[38]=1;Ne[38]=1;Re[38]=0;Le[38]=1;Me[38]=0;pe[38]=-1;ge[38]=0;ve[38]=1;Be[38]=-1;ye[38]=0;_e[38]=0;Ee[39]=0;Fe[39]=1;Qe[39]=1;xe[39]=-1;Te[39]=0;Oe[39]=0;Pe[39]=0;He[39]=-1;Ne[39]=1;Re[39]=0;Le[39]=1;Me[39]=0;pe[39]=-1;ge[39]=0;ve[39]=1;Be[39]=1;ye[39]=0;_e[39]=0;var Hu=function(r){return[[r.bottomleft,0],[0,0],[0,r.leftbottom]]},Nu=function(r){return[[1,r.rightbottom],[1,0],[r.bottomright,0]]},Du=function(r){return[[r.topright,1],[1,1],[1,r.righttop]]},Gu=function(r){return[[0,r.lefttop],[0,1],[r.topleft,1]]},bu=function(r){return[[r.bottomright,0],[r.bottomleft,0],[0,r.leftbottom],[0,r.lefttop]]},Ku=function(r){return[[r.bottomright,0],[r.bottomleft,0],[1,r.righttop],[1,r.rightbottom]]},ku=function(r){return[[1,r.righttop],[1,r.rightbottom],[r.topleft,1],[r.topright,1]]},Vu=function(r){return[[0,r.leftbottom],[0,r.lefttop],[r.topleft,1],[r.topright,1]]},jy=function(r){return[[0,0],[0,r.leftbottom],[1,r.rightbottom],[1,0]]},Zy=function(r){return[[1,0],[r.bottomright,0],[r.topright,1],[1,1]]},zy=function(r){return[[1,1],[1,r.righttop],[0,r.lefttop],[0,1]]},$y=function(r){return[[r.bottomleft,0],[0,0],[0,1],[r.topleft,1]]},Jy=function(r){return[[1,r.righttop],[1,r.rightbottom],[0,r.leftbottom],[0,r.lefttop]]},qy=function(r){return[[r.topleft,1],[r.topright,1],[r.bottomright,0],[r.bottomleft,0]]},e_=function(){return[[0,0],[0,1],[1,1],[1,0]]},t_=function(r){return[[1,r.rightbottom],[1,0],[0,0],[0,1],[r.topleft,1]]},A_=function(r){return[[r.topright,1],[1,1],[1,0],[0,0],[0,r.leftbottom]]},r_=function(r){return[[1,0],[r.bottomright,0],[0,r.lefttop],[0,1],[1,1]]},n_=function(r){return[[1,1],[1,r.righttop],[r.bottomleft,0],[0,0],[0,1]]},i_=function(r){return[[1,r.righttop],[1,r.rightbottom],[0,r.lefttop],[0,1],[r.topleft,1]]},o_=function(r){return[[1,1],[1,r.righttop],[r.bottomright,0],[r.bottomleft,0],[r.topright,1]]},a_=function(r){return[[1,r.rightbottom],[1,0],[r.bottomright,0],[0,r.leftbottom],[0,r.lefttop]]},s_=function(r){return[[r.topright,1],[r.bottomleft,0],[0,0],[0,r.leftbottom],[r.topleft,1]]},u_=function(r){return[[r.bottomright,0],[r.bottomleft,0],[0,r.lefttop],[0,1],[r.topleft,1]]},l_=function(r){return[[1,1],[1,r.righttop],[0,r.leftbottom],[0,r.lefttop],[r.topright,1]]},f_=function(r){return[[1,r.rightbottom],[1,0],[r.bottomright,0],[r.topleft,1],[r.topright,1]]},h_=function(r){return[[1,r.righttop],[1,r.rightbottom],[r.bottomleft,0],[0,0],[0,r.leftbottom]]},c_=function(r){return[[1,r.rightbottom],[1,0],[0,0],[0,r.leftbottom],[r.topleft,1],[r.topright,1]]},d_=function(r){return[[1,1],[1,0],[r.bottomright,0],[0,r.leftbottom],[0,r.lefttop],[r.topright,1]]},p_=function(r){return[[1,1],[1,r.righttop],[r.bottomright,0],[r.bottomleft,0],[0,r.lefttop],[0,1]]},g_=function(r){return[[1,r.righttop],[1,r.rightbottom],[r.bottomleft,0],[0,0],[0,1],[r.topleft,1]]},v_=function(r){return[[1,1],[1,r.righttop],[r.bottomleft,0],[0,0],[0,r.leftbottom],[r.topright,1]]},B_=function(r){return[[1,r.rightbottom],[1,0],[r.bottomright,0],[0,r.lefttop],[0,1],[r.topleft,1]]},y_=function(r){return[[1,r.righttop],[1,r.rightbottom],[r.bottomright,0],[r.bottomleft,0],[0,r.leftbottom],[0,r.lefttop],[r.topleft,1],[r.topright,1]]},__=function(r){return[[1,1],[1,r.righttop],[r.bottomleft,0],[0,0],[0,r.leftbottom],[r.topright,1]]},w_=function(r){return[[1,r.rightbottom],[1,0],[r.bottomright,0],[0,r.lefttop],[0,1],[r.topleft,1]]},m_=function(r){return[[1,1],[1,r.righttop],[r.bottomright,0],[r.bottomleft,0],[0,r.leftbottom],[0,r.lefttop],[r.topright,1]]},C_=function(r){return[[1,r.righttop],[1,r.rightbottom],[r.bottomleft,0],[0,0],[0,r.leftbottom],[r.topleft,1],[r.topright,1]]},E_=function(r){return[[1,r.righttop],[1,r.rightbottom],[r.bottomright,0],[r.bottomleft,0],[0,r.lefttop],[0,1],[r.topleft,1]]},F_=function(r){return[[1,r.rightbottom],[1,0],[r.bottomright,0],[0,r.leftbottom],[0,r.lefttop],[r.topleft,1],[r.topright,1]]},N=[],H=[],W=[],V=[],z=[],j=[],De=[],Ke=[];V[1]=z[1]=18;V[169]=z[169]=18;W[4]=H[4]=12;W[166]=H[166]=12;N[16]=Ke[16]=4;N[154]=Ke[154]=4;j[64]=De[64]=22;j[106]=De[106]=22;W[2]=j[2]=17;V[2]=z[2]=18;W[168]=j[168]=17;V[168]=z[168]=18;N[8]=V[8]=9;H[8]=W[8]=12;N[162]=V[162]=9;H[162]=W[162]=12;N[32]=Ke[32]=4;H[32]=De[32]=1;N[138]=Ke[138]=4;H[138]=De[138]=1;z[128]=Ke[128]=21;j[128]=De[128]=22;z[42]=Ke[42]=21;j[42]=De[42]=22;H[5]=z[5]=14;H[165]=z[165]=14;W[20]=Ke[20]=6;W[150]=Ke[150]=6;N[80]=j[80]=11;N[90]=j[90]=11;V[65]=De[65]=3;V[105]=De[105]=3;N[160]=j[160]=11;H[160]=z[160]=14;N[10]=j[10]=11;H[10]=z[10]=14;W[130]=Ke[130]=6;V[130]=De[130]=3;W[40]=Ke[40]=6;V[40]=De[40]=3;H[101]=De[101]=1;H[69]=De[69]=1;z[149]=Ke[149]=21;z[21]=Ke[21]=21;W[86]=j[86]=17;W[84]=j[84]=17;N[89]=V[89]=9;N[81]=V[81]=9;N[96]=De[96]=0;H[96]=j[96]=15;N[74]=De[74]=0;H[74]=j[74]=15;N[24]=W[24]=8;V[24]=Ke[24]=7;N[146]=W[146]=8;V[146]=Ke[146]=7;H[6]=j[6]=15;W[6]=z[6]=16;H[164]=j[164]=15;W[164]=z[164]=16;V[129]=Ke[129]=7;z[129]=De[129]=20;V[41]=Ke[41]=7;z[41]=De[41]=20;W[66]=De[66]=2;V[66]=j[66]=19;W[104]=De[104]=2;V[104]=j[104]=19;N[144]=z[144]=10;j[144]=Ke[144]=23;N[26]=z[26]=10;j[26]=Ke[26]=23;H[36]=Ke[36]=5;W[36]=De[36]=2;H[134]=Ke[134]=5;W[134]=De[134]=2;N[9]=z[9]=10;H[9]=V[9]=13;N[161]=z[161]=10;H[161]=V[161]=13;H[37]=Ke[37]=5;z[37]=De[37]=20;H[133]=Ke[133]=5;z[133]=De[133]=20;W[148]=z[148]=16;j[148]=Ke[148]=23;W[22]=z[22]=16;j[22]=Ke[22]=23;N[82]=W[82]=8;V[82]=j[82]=19;N[88]=W[88]=8;V[88]=j[88]=19;N[73]=De[73]=0;H[73]=V[73]=13;N[97]=De[97]=0;H[97]=V[97]=13;N[145]=V[145]=9;z[145]=Ke[145]=21;N[25]=V[25]=9;z[25]=Ke[25]=21;H[70]=De[70]=1;W[70]=j[70]=17;H[100]=De[100]=1;W[100]=j[100]=17;N[34]=V[34]=9;H[34]=W[34]=12;z[34]=Ke[34]=21;j[34]=De[34]=22;N[136]=Ke[136]=4;H[136]=De[136]=1;W[136]=j[136]=17;V[136]=z[136]=18;N[35]=Ke[35]=4;H[35]=W[35]=12;V[35]=z[35]=18;j[35]=De[35]=22;N[153]=Ke[153]=4;V[153]=z[153]=18;H[102]=W[102]=12;j[102]=De[102]=22;N[155]=V[155]=9;z[155]=Ke[155]=23;H[103]=De[103]=1;W[103]=j[103]=17;N[152]=Ke[152]=4;W[152]=j[152]=17;V[152]=z[152]=18;N[156]=W[156]=8;V[156]=z[156]=18;j[156]=Ke[156]=23;N[137]=Ke[137]=4;H[137]=De[137]=1;V[137]=z[137]=18;N[139]=Ke[139]=4;H[139]=V[139]=13;z[139]=De[139]=20;N[98]=V[98]=9;H[98]=W[98]=12;j[98]=De[98]=22;N[99]=De[99]=0;H[99]=W[99]=12;V[99]=j[99]=19;H[38]=W[38]=12;z[38]=Ke[38]=21;j[38]=De[38]=22;H[39]=Ke[39]=5;W[39]=z[39]=16;j[39]=De[39]=22;var M=[];M[1]=M[169]=Hu;M[4]=M[166]=Nu;M[16]=M[154]=Du;M[64]=M[106]=Gu;M[168]=M[2]=bu;M[162]=M[8]=Ku;M[138]=M[32]=ku;M[42]=M[128]=Vu;M[5]=M[165]=jy;M[20]=M[150]=Zy;M[80]=M[90]=zy;M[65]=M[105]=$y;M[160]=M[10]=Jy;M[130]=M[40]=qy;M[85]=e_;M[101]=M[69]=t_;M[149]=M[21]=A_;M[86]=M[84]=r_;M[89]=M[81]=n_;M[96]=M[74]=i_;M[24]=M[146]=o_;M[6]=M[164]=a_;M[129]=M[41]=s_;M[66]=M[104]=u_;M[144]=M[26]=l_;M[36]=M[134]=f_;M[9]=M[161]=h_;M[37]=M[133]=c_;M[148]=M[22]=d_;M[82]=M[88]=p_;M[73]=M[97]=g_;M[145]=M[25]=v_;M[70]=M[100]=B_;M[34]=function(r){return[Vu(r),Ku(r)]};M[35]=y_;M[136]=function(r){return[ku(r),bu(r)]};M[153]=function(r){return[Du(r),Hu(r)]};M[102]=function(r){return[Nu(r),Gu(r)]};M[155]=__;M[103]=w_;M[152]=function(r){return[Du(r),bu(r)]};M[156]=m_;M[137]=function(r){return[ku(r),Hu(r)]};M[139]=C_;M[98]=function(r){return[Ku(r),Gu(r)]};M[99]=E_;M[38]=function(r){return[Nu(r),Vu(r)]};M[39]=F_;function v(r,t,e){return(r-t)/(e-t)}function Yu(r){return r.constructor.toString().indexOf("Array")>-1}function Q_(r,t,e){for(var A=r.length-1,n=r[0].length-1,i={rows:A,cols:n,cells:[]},o=t+Math.abs(e),a=0;a<A;++a){i.cells[a]=[];for(var s=0;s<n;++s){var u=0,l=r[a+1][s],f=r[a+1][s+1],h=r[a][s+1],c=r[a][s];if(!(isNaN(l)||isNaN(f)||isNaN(h)||isNaN(c))){u|=l<t?0:l>o?128:64,u|=f<t?0:f>o?32:16,u|=h<t?0:h>o?8:4,u|=c<t?0:c>o?2:1;var d=+u,p=0;if(u===17||u===18||u===33||u===34||u===38||u===68||u===72||u===98||u===102||u===132||u===136||u===137||u===152||u===153){var B=(l+f+h+c)/4;p=B>o?2:B<t?0:1,u===34?p===1?u=35:p===0&&(u=136):u===136?p===1?(u=35,p=4):p===0&&(u=34):u===17?p===1?(u=155,p=4):p===0&&(u=153):u===68?p===1?(u=103,p=4):p===0&&(u=102):u===153?p===1&&(u=155):u===102?p===1&&(u=103):u===152?p<2&&(u=156,p=1):u===137?p<2&&(u=139,p=1):u===98?p<2&&(u=99,p=1):u===38?p<2&&(u=39,p=1):u===18?p>0?(u=156,p=4):u=152:u===33?p>0?(u=139,p=4):u=137:u===72?p>0?(u=99,p=4):u=98:u===132&&(p>0?(u=39,p=4):u=38)}if(u!=0&&u!=170){var g,y,m,_,C,F,E,Q;g=y=m=_=C=F=E=Q=.5;var w=[];u===1?(m=1-v(t,h,c),Q=1-v(t,l,c),w.push(V[u])):u===169?(m=v(o,c,h),Q=v(o,c,l),w.push(V[u])):u===4?(F=1-v(t,f,h),_=v(t,c,h),w.push(H[u])):u===166?(F=v(o,h,f),_=1-v(o,h,c),w.push(H[u])):u===16?(C=v(t,h,f),y=v(t,l,f),w.push(N[u])):u===154?(C=1-v(o,f,h),y=1-v(o,f,l),w.push(N[u])):u===64?(E=v(t,c,l),g=1-v(t,f,l),w.push(j[u])):u===106?(E=1-v(o,l,c),g=v(o,l,f),w.push(j[u])):u===168?(_=v(o,c,h),m=v(t,c,h),Q=v(t,c,l),E=v(o,c,l),w.push(W[u]),w.push(V[u])):u===2?(_=1-v(t,h,c),m=1-v(o,h,c),Q=1-v(o,l,c),E=1-v(t,l,c),w.push(W[u]),w.push(V[u])):u===162?(C=v(o,h,f),F=v(t,h,f),_=1-v(t,h,c),m=1-v(o,h,c),w.push(W[u]),w.push(V[u])):u===8?(C=1-v(t,f,h),F=1-v(o,f,h),_=v(o,c,h),m=v(t,c,h),w.push(N[u]),w.push(H[u])):u===138?(C=1-v(t,f,h),F=1-v(o,f,h),g=1-v(o,f,l),y=1-v(t,f,l),w.push(N[u]),w.push(H[u])):u===32?(C=v(o,h,f),F=v(t,h,f),g=v(t,l,f),y=v(o,l,f),w.push(N[u]),w.push(H[u])):u===42?(Q=1-v(o,l,c),E=1-v(t,l,c),g=v(t,l,f),y=v(o,l,f),w.push(z[u]),w.push(j[u])):u===128&&(Q=v(t,c,l),E=v(o,c,l),g=1-v(o,f,l),y=1-v(t,f,l),w.push(z[u]),w.push(j[u])),u===5?(F=1-v(t,f,h),Q=1-v(t,l,c),w.push(H[u])):u===165?(F=v(o,h,f),Q=v(o,c,l),w.push(H[u])):u===20?(_=v(t,c,h),y=v(t,l,f),w.push(W[u])):u===150?(_=1-v(o,h,c),y=1-v(o,f,l),w.push(W[u])):u===80?(C=v(t,h,f),E=v(t,c,l),w.push(N[u])):u===90?(C=1-v(o,f,h),E=1-v(o,l,c),w.push(N[u])):u===65?(m=1-v(t,h,c),g=1-v(t,f,l),w.push(V[u])):u===105?(m=v(o,c,h),g=v(o,l,f),w.push(V[u])):u===160?(C=v(o,h,f),F=v(t,h,f),Q=v(t,c,l),E=v(o,c,l),w.push(N[u]),w.push(H[u])):u===10?(C=1-v(t,f,h),F=1-v(o,f,h),Q=1-v(o,l,c),E=1-v(t,l,c),w.push(N[u]),w.push(H[u])):u===130?(_=1-v(t,h,c),m=1-v(o,h,c),g=1-v(o,f,l),y=1-v(t,f,l),w.push(W[u]),w.push(V[u])):u===40?(_=v(o,c,h),m=v(t,c,h),g=v(t,l,f),y=v(o,l,f),w.push(W[u]),w.push(V[u])):u===101?(F=v(o,h,f),g=v(o,l,f),w.push(H[u])):u===69?(F=1-v(t,f,h),g=1-v(t,f,l),w.push(H[u])):u===149?(Q=v(o,c,l),y=1-v(o,f,l),w.push(z[u])):u===21?(Q=1-v(t,l,c),y=v(t,l,f),w.push(z[u])):u===86?(_=1-v(o,h,c),E=1-v(o,l,c),w.push(W[u])):u===84?(_=v(t,c,h),E=v(t,c,l),w.push(W[u])):u===89?(C=1-v(o,f,h),m=v(o,c,h),w.push(V[u])):u===81?(C=v(t,h,f),m=1-v(t,h,c),w.push(V[u])):u===96?(C=v(o,h,f),F=v(t,h,f),E=v(t,c,l),g=v(o,l,f),w.push(N[u]),w.push(H[u])):u===74?(C=1-v(t,f,h),F=1-v(o,f,h),E=1-v(o,l,c),g=1-v(t,f,l),w.push(N[u]),w.push(H[u])):u===24?(C=1-v(o,f,h),_=v(o,c,h),m=v(t,c,h),y=v(t,l,f),w.push(N[u]),w.push(V[u])):u===146?(C=v(t,h,f),_=1-v(t,h,c),m=1-v(o,h,c),y=1-v(o,f,l),w.push(N[u]),w.push(V[u])):u===6?(F=1-v(t,f,h),_=1-v(o,h,c),Q=1-v(o,l,c),E=1-v(t,l,c),w.push(H[u]),w.push(W[u])):u===164?(F=v(o,h,f),_=v(t,c,h),Q=v(t,c,l),E=v(o,c,l),w.push(H[u]),w.push(W[u])):u===129?(m=1-v(t,h,c),Q=v(o,c,l),g=1-v(o,f,l),y=1-v(t,f,l),w.push(V[u]),w.push(z[u])):u===41?(m=v(o,c,h),Q=1-v(t,l,c),g=v(t,l,f),y=v(o,l,f),w.push(V[u]),w.push(z[u])):u===66?(_=1-v(t,h,c),m=1-v(o,h,c),E=1-v(o,l,c),g=1-v(t,f,l),w.push(W[u]),w.push(V[u])):u===104?(_=v(o,c,h),m=v(t,c,h),E=v(t,c,l),g=v(o,l,f),w.push(V[u]),w.push(De[u])):u===144?(C=v(t,h,f),Q=v(t,c,l),E=v(o,c,l),y=1-v(o,f,l),w.push(N[u]),w.push(j[u])):u===26?(C=1-v(o,f,h),Q=1-v(o,l,c),E=1-v(t,l,c),y=v(t,l,f),w.push(N[u]),w.push(j[u])):u===36?(F=v(o,h,f),_=v(t,c,h),g=v(t,l,f),y=v(o,l,f),w.push(H[u]),w.push(W[u])):u===134?(F=1-v(t,f,h),_=1-v(o,h,c),g=1-v(o,f,l),y=1-v(t,f,l),w.push(H[u]),w.push(W[u])):u===9?(C=1-v(t,f,h),F=1-v(o,f,h),m=v(o,c,h),Q=1-v(t,l,c),w.push(N[u]),w.push(H[u])):u===161?(C=v(o,h,f),F=v(t,h,f),m=1-v(t,h,c),Q=v(o,c,l),w.push(N[u]),w.push(H[u])):u===37?(F=v(o,h,f),Q=1-v(t,l,c),g=v(t,l,f),y=v(o,l,f),w.push(H[u]),w.push(z[u])):u===133?(F=1-v(t,f,h),Q=v(o,c,l),g=1-v(o,f,l),y=1-v(t,f,l),w.push(H[u]),w.push(z[u])):u===148?(_=v(t,c,h),Q=v(t,c,l),E=v(o,c,l),y=1-v(o,f,l),w.push(W[u]),w.push(j[u])):u===22?(_=1-v(o,h,c),Q=1-v(o,l,c),E=1-v(t,l,c),y=v(t,l,f),w.push(W[u]),w.push(j[u])):u===82?(C=v(t,h,f),_=1-v(t,h,c),m=1-v(o,h,c),E=1-v(o,l,c),w.push(N[u]),w.push(V[u])):u===88?(C=1-v(o,f,h),_=v(o,c,h),m=v(t,c,h),E=v(t,c,l),w.push(N[u]),w.push(V[u])):u===73?(C=1-v(t,f,h),F=1-v(o,f,h),m=v(o,c,h),g=1-v(t,f,l),w.push(N[u]),w.push(H[u])):u===97?(C=v(o,h,f),F=v(t,h,f),m=1-v(t,h,c),g=v(o,l,f),w.push(N[u]),w.push(H[u])):u===145?(C=v(t,h,f),m=1-v(t,h,c),Q=v(o,c,l),y=1-v(o,f,l),w.push(N[u]),w.push(z[u])):u===25?(C=1-v(o,f,h),m=v(o,c,h),Q=1-v(t,l,c),y=v(t,l,f),w.push(N[u]),w.push(z[u])):u===70?(F=1-v(t,f,h),_=1-v(o,h,c),E=1-v(o,l,c),g=1-v(t,f,l),w.push(H[u]),w.push(W[u])):u===100?(F=v(o,h,f),_=v(t,c,h),E=v(t,c,l),g=v(o,l,f),w.push(H[u]),w.push(W[u])):u===34?(p===0?(C=1-v(t,f,h),F=1-v(o,f,h),_=v(o,c,h),m=v(t,c,h),Q=v(t,c,l),E=v(o,c,l),g=1-v(o,f,l),y=1-v(t,f,l)):(C=v(o,h,f),F=v(t,h,f),_=1-v(t,h,c),m=1-v(o,h,c),Q=1-v(o,l,c),E=1-v(t,l,c),g=v(t,l,f),y=v(o,l,f)),w.push(N[u]),w.push(H[u]),w.push(z[u]),w.push(j[u])):u===35?(p===4?(C=1-v(t,f,h),F=1-v(o,f,h),_=v(o,c,h),m=v(t,c,h),Q=v(t,c,l),E=v(o,c,l),g=1-v(o,f,l),y=1-v(t,f,l)):(C=v(o,h,f),F=v(t,h,f),_=1-v(t,h,c),m=1-v(o,h,c),Q=1-v(o,l,c),E=1-v(t,l,c),g=v(t,l,f),y=v(o,l,f)),w.push(N[u]),w.push(H[u]),w.push(V[u]),w.push(j[u])):u===136?(p===0?(C=v(o,h,f),F=v(t,h,f),_=1-v(t,h,c),m=1-v(o,h,c),Q=1-v(o,l,c),E=1-v(t,l,c),g=v(t,l,f),y=v(o,l,f)):(C=1-v(t,f,h),F=1-v(o,f,h),_=v(o,c,h),m=v(t,c,h),Q=v(t,c,l),E=v(o,c,l),g=1-v(o,f,l),y=1-v(t,f,l)),w.push(N[u]),w.push(H[u]),w.push(z[u]),w.push(j[u])):u===153?(p===0?(C=v(t,h,f),m=1-v(t,h,c),Q=1-v(t,l,c),y=v(t,l,f)):(C=1-v(o,f,h),m=v(o,c,h),Q=v(o,c,l),y=1-v(o,f,l)),w.push(N[u]),w.push(V[u])):u===102?(p===0?(F=1-v(t,f,h),_=v(t,c,h),E=v(t,c,l),g=1-v(t,f,l)):(F=v(o,h,f),_=1-v(o,h,c),E=1-v(o,l,c),g=v(o,l,f)),w.push(H[u]),w.push(j[u])):u===155?(p===4?(C=v(t,h,f),m=1-v(t,h,c),Q=1-v(t,l,c),y=v(t,l,f)):(C=1-v(o,f,h),m=v(o,c,h),Q=v(o,c,l),y=1-v(o,f,l)),w.push(N[u]),w.push(z[u])):u===103?(p===4?(F=1-v(t,f,h),_=v(t,c,h),E=v(t,c,l),g=1-v(t,f,l)):(F=v(o,h,f),_=1-v(o,h,c),E=1-v(o,l,c),g=v(o,l,f)),w.push(H[u]),w.push(W[u])):u===152?(p===0?(C=v(t,h,f),_=1-v(t,h,c),m=1-v(o,h,c),Q=1-v(o,l,c),E=1-v(t,l,c),y=v(t,l,f)):(C=1-v(o,f,h),_=v(o,c,h),m=v(t,c,h),Q=v(t,c,l),E=v(o,c,l),y=1-v(o,f,l)),w.push(N[u]),w.push(W[u]),w.push(V[u])):u===156?(p===4?(C=v(t,h,f),_=1-v(t,h,c),m=1-v(o,h,c),Q=1-v(o,l,c),E=1-v(t,l,c),y=v(t,l,f)):(C=1-v(o,f,h),_=v(o,c,h),m=v(t,c,h),Q=v(t,c,l),E=v(o,c,l),y=1-v(o,f,l)),w.push(N[u]),w.push(V[u]),w.push(j[u])):u===137?(p===0?(C=v(o,h,f),F=v(t,h,f),m=1-v(t,h,c),Q=1-v(t,l,c),g=v(t,l,f),y=v(o,l,f)):(C=1-v(t,f,h),F=1-v(o,f,h),m=v(o,c,h),Q=v(o,c,l),g=1-v(o,f,l),y=1-v(t,f,l)),w.push(N[u]),w.push(H[u]),w.push(V[u])):u===139?(p===4?(C=v(o,h,f),F=v(t,h,f),m=1-v(t,h,c),Q=1-v(t,l,c),g=v(t,l,f),y=v(o,l,f)):(C=1-v(t,f,h),F=1-v(o,f,h),m=v(o,c,h),Q=v(o,c,l),g=1-v(o,f,l),y=1-v(t,f,l)),w.push(N[u]),w.push(H[u]),w.push(z[u])):u===98?(p===0?(C=1-v(t,f,h),F=1-v(o,f,h),_=v(o,c,h),m=v(t,c,h),E=v(t,c,l),g=1-v(t,f,l)):(C=v(o,h,f),F=v(t,h,f),_=1-v(t,h,c),m=1-v(o,h,c),E=1-v(o,l,c),g=v(o,l,f)),w.push(N[u]),w.push(H[u]),w.push(j[u])):u===99?(p===4?(C=1-v(t,f,h),F=1-v(o,f,h),_=v(o,c,h),m=v(t,c,h),E=v(t,c,l),g=1-v(t,f,l)):(C=v(o,h,f),F=v(t,h,f),_=1-v(t,h,c),m=1-v(o,h,c),E=1-v(o,l,c),g=v(o,l,f)),w.push(N[u]),w.push(H[u]),w.push(V[u])):u===38?(p===0?(F=1-v(t,f,h),_=v(t,c,h),Q=v(t,c,l),E=v(o,c,l),g=1-v(o,f,l),y=1-v(t,f,l)):(F=v(o,h,f),_=1-v(o,h,c),Q=1-v(o,l,c),E=1-v(t,l,c),g=v(t,l,f),y=v(o,l,f)),w.push(H[u]),w.push(z[u]),w.push(j[u])):u===39?(p===4?(F=1-v(t,f,h),_=v(t,c,h),Q=v(t,c,l),E=v(o,c,l),g=1-v(o,f,l),y=1-v(t,f,l)):(F=v(o,h,f),_=1-v(o,h,c),Q=1-v(o,l,c),E=1-v(t,l,c),g=v(t,l,f),y=v(o,l,f)),w.push(H[u]),w.push(W[u]),w.push(j[u])):u===85&&(C=1,F=0,_=1,m=0,Q=0,E=1,g=0,y=1),(g<0||g>1||y<0||y>1||C<0||C>1||_<0||_>1||Q<0||Q>1||E<0||E>1)&&console.log("MarchingSquaresJS-isoBands: "+u+" "+d+" "+l+","+f+","+h+","+c+" "+p+" "+g+" "+y+" "+C+" "+F+" "+_+" "+m+" "+Q+" "+E),i.cells[a][s]={cval:u,cval_real:d,flipped:p,topleft:g,topright:y,righttop:C,rightbottom:F,bottomright:_,bottomleft:m,leftbottom:Q,lefttop:E,edges:w}}}}}return i}function I_(r){for(var t=[],e=r.rows,A=r.cols,n=[],i=0;i<e;i++)for(var o=0;o<A;o++)if(typeof r.cells[i][o]!="undefined"&&r.cells[i][o].edges.length>0){var a=r.cells[i][o],s=x_(a),u=null,l=o,f=i;s!==null&&n.push([s.p[0]+l,s.p[1]+f]);do{if(u=T_(r.cells[f][l],s.x,s.y,s.o),u!==null)n.push([u.p[0]+l,u.p[1]+f]),l+=u.x,f+=u.y,s=u;else break;if(f<0||f>=e||l<0||l>=A||typeof r.cells[f][l]=="undefined"){l-=u.x,f-=u.y;var h=U_(r,l,f,u.x,u.y,u.o);if(h!==null)h.path.forEach(function(c){n.push(c)}),l=h.i,f=h.j,s=h;else break}}while(typeof r.cells[f][l]!="undefined"&&r.cells[f][l].edges.length>0);t.push(n),n=[],r.cells[i][o].edges.length>0&&o--}return t}function U_(r,t,e,A,n,i){for(var o=r.cells[e][t],a=o.cval_real,s=t+A,u=e+n,l=[],f=!1;!f;){if(typeof r.cells[u]=="undefined"||typeof r.cells[u][s]=="undefined")if(u-=n,s-=A,o=r.cells[u][s],a=o.cval_real,n===-1)if(i===0)if(a&St)l.push([s,u]),A=-1,n=0,i=0;else if(a&Qt)l.push([s+1,u]),A=1,n=0,i=0;else{l.push([s+o.bottomright,u]),A=0,n=1,i=1,f=!0;break}else if(a&St)l.push([s,u]),A=-1,n=0,i=0;else if(a&Qt){l.push([s+o.bottomright,u]),A=0,n=1,i=1,f=!0;break}else{l.push([s+o.bottomleft,u]),A=0,n=1,i=0,f=!0;break}else if(n===1)if(i===0)if(a&dA)l.push([s+1,u+1]),A=1,n=0,i=1;else if(a&Rt){l.push([s+o.topleft,u+1]),A=0,n=-1,i=0,f=!0;break}else{l.push([s+o.topright,u+1]),A=0,n=-1,i=1,f=!0;break}else a&dA?(l.push([s+1,u+1]),A=1,n=0,i=1):(l.push([s+1,u+1]),A=1,n=0,i=1);else if(A===-1)if(i===0)if(a&Rt)l.push([s,u+1]),A=0,n=1,i=0;else if(a&St){l.push([s,u+o.leftbottom]),A=1,n=0,i=0,f=!0;break}else{l.push([s,u+o.lefttop]),A=1,n=0,i=1,f=!0;break}else if(a&Rt)l.push([s,u+1]),A=0,n=1,i=0;else{console.log("MarchingSquaresJS-isoBands: wtf");break}else if(A===1)if(i===0)if(a&Qt)l.push([s+1,u]),A=0,n=-1,i=1;else{l.push([s+1,u+o.rightbottom]),A=-1,n=0,i=0,f=!0;break}else if(a&Qt)l.push([s+1,u]),A=0,n=-1,i=1;else if(a&dA){l.push([s+1,u+o.righttop]),A=-1,n=0,i=1;break}else{l.push([s+1,u+o.rightbottom]),A=-1,n=0,i=0,f=!0;break}else{console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}else if(o=r.cells[u][s],a=o.cval_real,A===-1)if(i===0)if(typeof r.cells[u-1]!="undefined"&&typeof r.cells[u-1][s]!="undefined")A=0,n=-1,i=1;else if(a&St)l.push([s,u]);else{l.push([s+o.bottomright,u]),A=0,n=1,i=1,f=!0;break}else if(a&Rt)console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!");else{console.log("MarchingSquaresJS-isoBands: found entry from top at "+s+","+u);break}else if(A===1)if(i===0){console.log("MarchingSquaresJS-isoBands: wtf");break}else if(typeof r.cells[u+1]!="undefined"&&typeof r.cells[u+1][s]!="undefined")A=0,n=1,i=0;else if(a&dA)l.push([s+1,u+1]),A=1,n=0,i=1;else{l.push([s+o.topleft,u+1]),A=0,n=-1,i=0,f=!0;break}else if(n===-1)if(i===1)if(typeof r.cells[u][s+1]!="undefined")A=1,n=0,i=1;else if(a&Qt)l.push([s+1,u]),A=0,n=-1,i=1;else{l.push([s+1,u+o.righttop]),A=-1,n=0,i=1,f=!0;break}else{console.log("MarchingSquaresJS-isoBands: wtf");break}else if(n===1)if(i===0)if(typeof r.cells[u][s-1]!="undefined")A=-1,n=0,i=0;else if(a&Rt)l.push([s,u+1]),A=0,n=1,i=0;else{l.push([s,u+o.leftbottom]),A=1,n=0,i=0,f=!0;break}else{console.log("MarchingSquaresJS-isoBands: wtf");break}else{console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(s+=A,u+=n,s===t&&u===e)break}return{path:l,i:s,j:u,x:A,y:n,o:i}}function S_(r,t){delete r.edges[t];for(var e=t+1;e<r.edges.length;e++)r.edges[e-1]=r.edges[e];r.edges.pop()}function x_(r){if(r.edges.length>0){var t=r.edges[r.edges.length-1],e=r.cval_real;switch(t){case 0:return e&dA?{p:[1,r.righttop],x:-1,y:0,o:1}:{p:[r.topleft,1],x:0,y:-1,o:0};case 1:return e&Qt?{p:[r.topleft,1],x:0,y:-1,o:0}:{p:[1,r.rightbottom],x:-1,y:0,o:0};case 2:return e&Qt?{p:[r.bottomright,0],x:0,y:1,o:1}:{p:[r.topleft,1],x:0,y:-1,o:0};case 3:return e&St?{p:[r.topleft,1],x:0,y:-1,o:0}:{p:[r.bottomleft,0],x:0,y:1,o:0};case 4:return e&dA?{p:[1,r.righttop],x:-1,y:0,o:1}:{p:[r.topright,1],x:0,y:-1,o:1};case 5:return e&Qt?{p:[r.topright,1],x:0,y:-1,o:1}:{p:[1,r.rightbottom],x:-1,y:0,o:0};case 6:return e&Qt?{p:[r.bottomright,0],x:0,y:1,o:1}:{p:[r.topright,1],x:0,y:-1,o:1};case 7:return e&St?{p:[r.topright,1],x:0,y:-1,o:1}:{p:[r.bottomleft,0],x:0,y:1,o:0};case 8:return e&Qt?{p:[r.bottomright,0],x:0,y:1,o:1}:{p:[1,r.righttop],x:-1,y:0,o:1};case 9:return e&St?{p:[1,r.righttop],x:-1,y:0,o:1}:{p:[r.bottomleft,0],x:0,y:1,o:0};case 10:return e&St?{p:[0,r.leftbottom],x:1,y:0,o:0}:{p:[1,r.righttop],x:-1,y:0,o:1};case 11:return e&Rt?{p:[1,r.righttop],x:-1,y:0,o:1}:{p:[0,r.lefttop],x:1,y:0,o:1};case 12:return e&Qt?{p:[r.bottomright,0],x:0,y:1,o:1}:{p:[1,r.rightbottom],x:-1,y:0,o:0};case 13:return e&St?{p:[1,r.rightbottom],x:-1,y:0,o:0}:{p:[r.bottomleft,0],x:0,y:1,o:0};case 14:return e&St?{p:[0,r.leftbottom],x:1,y:0,o:0}:{p:[1,r.rightbottom],x:-1,y:0,o:0};case 15:return e&Rt?{p:[1,r.rightbottom],x:-1,y:0,o:0}:{p:[0,r.lefttop],x:1,y:0,o:1};case 16:return e&Qt?{p:[r.bottomright,0],x:0,y:1,o:1}:{p:[0,r.leftbottom],x:1,y:0,o:0};case 17:return e&Rt?{p:[r.bottomright,0],x:0,y:1,o:1}:{p:[0,r.lefttop],x:1,y:0,o:1};case 18:return e&St?{p:[0,r.leftbottom],x:1,y:0,o:0}:{p:[r.bottomleft,0],x:0,y:1,o:0};case 19:return e&Rt?{p:[r.bottomleft,0],x:0,y:1,o:0}:{p:[0,r.lefttop],x:1,y:0,o:1};case 20:return e&Rt?{p:[r.topleft,1],x:0,y:-1,o:0}:{p:[0,r.leftbottom],x:1,y:0,o:0};case 21:return e&dA?{p:[0,r.leftbottom],x:1,y:0,o:0}:{p:[r.topright,1],x:0,y:-1,o:1};case 22:return e&Rt?{p:[r.topleft,1],x:0,y:-1,o:0}:{p:[0,r.lefttop],x:1,y:0,o:1};case 23:return e&dA?{p:[0,r.lefttop],x:1,y:0,o:1}:{p:[r.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(r);break}}return null}function T_(r,t,e,A){var n,i,o,a,s=r.cval,u;switch(t){case-1:switch(A){case 0:n=H[s],o=Ee[s],a=Fe[s],u=Qe[s];break;default:n=N[s],o=we[s],a=me[s],u=Ce[s];break}break;case 1:switch(A){case 0:n=z[s],o=Pe[s],a=He[s],u=Ne[s];break;default:n=j[s],o=Re[s],a=Le[s],u=Me[s];break}break;default:switch(e){case-1:switch(A){case 0:n=De[s],o=pe[s],a=ge[s],u=ve[s];break;default:n=Ke[s],o=Be[s],a=ye[s],u=_e[s];break}break;case 1:switch(A){case 0:n=V[s],o=Ie[s],a=Ue[s],u=Se[s];break;default:n=W[s],o=xe[s],a=Te[s],u=Oe[s];break}break}break}if(i=r.edges.indexOf(n),typeof r.edges[i]!="undefined")S_(r,i);else return null;switch(s=r.cval_real,n){case 0:s&dA?(t=r.topleft,e=1):(t=1,e=r.righttop);break;case 1:s&Qt?(t=1,e=r.rightbottom):(t=r.topleft,e=1);break;case 2:s&Qt?(t=r.topleft,e=1):(t=r.bottomright,e=0);break;case 3:s&St?(t=r.bottomleft,e=0):(t=r.topleft,e=1);break;case 4:s&dA?(t=r.topright,e=1):(t=1,e=r.righttop);break;case 5:s&Qt?(t=1,e=r.rightbottom):(t=r.topright,e=1);break;case 6:s&Qt?(t=r.topright,e=1):(t=r.bottomright,e=0);break;case 7:s&St?(t=r.bottomleft,e=0):(t=r.topright,e=1);break;case 8:s&Qt?(t=1,e=r.righttop):(t=r.bottomright,e=0);break;case 9:s&St?(t=r.bottomleft,e=0):(t=1,e=r.righttop);break;case 10:s&St?(t=1,e=r.righttop):(t=0,e=r.leftbottom);break;case 11:s&Rt?(t=0,e=r.lefttop):(t=1,e=r.righttop);break;case 12:s&Qt?(t=1,e=r.rightbottom):(t=r.bottomright,e=0);break;case 13:s&St?(t=r.bottomleft,e=0):(t=1,e=r.rightbottom);break;case 14:s&St?(t=1,e=r.rightbottom):(t=0,e=r.leftbottom);break;case 15:s&Rt?(t=0,e=r.lefttop):(t=1,e=r.rightbottom);break;case 16:s&Qt?(t=0,e=r.leftbottom):(t=r.bottomright,e=0);break;case 17:s&Rt?(t=0,e=r.lefttop):(t=r.bottomright,e=0);break;case 18:s&St?(t=r.bottomleft,e=0):(t=0,e=r.leftbottom);break;case 19:s&Rt?(t=0,e=r.lefttop):(t=r.bottomleft,e=0);break;case 20:s&Rt?(t=0,e=r.leftbottom):(t=r.topleft,e=1);break;case 21:s&dA?(t=r.topright,e=1):(t=0,e=r.leftbottom);break;case 22:s&Rt?(t=0,e=r.lefttop):(t=r.topleft,e=1);break;case 23:s&dA?(t=r.topright,e=1):(t=0,e=r.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(r),null}return(typeof t=="undefined"||typeof e=="undefined"||typeof o=="undefined"||typeof a=="undefined"||typeof u=="undefined")&&(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(r),console.log(t+" "+e+" "+o+" "+a+" "+u)),{p:[t,e],x:o,y:a,o:u}}function O_(r){var t=[],e=0;return r.cells.forEach(function(A,n){A.forEach(function(i,o){if(typeof i!="undefined"){var a=M[i.cval](i);typeof a=="object"&&Yu(a)?typeof a[0]=="object"&&Yu(a[0])?typeof a[0][0]=="object"&&Yu(a[0][0])?a.forEach(function(s){s.forEach(function(u){u[0]+=o,u[1]+=n}),t[e++]=s}):(a.forEach(function(s){s[0]+=o,s[1]+=n}),t[e++]=a):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),t}function R_(r,t,e){if(e=e||{},!va(e))throw new Error("options is invalid");var A=e.zProperty||"elevation",n=e.commonProperties||{},i=e.breaksProperties||[];if(Rc(r,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks is not an Array");if(!va(n))throw new Error("commonProperties is not an Object");if(!Array.isArray(i))throw new Error("breaksProperties is not an Array");var o=Yy(r,{zProperty:A,flip:!0}),a=L_(o,t,A);a=M_(a,o,r);var s=a.map(function(u,l){if(i[l]&&!va(i[l]))throw new Error("Each mappedProperty is required to be an Object");var f=Ry({},n,i[l]);f[A]=u[A];var h=Ey(u.groupedRings,f);return h});return Tu(s)}function L_(r,t,e){for(var A=[],n=1;n<t.length;n++){var i=+t[n-1],o=+t[n],a=Wy(r,i,o-i),s=P_(a),u=H_(s),l={};l.groupedRings=u,l[e]=i+"-"+o,A.push(l)}return A}function M_(r,t,e){var A=Ou(e),n=A[2]-A[0],i=A[3]-A[1],o=A[0],a=A[1],s=t[0].length-1,u=t.length-1,l=n/s,f=i/u,h=function(c){c[0]=c[0]*l+o,c[1]=c[1]*f+a};return r.forEach(function(c){c.groupedRings.forEach(function(d){d.forEach(function(p){p.forEach(h)})})}),r}function P_(r){var t=[],e=[];r.forEach(function(n){var i=Mu(xu([n]));e.push(i),t.push({ring:n,area:i})}),e.sort(function(n,i){return i-n});var A=[];return e.forEach(function(n){for(var i=0;i<t.length;i++)if(t[i].area===n){A.push(t[i].ring),t.splice(i,1);break}}),A}function H_(r){for(var t=r.map(function(s){return{lrCoordinates:s,grouped:!1}}),e=[];!D_(t);)for(var A=0;A<t.length;A++)if(!t[A].grouped){var n=[];n.push(t[A].lrCoordinates),t[A].grouped=!0;for(var i=xu([t[A].lrCoordinates]),o=A+1;o<t.length;o++)if(!t[o].grouped){var a=xu([t[o].lrCoordinates]);N_(a,i)&&(n.push(t[o].lrCoordinates),t[o].grouped=!0)}e.push(n)}return e}function N_(r,t){for(var e=ky(r),A=0;A<e.features.length;A++)if(!by(e.features[A],t))return!1;return!0}function D_(r){for(var t=0;t<r.length;t++)if(r[t].grouped===!1)return!1;return!0}function kc(r,t){return r<t?-1:r>t?1:r>=t?0:NaN}function G_(r){return r.length===1&&(r=b_(r)),{left:function(t,e,A,n){for(A==null&&(A=0),n==null&&(n=t.length);A<n;){var i=A+n>>>1;r(t[i],e)<0?A=i+1:n=i}return A},right:function(t,e,A,n){for(A==null&&(A=0),n==null&&(n=t.length);A<n;){var i=A+n>>>1;r(t[i],e)>0?n=i:A=i+1}return A}}}function b_(r){return function(t,e){return kc(r(t),e)}}G_(kc);function K_(r,t){var e=r.length,A=-1,n,i,o;if(t==null){for(;++A<e;)if((n=r[A])!=null&&n>=n)for(i=o=n;++A<e;)(n=r[A])!=null&&(i>n&&(i=n),o<n&&(o=n))}else for(;++A<e;)if((n=t(r[A],A,r))!=null&&n>=n)for(i=o=n;++A<e;)(n=t(r[A],A,r))!=null&&(i>n&&(i=n),o<n&&(o=n));return[i,o]}function k_(r,t,e){r=+r,t=+t,e=(n=arguments.length)<2?(t=r,r=0,1):n<3?1:+e;for(var A=-1,n=Math.max(0,Math.ceil((t-r)/e))|0,i=new Array(n);++A<n;)i[A]=r+A*e;return i}var V_=Math.sqrt(50),Y_=Math.sqrt(10),X_=Math.sqrt(2);function W_(r,t,e){var A=Math.abs(t-r)/Math.max(0,e),n=Math.pow(10,Math.floor(Math.log(A)/Math.LN10)),i=A/n;return i>=V_?n*=10:i>=Y_?n*=5:i>=X_&&(n*=2),t<r?-n:n}function j_(r){return Math.ceil(Math.log(r.length)/Math.LN2)+1}var Z_=Array.prototype,z_=Z_.slice;function $_(r,t){return r-t}function J_(r){for(var t=0,e=r.length,A=r[e-1][1]*r[0][0]-r[e-1][0]*r[0][1];++t<e;)A+=r[t-1][1]*r[t][0]-r[t-1][0]*r[t][1];return A}function Vc(r){return function(){return r}}function q_(r,t){for(var e=-1,A=t.length,n;++e<A;)if(n=ew(r,t[e]))return n;return 0}function ew(r,t){for(var e=t[0],A=t[1],n=-1,i=0,o=r.length,a=o-1;i<o;a=i++){var s=r[i],u=s[0],l=s[1],f=r[a],h=f[0],c=f[1];if(tw(s,f,t))return 0;l>A!=c>A&&e<(h-u)*(A-l)/(c-l)+u&&(n=-n)}return n}function tw(r,t,e){var A;return Aw(r,t,e)&&rw(r[A=+(r[0]===t[0])],e[A],t[A])}function Aw(r,t,e){return(t[0]-r[0])*(e[1]-r[1])==(e[0]-r[0])*(t[1]-r[1])}function rw(r,t,e){return r<=t&&t<=e||e<=t&&t<=r}function nw(){}var nr=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function iw(){var r=1,t=1,e=j_,A=s;function n(u){var l=e(u);if(Array.isArray(l))l=l.slice().sort($_);else{var f=K_(u),h=f[0],c=f[1];l=W_(h,c,l),l=k_(Math.floor(h/l)*l,Math.floor(c/l)*l,l)}return l.map(function(d){return i(u,d)})}function i(u,l){var f=[],h=[];return o(u,l,function(c){A(c,u,l),J_(c)>0?f.push([c]):h.push(c)}),h.forEach(function(c){for(var d=0,p=f.length,B;d<p;++d)if(q_((B=f[d])[0],c)!==-1){B.push(c);return}}),{type:"MultiPolygon",value:l,coordinates:f}}function o(u,l,f){var h=new Array,c=new Array,d,p,B,g,y,m;for(d=p=-1,g=u[0]>=l,nr[g<<1].forEach(_);++d<r-1;)B=g,g=u[d+1]>=l,nr[B|g<<1].forEach(_);for(nr[g<<0].forEach(_);++p<t-1;){for(d=-1,g=u[p*r+r]>=l,y=u[p*r]>=l,nr[g<<1|y<<2].forEach(_);++d<r-1;)B=g,g=u[p*r+r+d+1]>=l,m=y,y=u[p*r+d+1]>=l,nr[B|g<<1|y<<2|m<<3].forEach(_);nr[g|y<<3].forEach(_)}for(d=-1,y=u[p*r]>=l,nr[y<<2].forEach(_);++d<r-1;)m=y,y=u[p*r+d+1]>=l,nr[y<<2|m<<3].forEach(_);nr[y<<3].forEach(_);function _(C){var F=[C[0][0]+d,C[0][1]+p],E=[C[1][0]+d,C[1][1]+p],Q=a(F),w=a(E),T,O;(T=c[Q])?(O=h[w])?(delete c[T.end],delete h[O.start],T===O?(T.ring.push(E),f(T.ring)):h[T.start]=c[O.end]={start:T.start,end:O.end,ring:T.ring.concat(O.ring)}):(delete c[T.end],T.ring.push(E),c[T.end=w]=T):(T=h[w])?(O=c[Q])?(delete h[T.start],delete c[O.end],T===O?(T.ring.push(E),f(T.ring)):h[O.start]=c[T.end]={start:O.start,end:T.end,ring:O.ring.concat(T.ring)}):(delete h[T.start],T.ring.unshift(F),h[T.start=Q]=T):h[Q]=c[w]={start:Q,end:w,ring:[F,E]}}}function a(u){return u[0]*2+u[1]*(r+1)*4}function s(u,l,f){u.forEach(function(h){var c=h[0],d=h[1],p=c|0,B=d|0,g,y=l[B*r+p];c>0&&c<r&&p===c&&(g=l[B*r+p-1],h[0]=c+(f-g)/(y-g)-.5),d>0&&d<t&&B===d&&(g=l[(B-1)*r+p],h[1]=d+(f-g)/(y-g)-.5)})}return n.contour=i,n.size=function(u){if(!arguments.length)return[r,t];var l=Math.ceil(u[0]),f=Math.ceil(u[1]);if(!(l>0)||!(f>0))throw new Error("invalid size");return r=l,t=f,n},n.thresholds=function(u){return arguments.length?(e=typeof u=="function"?u:Array.isArray(u)?Vc(z_.call(u)):Vc(u),n):e},n.smooth=function(u){return arguments.length?(A=u?s:nw,n):A===s},n}Array.prototype.max=function(){return Math.max.apply(null,this)};Array.prototype.min=function(){return Math.min.apply(null,this)};Array.prototype.mean=function(){var r,t;for(r=0,t=0;r<this.length;r++)t+=this[r];return t/this.length};Array.prototype.rep=function(r){for(var t=new Array(r),e=this[0],A=0;A<r;A++)t[A]=e;return t};Array.prototype.pip=function(r,t){var e,A,n=!1;for(e=0,A=this.length-1;e<this.length;A=e++)this[e][1]>t!=this[A][1]>t&&r<(this[A][0]-this[e][0])*(t-this[e][1])/(this[A][1]-this[e][1])+this[e][0]&&(n=!n);return n};function Yc(r,t){var e,A=[0].rep(t*t);for(e=0;e<t;e++)A[e*t+e]=r;return A}function ow(r,t,e){var A,n,i=Array(e*t);for(A=0;A<t;A++)for(n=0;n<e;n++)i[n*t+A]=r[A*e+n];return i}function Xc(r,t,e,A){var n,i,o=Array(e*A);for(n=0;n<e;n++)for(i=0;i<A;i++)o[n*A+i]=r[n*A+i]+t[n*A+i];return o}function rn(r,t,e,A,n){var i,o,a,s=Array(e*n);for(i=0;i<e;i++)for(o=0;o<n;o++)for(s[i*n+o]=0,a=0;a<A;a++)s[i*n+o]+=r[i*A+a]*t[a*n+o];return s}function Wc(r,t){var e,A,n,i=Array(t);for(e=0;e<t;e++)i[e]=r[e*t+e];for(e=0;e<t;e++){for(A=0;A<e;A++)i[e]-=r[e*t+A]*r[e*t+A];if(i[e]<=0)return!1;for(i[e]=Math.sqrt(i[e]),A=e+1;A<t;A++){for(n=0;n<e;n++)r[A*t+e]-=r[A*t+n]*r[e*t+n];r[A*t+e]/=i[e]}}for(e=0;e<t;e++)r[e*t+e]=i[e];return!0}function jc(r,t){var e,A,n,i;for(e=0;e<t;e++)for(r[e*t+e]=1/r[e*t+e],A=e+1;A<t;A++){for(i=0,n=e;n<A;n++)i-=r[A*t+n]*r[n*t+e];r[A*t+e]=i/r[A*t+A]}for(e=0;e<t;e++)for(A=e+1;A<t;A++)r[e*t+A]=0;for(e=0;e<t;e++){for(r[e*t+e]*=r[e*t+e],n=e+1;n<t;n++)r[e*t+e]+=r[n*t+e]*r[n*t+e];for(A=e+1;A<t;A++)for(n=A;n<t;n++)r[e*t+A]+=r[n*t+e]*r[n*t+A]}for(e=0;e<t;e++)for(A=0;A<e;A++)r[e*t+A]=r[A*t+e]}function Zc(r,t){var e=t,A=Array(t*t),n=Array(t),i=Array(t),o=Array(t),a,s,u,l,f,h,c,d,p,B,g;for(a=0;a<t;a++)for(l=0;l<t;l++)a==l?A[a*t+l]=1:A[a*t+l]=0;for(l=0;l<t;l++)o[l]=0;for(a=0;a<t;a++){for(d=0,l=0;l<t;l++)if(o[l]!=1)for(f=0;f<t;f++)o[f]==0&&Math.abs(r[l*t+f])>=d&&(d=Math.abs(r[l*t+f]),u=l,s=f);if(++o[s],u!=s){for(h=0;h<t;h++)g=r[u*t+h],r[u*t+h]=r[s*t+h],r[s*t+h]=g;for(h=0;h<e;h++)g=A[u*t+h],A[u*t+h]=A[s*t+h],A[s*t+h]=g}if(i[a]=u,n[a]=s,r[s*t+s]==0)return!1;for(B=1/r[s*t+s],r[s*t+s]=1,h=0;h<t;h++)r[s*t+h]*=B;for(h=0;h<e;h++)A[s*t+h]*=B;for(c=0;c<t;c++)if(c!=s){for(p=r[c*t+s],r[c*t+s]=0,h=0;h<t;h++)r[c*t+h]-=r[s*t+h]*p;for(h=0;h<e;h++)A[c*t+h]-=A[s*t+h]*p}}for(h=t-1;h>=0;h--)if(i[h]!=n[h])for(f=0;f<t;f++)g=r[f*t+i[h]],r[f*t+i[h]]=r[f*t+n[h]],r[f*t+n[h]]=g;return!0}function aw(r,t,e,A,n){return t+(A-t)/e*(1-Math.exp(-(1/n)*Math.pow(r/e,2)))}function sw(r,t,e,A,n){return t+(A-t)/e*(1-Math.exp(-(1/n)*(r/e)))}function uw(r,t,e,A,n){return r>e?t+(A-t)/e:t+(A-t)/e*(1.5*(r/e)-.5*Math.pow(r/e,3))}var KA={};KA.train=function(r,t,e,A,n,i){var o={t:r,x:t,y:e,nugget:0,range:0,sill:0,A:1/3,n:0};switch(A){case"gaussian":o.model=aw;break;case"exponential":o.model=sw;break;case"spherical":o.model=uw;break}var a,s,u,l,f=r.length,h=Array((f*f-f)/2);for(a=0,u=0;a<f;a++)for(s=0;s<a;s++,u++)h[u]=Array(2),h[u][0]=Math.pow(Math.pow(t[a]-t[s],2)+Math.pow(e[a]-e[s],2),.5),h[u][1]=Math.abs(r[a]-r[s]);h.sort(function(L,P){return L[0]-P[0]}),o.range=h[(f*f-f)/2-1][0];var c=(f*f-f)/2>30?30:(f*f-f)/2,d=o.range/c,p=[0].rep(c),B=[0].rep(c);if(c<30)for(l=0;l<c;l++)p[l]=h[l][0],B[l]=h[l][1];else{for(a=0,s=0,u=0,l=0;a<c&&s<(f*f-f)/2;a++,u=0){for(;h[s][0]<=(a+1)*d&&(p[l]+=h[s][0],B[l]+=h[s][1],s++,u++,!(s>=(f*f-f)/2)););u>0&&(p[l]/=u,B[l]/=u,l++)}if(l<2)return o}f=l,o.range=p[f-1]-p[0];var g=[1].rep(2*f),y=Array(f),m=o.A;for(a=0;a<f;a++){switch(A){case"gaussian":g[a*2+1]=1-Math.exp(-(1/m)*Math.pow(p[a]/o.range,2));break;case"exponential":g[a*2+1]=1-Math.exp(-(1/m)*p[a]/o.range);break;case"spherical":g[a*2+1]=1.5*(p[a]/o.range)-.5*Math.pow(p[a]/o.range,3);break}y[a]=B[a]}var _=ow(g,f,2),C=rn(_,g,2,f,2);C=Xc(C,Yc(1/i,2),2,2);var F=C.slice(0);Wc(C,2)?jc(C,2):(Zc(F,2),C=F);var E=rn(rn(C,_,2,2,f),y,2,f,1);o.nugget=E[0],o.sill=E[1]*o.range+o.nugget,o.n=t.length,f=t.length;var Q=Array(f*f);for(a=0;a<f;a++){for(s=0;s<a;s++)Q[a*f+s]=o.model(Math.pow(Math.pow(t[a]-t[s],2)+Math.pow(e[a]-e[s],2),.5),o.nugget,o.range,o.sill,o.A),Q[s*f+a]=Q[a*f+s];Q[a*f+a]=o.model(0,o.nugget,o.range,o.sill,o.A)}var w=Xc(Q,Yc(n,f),f,f),T=w.slice(0);Wc(w,f)?jc(w,f):(Zc(T,f),w=T);var Q=w.slice(0),O=rn(w,r,f,f,1);return o.K=Q,o.M=O,o};KA.predict=function(r,t,e){var A,n=Array(e.n);for(A=0;A<e.n;A++)n[A]=e.model(Math.pow(Math.pow(r-e.x[A],2)+Math.pow(t-e.y[A],2),.5),e.nugget,e.range,e.sill,e.A);return rn(n,e.M,1,e.n,1)[0]};KA.variance=function(r,t,e){var A,n=Array(e.n);for(A=0;A<e.n;A++)n[A]=e.model(Math.pow(Math.pow(r-e.x[A],2)+Math.pow(t-e.y[A],2),.5),e.nugget,e.range,e.sill,e.A);return e.model(0,e.nugget,e.range,e.sill,e.A)+rn(rn(n,e.K,1,e.n,e.n),n,1,e.n,1)[0]};KA.getGridInfo=function(r,t,e){var A=[],n=[r[0],r[2]],i=[r[1],r[3]],o=[t.t.min(),t.t.max()],a=n[1]-n[0],s=i[1]-i[0];let u,l;e?u=Math.ceil(e):u=200,l=Math.ceil(u/(a/s));var f=a*1/u,h=s*1/l,c,d;for(let p=0;p<l;p++)for(let B=0;B<u;B++)c=r[0]+B*f,d=r[1]+p*h,A.push(KA.predict(c,d,t));return{grid:A,n:u,m:l,xlim:n,ylim:i,zlim:o,x_resolution:f,y_resolution:h}};KA.getVectorContour=function(r,t){var e=iw().size([r.n,r.m]).thresholds(t)(r.grid);let A={type:"FeatureCollection",features:[]};var n=r.xlim[1]-r.xlim[0],i=r.ylim[1]-r.ylim[0];return e.forEach(o=>{o.coordinates.forEach(a=>{let s=a.map(u=>u.map(function(f){let h=r.xlim[0]+n*(f[0]*1/r.n),c=r.ylim[0]+i*(f[1]*1/r.m);return[h,c]}));A.features.push({type:"Feature",properties:{contour_value:o.value},geometry:{type:"Polygon",coordinates:s}})})}),A};KA.drawCanvasContour=function(r,t,e,A,n){var i=t.getContext("2d");i.clearRect(0,0,t.width,t.height);var o=[e[1]-e[0],A[1]-A[0],r.zlim[1]-r.zlim[0]],a=r.n,s=r.m,u=Math.ceil(r.x_resolution*t.width/(e[1]-e[0])),l=Math.ceil(r.y_resolution*t.height/(A[1]-A[0]));for(let f=0;f<s;f++)for(let h=0;h<a;h++){let c=f*a+h;if(r.grid[c]==null)continue;let d=t.width*(h*r.x_resolution+r.xlim[0]-e[0])/o[0],p=t.height*(1-(f*r.y_resolution+r.ylim[0]-A[0])/o[1]),B=(r.grid[c]-r.zlim[0])/o[2];B<0?B=0:B>1&&(B=1),i.fillStyle=n[Math.floor((n.length-1)*B)],i.fillRect(Math.round(d-u/2),Math.round(p-l/2),u,l)}};function lw(r,t,e,A){let n=[],i=[],o=[];r.features.forEach(u=>{n.push(u.properties[t]),i.push(u.geometry.coordinates[0]),o.push(u.geometry.coordinates[1])});let a=KA.train(n,i,o,e.model,e.sigma2,e.alpha);return KA.getGridInfo(A,a,200)}function fw(r,t,e,A,n){let i=lw(r,t,e,n);return KA.getVectorContour(i,A)}var hw=function(){function r(){}return r.prototype.drawCustom=function(t,e,A,n){},r.prototype.drawGeometry=function(t){},r.prototype.setStyle=function(t){},r.prototype.drawCircle=function(t,e){},r.prototype.drawFeature=function(t,e){},r.prototype.drawGeometryCollection=function(t,e){},r.prototype.drawLineString=function(t,e){},r.prototype.drawMultiLineString=function(t,e){},r.prototype.drawMultiPoint=function(t,e){},r.prototype.drawMultiPolygon=function(t,e){},r.prototype.drawPoint=function(t,e){},r.prototype.drawPolygon=function(t,e){},r.prototype.drawText=function(t,e){},r.prototype.setFillStrokeStyle=function(t,e){},r.prototype.setImageStyle=function(t,e){},r.prototype.setTextStyle=function(t,e){},r}(),zc=hw;new Array(6);function xA(){return[1,0,0,1,0,0]}function cw(r,t){var e=r[0],A=r[1],n=r[2],i=r[3],o=r[4],a=r[5],s=t[0],u=t[1],l=t[2],f=t[3],h=t[4],c=t[5];return r[0]=e*s+n*u,r[1]=A*s+i*u,r[2]=e*l+n*f,r[3]=A*l+i*f,r[4]=e*h+n*c+o,r[5]=A*h+i*c+a,r}function dw(r,t,e,A,n,i,o){return r[0]=t,r[1]=e,r[2]=A,r[3]=n,r[4]=i,r[5]=o,r}function $c(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function _t(r,t){var e=t[0],A=t[1];return t[0]=r[0]*e+r[2]*A+r[4],t[1]=r[1]*e+r[3]*A+r[5],t}function Jc(r,t,e){return dw(r,t,0,0,e,0,0)}function TA(r,t,e,A,n,i,o,a){var s=Math.sin(i),u=Math.cos(i);return r[0]=A*u,r[1]=n*s,r[2]=-A*s,r[3]=n*u,r[4]=o*A*u-a*A*s+t,r[5]=o*n*s+a*n*u+e,r}function Ao(r,t){var e=pw(t);ae(e!==0,32);var A=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5];return r[0]=o/e,r[1]=-n/e,r[2]=-i/e,r[3]=A/e,r[4]=(i*s-o*a)/e,r[5]=-(A*s-n*a)/e,r}function pw(r){return r[0]*r[3]-r[1]*r[2]}var qc;function wa(r){var t="matrix("+r.join(", ")+")";if(ea)return t;var e=qc||(qc=document.createElement("div"));return e.style.transform=t,e.style.transform}function nn(r,t,e,A,n,i){for(var o=i||[],a=0,s=t;s<e;s+=A){var u=r[s],l=r[s+1];o[a++]=n[0]*u+n[2]*l+n[4],o[a++]=n[1]*u+n[3]*l+n[5]}return i&&o.length!=a&&(o.length=a),o}function Xu(r,t,e,A,n,i,o){for(var a=o||[],s=Math.cos(n),u=Math.sin(n),l=i[0],f=i[1],h=0,c=t;c<e;c+=A){var d=r[c]-l,p=r[c+1]-f;a[h++]=l+d*s-p*u,a[h++]=f+d*u+p*s;for(var B=c+2;B<c+A;++B)a[h++]=r[B]}return o&&a.length!=h&&(a.length=h),a}function gw(r,t,e,A,n,i,o,a){for(var s=a||[],u=o[0],l=o[1],f=0,h=t;h<e;h+=A){var c=r[h]-u,d=r[h+1]-l;s[f++]=u+n*c,s[f++]=l+i*d;for(var p=h+2;p<h+A;++p)s[f++]=r[p]}return a&&s.length!=f&&(s.length=f),s}function ed(r,t,e,A,n,i,o){for(var a=o||[],s=0,u=t;u<e;u+=A){a[s++]=r[u]+n,a[s++]=r[u+1]+i;for(var l=u+2;l<u+A;++l)a[s++]=r[l]}return o&&a.length!=s&&(a.length=s),a}var Xn={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},OA={};OA[Xn.RADIANS]=6370997/(2*Math.PI);OA[Xn.DEGREES]=2*Math.PI*6370997/360;OA[Xn.FEET]=.3048;OA[Xn.METERS]=1;OA[Xn.USFEET]=1200/3937;var pA=Xn,vw=function(){function r(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||OA[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},r.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)},r.prototype.setWorldExtent=function(t){this.worldExtent_=t},r.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},r}(),td=vw,Bw=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),ro=6378137,Wn=Math.PI*ro,yw=[-Wn,-Wn,Wn,Wn],_w=[-180,-85,180,85],ma=ro*Math.log(Math.tan(Math.PI/2)),jn=function(r){Bw(t,r);function t(e){return r.call(this,{code:e,units:pA.METERS,extent:yw,global:!0,worldExtent:_w,getPointResolution:function(A,n){return A/b1(n[1]/ro)}})||this}return t}(td),Ad=[new jn("EPSG:3857"),new jn("EPSG:102100"),new jn("EPSG:102113"),new jn("EPSG:900913"),new jn("http://www.opengis.net/def/crs/EPSG/0/3857"),new jn("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ww(r,t,e){var A=r.length,n=e>1?e:2,i=t;i===void 0&&(n>2?i=r.slice():i=new Array(A));for(var o=0;o<A;o+=n){i[o]=Wn*r[o]/180;var a=ro*Math.log(Math.tan(Math.PI*(+r[o+1]+90)/360));a>ma?a=ma:a<-ma&&(a=-ma),i[o+1]=a}return i}function mw(r,t,e){var A=r.length,n=e>1?e:2,i=t;i===void 0&&(n>2?i=r.slice():i=new Array(A));for(var o=0;o<A;o+=n)i[o]=180*r[o]/Wn,i[o+1]=360*Math.atan(Math.exp(r[o+1]/ro))/Math.PI-90;return i}var Cw=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Ew=6378137,rd=[-180,-90,180,90],Fw=Math.PI*Ew/180,on=function(r){Cw(t,r);function t(e,A){return r.call(this,{code:e,units:pA.DEGREES,extent:rd,axisOrientation:A,global:!0,metersPerUnit:Fw,worldExtent:rd})||this}return t}(td),nd=[new on("CRS:84"),new on("EPSG:4326","neu"),new on("urn:ogc:def:crs:OGC:1.3:CRS84"),new on("urn:ogc:def:crs:OGC:2:84"),new on("http://www.opengis.net/def/crs/OGC/1.3/CRS84","neu"),new on("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new on("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Wu={};function Qw(r){return Wu[r]||Wu[r.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Iw(r,t){Wu[r]=t}var Zn={};function Ca(r,t,e){var A=r.getCode(),n=t.getCode();A in Zn||(Zn[A]={}),Zn[A][n]=e}function Uw(r,t){var e;return r in Zn&&t in Zn[r]&&(e=Zn[r][t]),e}var ju=63710088e-1;function Zu(r,t,e){var A=e||ju,n=Wr(r[1]),i=Wr(t[1]),o=(i-n)/2,a=Wr(t[0]-r[0])/2,s=Math.sin(o)*Math.sin(o)+Math.sin(a)*Math.sin(a)*Math.cos(n)*Math.cos(i);return 2*A*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))}function zu(r,t){for(var e=0,A=0,n=r.length;A<n-1;++A)e+=Zu(r[A],r[A+1],t);return e}function id(r,t){var e=t||{},A=e.radius||ju,n=e.projection||"EPSG:3857",i=r.getType();i!==U.GEOMETRY_COLLECTION&&(r=r.clone().transform(n,"EPSG:4326"));var o=0,a,s,u,l,f,h;switch(i){case U.POINT:case U.MULTI_POINT:break;case U.LINE_STRING:case U.LINEAR_RING:{a=r.getCoordinates(),o=zu(a,A);break}case U.MULTI_LINE_STRING:case U.POLYGON:{for(a=r.getCoordinates(),u=0,l=a.length;u<l;++u)o+=zu(a[u],A);break}case U.MULTI_POLYGON:{for(a=r.getCoordinates(),u=0,l=a.length;u<l;++u)for(s=a[u],f=0,h=s.length;f<h;++f)o+=zu(s[f],A);break}case U.GEOMETRY_COLLECTION:{var c=r.getGeometries();for(u=0,l=c.length;u<l;++u)o+=id(c[u],t);break}default:throw new Error("Unsupported geometry type: "+i)}return o}function Ea(r,t){for(var e=0,A=r.length,n=r[A-1][0],i=r[A-1][1],o=0;o<A;o++){var a=r[o][0],s=r[o][1];e+=Wr(a-n)*(2+Math.sin(Wr(i))+Math.sin(Wr(s))),n=a,i=s}return e*t*t/2}function od(r,t){var e=t||{},A=e.radius||ju,n=e.projection||"EPSG:3857",i=r.getType();i!==U.GEOMETRY_COLLECTION&&(r=r.clone().transform(n,"EPSG:4326"));var o=0,a,s,u,l,f,h;switch(i){case U.POINT:case U.MULTI_POINT:case U.LINE_STRING:case U.MULTI_LINE_STRING:case U.LINEAR_RING:break;case U.POLYGON:{for(a=r.getCoordinates(),o=Math.abs(Ea(a[0],A)),u=1,l=a.length;u<l;++u)o-=Math.abs(Ea(a[u],A));break}case U.MULTI_POLYGON:{for(a=r.getCoordinates(),u=0,l=a.length;u<l;++u)for(s=a[u],o+=Math.abs(Ea(s[0],A)),f=1,h=s.length;f<h;++f)o-=Math.abs(Ea(s[f],A));break}case U.GEOMETRY_COLLECTION:{var c=r.getGeometries();for(u=0,l=c.length;u<l;++u)o+=od(c[u],t);break}default:throw new Error("Unsupported geometry type: "+i)}return o}function Sw(r,t){for(var e=(""+r).split("."),A=(""+t).split("."),n=0;n<Math.max(e.length,A.length);n++){var i=parseInt(e[n]||"0",10),o=parseInt(A[n]||"0",10);if(i>o)return 1;if(o>i)return-1}return 0}function xw(r,t){return r[0]+=+t[0],r[1]+=+t[1],r}function ad(r,t){var e=r[0],A=r[1],n=t[0],i=t[1],o=n[0],a=n[1],s=i[0],u=i[1],l=s-o,f=u-a,h=l===0&&f===0?0:(l*(e-o)+f*(A-a))/(l*l+f*f||0),c,d;return h<=0?(c=o,d=a):h>=1?(c=s,d=u):(c=o+h*l,d=a+h*f),[c,d]}function Tw(r){return function(t){return Mw(t,r)}}function Ow(r,t,e){return r?t.replace("{x}",r[0].toFixed(e)).replace("{y}",r[1].toFixed(e)):""}function kA(r,t){for(var e=!0,A=r.length-1;A>=0;--A)if(r[A]!=t[A]){e=!1;break}return e}function $u(r,t){var e=Math.cos(t),A=Math.sin(t),n=r[0]*e-r[1]*A,i=r[1]*e+r[0]*A;return r[0]=n,r[1]=i,r}function Rw(r,t){return r[0]*=t,r[1]*=t,r}function zn(r,t){var e=r[0]-t[0],A=r[1]-t[1];return e*e+A*A}function sd(r,t){return Math.sqrt(zn(r,t))}function Lw(r,t){return zn(r,ad(r,t))}function Mw(r,t){return Ow(r,"{x}, {y}",t)}function ud(r,t){if(t.canWrapX()){var e=st(t.getExtent()),A=Pw(r,t,e);A&&(r[0]-=A*e)}return r}function Pw(r,t,e){var A=t.getExtent(),n=0;if(t.canWrapX()&&(r[0]<A[0]||r[0]>A[2])){var i=e||st(A);n=Math.floor((r[0]-A[0])/i)}return n}function Ju(r,t,e){var A;if(t!==void 0){for(var n=0,i=r.length;n<i;++n)t[n]=r[n];A=t}else A=r.slice();return A}function qu(r,t,e){if(t!==void 0&&r!==t){for(var A=0,n=r.length;A<n;++A)t[A]=r[A];r=t}return r}function Hw(r){Iw(r.getCode(),r),Ca(r,r,Ju)}function Nw(r){r.forEach(Hw)}function ze(r){return typeof r=="string"?Qw(r):r||null}function Fa(r,t,e,A){r=ze(r);var n,i=r.getPointResolutionFunc();if(i){if(n=i(t,e),A&&A!==r.getUnits()){var o=r.getMetersPerUnit();o&&(n=n*o/OA[A])}}else{var a=r.getUnits();if(a==pA.DEGREES&&!A||A==pA.DEGREES)n=t;else{var s=no(r,ze("EPSG:4326"));if(s===qu&&a!==pA.DEGREES)n=t*r.getMetersPerUnit();else{var u=[e[0]-t/2,e[1],e[0]+t/2,e[1],e[0],e[1]-t/2,e[0],e[1]+t/2];u=s(u,u,2);var l=Zu(u.slice(0,2),u.slice(2,4)),f=Zu(u.slice(4,6),u.slice(6,8));n=(l+f)/2}var o=A?OA[A]:r.getMetersPerUnit();o!==void 0&&(n/=o)}}return n}function ld(r){Nw(r),r.forEach(function(t){r.forEach(function(e){t!==e&&Ca(t,e,Ju)})})}function Dw(r,t,e,A){r.forEach(function(n){t.forEach(function(i){Ca(n,i,e),Ca(i,n,A)})})}function el(r,t){return r?typeof r=="string"?ze(r):r:ze(t)}function VA(r,t){if(r===t)return!0;var e=r.getUnits()===t.getUnits();if(r.getCode()===t.getCode())return e;var A=no(r,t);return A===Ju&&e}function no(r,t){var e=r.getCode(),A=t.getCode(),n=Uw(e,A);return n||(n=qu),n}function io(r,t){var e=ze(r),A=ze(t);return no(e,A)}function oo(r,t,e){var A=io(t,e);return A(r,void 0,r.length)}function Gw(r,t,e,A){var n=io(t,e);return HB(r,n,void 0,A)}var bw=null;function $n(){return bw}function Jn(r,t){return r}function lt(r,t){return r}function tl(r,t){return r}function gA(r,t){return r}function Kw(){ld(Ad),ld(nd),Dw(nd,Ad,ww,mw)}Kw();var kw=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),fd=xA(),Vw=function(r){kw(t,r);function t(){var e=r.call(this)||this;return e.extent_=tA(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=uB(function(A,n,i){if(!i)return this.getSimplifiedGeometry(n);var o=this.clone();return o.applyTransform(i),o.getSimplifiedGeometry(n)}),e}return t.prototype.simplifyTransformed=function(e,A){return this.simplifyTransformedInternal(this.getRevision(),e,A)},t.prototype.clone=function(){return Z()},t.prototype.closestPointXY=function(e,A,n,i){return Z()},t.prototype.containsXY=function(e,A){var n=this.getClosestPoint([e,A]);return n[0]===e&&n[1]===A},t.prototype.getClosestPoint=function(e,A){var n=A||[NaN,NaN];return this.closestPointXY(e[0],e[1],n,1/0),n},t.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},t.prototype.computeExtent=function(e){return Z()},t.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){var A=this.computeExtent(this.extent_);(isNaN(A[0])||isNaN(A[1]))&&Yi(A),this.extentRevision_=this.getRevision()}return MB(this.extent_,e)},t.prototype.rotate=function(e,A){Z()},t.prototype.scale=function(e,A,n){Z()},t.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},t.prototype.getSimplifiedGeometry=function(e){return Z()},t.prototype.getType=function(){return Z()},t.prototype.applyTransform=function(e){Z()},t.prototype.intersectsExtent=function(e){return Z()},t.prototype.translate=function(e,A){Z()},t.prototype.transform=function(e,A){var n=ze(e),i=n.getUnits()==pA.TILE_PIXELS?function(o,a,s){var u=n.getExtent(),l=n.getWorldExtent(),f=Xt(l)/Xt(u);return TA(fd,l[0],l[3],f,-f,0,0,0),nn(o,0,o.length,s,fd,a),io(n,A)(o,a,s)}:io(n,A);return this.applyTransform(i),this},t}(SA),hd=Vw,ot={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},Yw=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Xw=function(r){Yw(t,r);function t(){var e=r.call(this)||this;return e.layout=ot.XY,e.stride=2,e.flatCoordinates=null,e}return t.prototype.computeExtent=function(e){return dc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinates=function(){return Z()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var A=this.getSimplifiedGeometryInternal(e),n=A.getFlatCoordinates();return n.length<this.flatCoordinates.length?A:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},t.prototype.getSimplifiedGeometryInternal=function(e){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(e,A){this.stride=cd(e),this.layout=e,this.flatCoordinates=A},t.prototype.setCoordinates=function(e,A){Z()},t.prototype.setLayout=function(e,A,n){var i;if(e)i=cd(e);else{for(var o=0;o<n;++o)if(A.length===0){this.layout=ot.XY,this.stride=2;return}else A=A[0];i=A.length,e=Ww(i)}this.layout=e,this.stride=i},t.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(e,A){var n=this.getFlatCoordinates();if(n){var i=this.getStride();Xu(n,0,n.length,i,e,A,n),this.changed()}},t.prototype.scale=function(e,A,n){var i=A;i===void 0&&(i=e);var o=n;o||(o=rr(this.getExtent()));var a=this.getFlatCoordinates();if(a){var s=this.getStride();gw(a,0,a.length,s,e,i,o,a),this.changed()}},t.prototype.translate=function(e,A){var n=this.getFlatCoordinates();if(n){var i=this.getStride();ed(n,0,n.length,i,e,A,n),this.changed()}},t}(hd);function Ww(r){var t;return r==2?t=ot.XY:r==3?t=ot.XYZ:r==4&&(t=ot.XYZM),t}function cd(r){var t;return r==ot.XY?t=2:r==ot.XYZ||r==ot.XYM?t=3:r==ot.XYZM&&(t=4),t}function jw(r,t,e){var A=r.getFlatCoordinates();if(A){var n=r.getStride();return nn(A,0,A.length,n,t,e)}else return null}var Fr=Xw,Zw=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),zw=function(r){Zw(t,r);function t(e,A,n,i,o,a,s){var u=r.call(this)||this;return u.context_=e,u.pixelRatio_=A,u.extent_=n,u.transform_=i,u.viewRotation_=o,u.squaredTolerance_=a,u.userTransform_=s,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=[0,0],u.imageWidth_=0,u.text_="",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=[0,0],u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=xA(),u}return t.prototype.drawImages_=function(e,A,n,i){if(!!this.image_){var o=nn(e,A,n,i,this.transform_,this.pixelCoordinates_),a=this.context_,s=this.tmpLocalTransform_,u=a.globalAlpha;this.imageOpacity_!=1&&(a.globalAlpha=u*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var f=0,h=o.length;f<h;f+=2){var c=o[f]-this.imageAnchorX_,d=o[f+1]-this.imageAnchorY_;if(l!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var p=c+this.imageAnchorX_,B=d+this.imageAnchorY_;TA(s,p,B,1,1,l,-p,-B),a.setTransform.apply(a,s),a.translate(p,B),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.setTransform(1,0,0,1,0,0)}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,c,d,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(a.globalAlpha=u)}},t.prototype.drawText_=function(e,A,n,i){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=nn(e,A,n,i,this.transform_,this.pixelCoordinates_),a=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);A<n;A+=i){var u=o[A]+this.textOffsetX_,l=o[A+1]+this.textOffsetY_;if(s!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var f=TA(this.tmpLocalTransform_,u,l,1,1,s,-u,-l);a.setTransform.apply(a,f),a.translate(u,l),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&a.strokeText(this.text_,u,l),this.textFillState_&&a.fillText(this.text_,u,l)}}},t.prototype.moveToLineTo_=function(e,A,n,i,o){var a=this.context_,s=nn(e,A,n,i,this.transform_,this.pixelCoordinates_);a.moveTo(s[0],s[1]);var u=s.length;o&&(u-=2);for(var l=2;l<u;l+=2)a.lineTo(s[l],s[l+1]);return o&&a.closePath(),n},t.prototype.drawRings_=function(e,A,n,i){for(var o=0,a=n.length;o<a;++o)A=this.moveToLineTo_(e,A,n[o],i,!0);return A},t.prototype.drawCircle=function(e){if(!!Ht(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var A=jw(e,this.transform_,this.pixelCoordinates_),n=A[2]-A[0],i=A[3]-A[1],o=Math.sqrt(n*n+i*i),a=this.context_;a.beginPath(),a.arc(A[0],A[1],o,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}},t.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},t.prototype.setTransform=function(e){this.transform_=e},t.prototype.drawGeometry=function(e){var A=e.getType();switch(A){case U.POINT:this.drawPoint(e);break;case U.LINE_STRING:this.drawLineString(e);break;case U.POLYGON:this.drawPolygon(e);break;case U.MULTI_POINT:this.drawMultiPoint(e);break;case U.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case U.MULTI_POLYGON:this.drawMultiPolygon(e);break;case U.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case U.CIRCLE:this.drawCircle(e);break}},t.prototype.drawFeature=function(e,A){var n=A.getGeometryFunction()(e);!n||!Ht(this.extent_,n.getExtent())||(this.setStyle(A),this.drawGeometry(n))},t.prototype.drawGeometryCollection=function(e){for(var A=e.getGeometriesArray(),n=0,i=A.length;n<i;++n)this.drawGeometry(A[n])},t.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var A=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(A,0,A.length,n),this.text_!==""&&this.drawText_(A,0,A.length,n)},t.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var A=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(A,0,A.length,n),this.text_!==""&&this.drawText_(A,0,A.length,n)},t.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ht(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var A=this.context_,n=e.getFlatCoordinates();A.beginPath(),this.moveToLineTo_(n,0,n.length,e.getStride(),!1),A.stroke()}if(this.text_!==""){var i=e.getFlatMidpoint();this.drawText_(i,0,2,2)}}},t.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var A=e.getExtent();if(!!Ht(this.extent_,A)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=e.getFlatCoordinates(),o=0,a=e.getEnds(),s=e.getStride();n.beginPath();for(var u=0,l=a.length;u<l;++u)o=this.moveToLineTo_(i,o,a[u],s,!1);n.stroke()}if(this.text_!==""){var f=e.getFlatMidpoints();this.drawText_(f,0,f.length,2)}}},t.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ht(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var A=this.context_;A.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&A.fill(),this.strokeState_&&A.stroke()}if(this.text_!==""){var n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},t.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ht(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var A=this.context_,n=e.getOrientedFlatCoordinates(),i=0,o=e.getEndss(),a=e.getStride();A.beginPath();for(var s=0,u=o.length;s<u;++s){var l=o[s];i=this.drawRings_(n,i,l,a)}this.fillState_&&A.fill(),this.strokeState_&&A.stroke()}if(this.text_!==""){var f=e.getFlatInteriorPoints();this.drawText_(f,0,f.length,2)}}},t.prototype.setContextFillState_=function(e){var A=this.context_,n=this.contextFillState_;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=e.fillStyle,A.fillStyle=e.fillStyle):(A.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},t.prototype.setContextStrokeState_=function(e){var A=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=e.lineCap&&(n.lineCap=e.lineCap,A.lineCap=e.lineCap),A.setLineDash&&(zr(n.lineDash,e.lineDash)||A.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset,A.lineDashOffset=e.lineDashOffset)),n.lineJoin!=e.lineJoin&&(n.lineJoin=e.lineJoin,A.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=e.lineWidth,A.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=e.miterLimit,A.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=e.strokeStyle,A.strokeStyle=e.strokeStyle)):(A.lineCap=e.lineCap,A.setLineDash&&(A.setLineDash(e.lineDash),A.lineDashOffset=e.lineDashOffset),A.lineJoin=e.lineJoin,A.lineWidth=e.lineWidth,A.miterLimit=e.miterLimit,A.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},t.prototype.setContextTextState_=function(e){var A=this.context_,n=this.contextTextState_,i=e.textAlign?e.textAlign:bi;n?(n.font!=e.font&&(n.font=e.font,A.font=e.font),n.textAlign!=i&&(n.textAlign=i,A.textAlign=i),n.textBaseline!=e.textBaseline&&(n.textBaseline=e.textBaseline,A.textBaseline=e.textBaseline)):(A.font=e.font,A.textAlign=i,A.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})},t.prototype.setFillStrokeStyle=function(e,A){var n=this;if(!e)this.fillState_=null;else{var i=e.getColor();this.fillState_={fillStyle:DA(i||tr)}}if(!A)this.strokeState_=null;else{var o=A.getColor(),a=A.getLineCap(),s=A.getLineDash(),u=A.getLineDashOffset(),l=A.getLineJoin(),f=A.getWidth(),h=A.getMiterLimit(),c=s||Hi;this.strokeState_={lineCap:a!==void 0?a:sa,lineDash:this.pixelRatio_===1?c:c.map(function(d){return d*n.pixelRatio_}),lineDashOffset:(u||Ni)*this.pixelRatio_,lineJoin:l!==void 0?l:Pn,lineWidth:(f!==void 0?f:Ki)*this.pixelRatio_,miterLimit:h!==void 0?h:Di,strokeStyle:DA(o||Gi)}}},t.prototype.setImageStyle=function(e){var A;if(!e||!(A=e.getSize())){this.image_=null;return}var n=e.getAnchor(),i=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=A[1]*this.pixelRatio_,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScaleArray(),this.imageWidth_=A[0]*this.pixelRatio_},t.prototype.setTextStyle=function(e){if(!e)this.text_="";else{var A=e.getFill();if(!A)this.textFillState_=null;else{var n=A.getColor();this.textFillState_={fillStyle:DA(n||tr)}}var i=e.getStroke();if(!i)this.textStrokeState_=null;else{var o=i.getColor(),a=i.getLineCap(),s=i.getLineDash(),u=i.getLineDashOffset(),l=i.getLineJoin(),f=i.getWidth(),h=i.getMiterLimit();this.textStrokeState_={lineCap:a!==void 0?a:sa,lineDash:s||Hi,lineDashOffset:u||Ni,lineJoin:l!==void 0?l:Pn,lineWidth:f!==void 0?f:Ki,miterLimit:h!==void 0?h:Di,strokeStyle:DA(o||Gi)}}var c=e.getFont(),d=e.getOffsetX(),p=e.getOffsetY(),B=e.getRotateWithView(),g=e.getRotation(),y=e.getScaleArray(),m=e.getText(),_=e.getTextAlign(),C=e.getTextBaseline();this.textState_={font:c!==void 0?c:sc,textAlign:_!==void 0?_:bi,textBaseline:C!==void 0?C:ua},this.text_=m!==void 0?m:"",this.textOffsetX_=d!==void 0?this.pixelRatio_*d:0,this.textOffsetY_=p!==void 0?this.pixelRatio_*p:0,this.textRotateWithView_=B!==void 0?B:!1,this.textRotation_=g!==void 0?g:0,this.textScale_=[this.pixelRatio_*y[0],this.pixelRatio_*y[1]]}},t}(zc),dd=zw,ct={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"},$w=.5,pd={Point:im,LineString:Am,Polygon:am,MultiPoint:om,MultiLineString:rm,MultiPolygon:nm,GeometryCollection:tm,Circle:qw};function Jw(r,t){return parseInt(be(r),10)-parseInt(be(t),10)}function gd(r,t){var e=Al(r,t);return e*e}function Al(r,t){return $w*r/t}function qw(r,t,e,A,n){var i=e.getFill(),o=e.getStroke();if(i||o){var a=r.getBuilder(e.getZIndex(),ct.CIRCLE);a.setFillStrokeStyle(i,o),a.drawCircle(t,A)}var s=e.getText();if(s&&s.getText()){var u=(n||r).getBuilder(e.getZIndex(),ct.TEXT);u.setTextStyle(s),u.drawText(t,A)}}function vd(r,t,e,A,n,i,o){var a=!1,s=e.getImage();if(s){var u=s.getImageState();u==de.LOADED||u==de.ERROR?s.unlistenImageChange(n):(u==de.IDLE&&s.load(),u=s.getImageState(),s.listenImageChange(n),a=!0)}return em(r,t,e,A,i,o),a}function em(r,t,e,A,n,i){var o=e.getGeometryFunction()(t);if(!!o){var a=o.simplifyTransformed(A,n),s=e.getRenderer();if(s)Bd(r,a,e,t);else{var u=pd[a.getType()];u(r,a,e,t,i)}}}function Bd(r,t,e,A){if(t.getType()==U.GEOMETRY_COLLECTION){for(var n=t.getGeometries(),i=0,o=n.length;i<o;++i)Bd(r,n[i],e,A);return}var a=r.getBuilder(e.getZIndex(),ct.DEFAULT);a.drawCustom(t,A,e.getRenderer(),e.getHitDetectionRenderer())}function tm(r,t,e,A,n){var i=t.getGeometriesArray(),o,a;for(o=0,a=i.length;o<a;++o){var s=pd[i[o].getType()];s(r,i[o],e,A,n)}}function Am(r,t,e,A,n){var i=e.getStroke();if(i){var o=r.getBuilder(e.getZIndex(),ct.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawLineString(t,A)}var a=e.getText();if(a&&a.getText()){var s=(n||r).getBuilder(e.getZIndex(),ct.TEXT);s.setTextStyle(a),s.drawText(t,A)}}function rm(r,t,e,A,n){var i=e.getStroke();if(i){var o=r.getBuilder(e.getZIndex(),ct.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawMultiLineString(t,A)}var a=e.getText();if(a&&a.getText()){var s=(n||r).getBuilder(e.getZIndex(),ct.TEXT);s.setTextStyle(a),s.drawText(t,A)}}function nm(r,t,e,A,n){var i=e.getFill(),o=e.getStroke();if(o||i){var a=r.getBuilder(e.getZIndex(),ct.POLYGON);a.setFillStrokeStyle(i,o),a.drawMultiPolygon(t,A)}var s=e.getText();if(s&&s.getText()){var u=(n||r).getBuilder(e.getZIndex(),ct.TEXT);u.setTextStyle(s),u.drawText(t,A)}}function im(r,t,e,A,n){var i=e.getImage(),o=e.getText(),a;if(n&&(r=n,a=i&&o&&o.getText()?{}:void 0),i){if(i.getImageState()!=de.LOADED)return;var s=r.getBuilder(e.getZIndex(),ct.IMAGE);s.setImageStyle(i,a),s.drawPoint(t,A)}if(o&&o.getText()){var u=r.getBuilder(e.getZIndex(),ct.TEXT);u.setTextStyle(o,a),u.drawText(t,A)}}function om(r,t,e,A,n){var i=e.getImage(),o=e.getText(),a;if(n&&(r=n,a=i&&o&&o.getText()?{}:void 0),i){if(i.getImageState()!=de.LOADED)return;var s=r.getBuilder(e.getZIndex(),ct.IMAGE);s.setImageStyle(i,a),s.drawMultiPoint(t,A)}if(o&&o.getText()){var u=(n||r).getBuilder(e.getZIndex(),ct.TEXT);u.setTextStyle(o,a),u.drawText(t,A)}}function am(r,t,e,A,n){var i=e.getFill(),o=e.getStroke();if(i||o){var a=r.getBuilder(e.getZIndex(),ct.POLYGON);a.setFillStrokeStyle(i,o),a.drawPolygon(t,A)}var s=e.getText();if(s&&s.getText()){var u=(n||r).getBuilder(e.getZIndex(),ct.TEXT);u.setTextStyle(s),u.drawText(t,A)}}function sm(r){var t=r.inversePixelTransform[0],e=r.frameState,A=cw(r.inversePixelTransform.slice(),e.coordinateToPixelTransform),n=gd(e.viewState.resolution,t),i;return new dd(r.context,t,e.extent,A,e.viewState.rotation,n,i)}class um{constructor(t){zo(this,"data",{stationVector:null,stationSource:null});this.map=t,this.olMap=pa()}addStationData(t,e){const{VectorSource:A,VectorLayer:n,Feature:i,Point:o}=this.olMap;this.clearStationData();let a=[];t.map(({obTime:s,stationId:u,stationName:l,stationType:f,lon:h,lat:c,temMax:d,tem:p,temMin:B,winSAvg10:g,winDAvg10:y,winSInstMax:m,winDInstMax:_,winSAvg2:C,pre1:F,pre3:E,pre6:Q,pre12:w,pre24:T,vis:O,wepNow:L,rhu:P,gst:Y,snowDepth:b})=>{a.push(new i({geometry:new o([h,c]),attributes:{distCode:u,stationId:u,stationName:l,stationType:f,tem:p,winSAvg10:g,winDAvg10:y,winSInstMax:m,winDInstMax:_,pre1:F,pre3:E,pre6:Q,pre12:w,pre24:T,vis:O,wepNow:L,rhu:P,gst:Y,snowDepth:b},tem:p}))}),this.data.stationSource=new A({features:a}),this.data.stationVector=new n({source:this.data.stationSource,style:function(s){return mc(s,e)}}),this.map.addLayer(this.data.stationVector)}changeStationData(t){this.data.stationVector&&this.data.stationVector.setStyle(function(e){return mc(e,t)})}clearStationData(){this.data.stationSource&&this.data.stationSource.clear(),this.data.stationVector&&this.map.removeLayer(this.data.stationVector)}drawIsoByKc(){const{GeoJSON:t,Polygon:e,VectorSource:A,VectorLayer:n}=this.olMap;console.time("drawIsoByKc");let i={krigingModel:"spherical",krigingSigma2:0,krigingAlpha:100,canvasAlpha:.9,colors:["#006837","#1a9850","#66bd63","#a6d96a","#d9ef8b","#ffffbf","#fee08b","#fdae61","#f46d43","#d73027","#a50026"]};const o=new t;let a=this.data.stationSource.getFeatures(),s=JSON.parse(o.writeFeatures(a));const l=[Iu.polygonArr];let h=new e(l).getExtent(),c=0,d=0,p=i.colors.length;s.features.forEach(C=>{const F=C.properties.tem;F<c&&(c=F),F>d&&(d=F)});let B=(d-c)/p;const g=[];for(let C=0;C<p;C++)g.push(c+C*B);console.log("breaks",g);let y=new A,m=new n({opacity:.7,source:y,zIndex:3,style:function(C,F){let E=C.get("contour_value"),Q;return g.some((w,T)=>{if(w===E)return Q=i.colors[T],!0}),fy(Q)}}),_=fw(s,"tem",{model:"exponential",sigma2:0,alpha:100},g,h);a=o.readFeatures(_),y.addFeatures(a),this.clipIso(m),this.map.addLayer(m),console.timeEnd("drawIsoByKc")}drawStationIsosurface(){const{Polygon:t,VectorSource:e,VectorLayer:A}=this.olMap;let n={krigingModel:"spherical",krigingSigma2:0,krigingAlpha:226,canvasAlpha:.75,colors:["#006837","#1a9850","#66bd63","#a6d96a","#d9ef8b","#ffffbf","#fee08b","#fdae61","#f46d43","#d73027","#a50026"]};const o=[Iu.polygonArr];let a=new t(o);console.time("drawCanvas");let s=null;const u=this;let l=function(h){let c=[],d=[],p=[];if(u.data.stationSource&&u.data.stationSource.forEachFeature(function(B){c.push(B.get("attributes").tem),d.push(B.getGeometry().getCoordinates()[0]),p.push(B.getGeometry().getCoordinates()[1])}),c.length>3){let B=_y(c,d,p,n.krigingModel,n.krigingSigma2,n.krigingAlpha),g=a.getExtent(),y=[];y.push([[g[0],g[1]],[g[0],g[3]],[g[2],g[3]],[g[2],g[1]]]);let m=my(y,B,(g[2]-g[0])/200);s!==null&&u.removeLayer(s),s=u.createIsoByTurf(m,h,n),u.clipIso(s),u.map.addLayer(s)}else alert("\u6709\u6548\u6837\u70B9\u4E2A\u6570\u4E0D\u8DB3\uFF0C\u65E0\u6CD5\u63D2\u503C")},f=a.getExtent();l(f),console.timeEnd("drawCanvas")}clipIso(t){const{Polygon:e,Feature:A,VectorSource:n,VectorLayer:i}=this.olMap,a=[Iu.polygonArr];let s=new e(a);const u=[new A({geometry:s})],l=new n({features:u}),f=new i({source:l});t.setExtent(f.getSource().getExtent()),t.on("postrender",function(h){const c=sm(h);h.context.globalCompositeOperation="destination-in",f.getSource().forEachFeature(function(d){c.drawFeature(d,ly)}),h.context.globalCompositeOperation="source-over"})}createIsoByTurf(t,e,A){const{VectorSource:n,VectorLayer:i,GeoJSON:o}=this.olMap;var a=new n,s=new i({source:a,opacity:.7,style:function(p){return uy(p,A)}});let u=this.gridFeatureCollection(t,[e[0],e[2]],[e[1],e[3]]);var l=Tu(u),f=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],h=R_(l,f,{zProperty:"value"});function c(p,B){return Mu(B)-Mu(p)}h.features.sort(c);var d=new o().readFeatures(h,{featureProjection:"EPSG:4326"});return a.addFeatures(d),s}gridFeatureCollection(t,e,A){var n=t.zlim[1]-t.zlim[0],i,o,a,s,u,l=t.data.length,f=t.data[0].length,h=[];for(i=0;i<l;i++)for(o=0;o<f;o++)a=i*t.width+t.xlim[0],s=o*t.width+t.ylim[0],u=(t.data[i][o]-t.zlim[0])/n,u<0&&(u=0),u>1&&(u=1),h.push(Su([a,s],{value:u}));return h}}var lm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",station:um}),Nt={ADD:"add",REMOVE:"remove"},yd=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),_d={LENGTH:"length"},Qa=function(r){yd(t,r);function t(e,A,n){var i=r.call(this,e)||this;return i.element=A,i.index=n,i}return t}(UA),fm=function(r){yd(t,r);function t(e,A){var n=r.call(this)||this;n.on,n.once,n.un;var i=A||{};if(n.unique_=!!i.unique,n.array_=e||[],n.unique_)for(var o=0,a=n.array_.length;o<a;++o)n.assertUnique_(n.array_[o],o);return n.updateLength_(),n}return t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(e){for(var A=0,n=e.length;A<n;++A)this.push(e[A]);return this},t.prototype.forEach=function(e){for(var A=this.array_,n=0,i=A.length;n<i;++n)e(A[n],n,A)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(e){return this.array_[e]},t.prototype.getLength=function(){return this.get(_d.LENGTH)},t.prototype.insertAt=function(e,A){this.unique_&&this.assertUnique_(A),this.array_.splice(e,0,A),this.updateLength_(),this.dispatchEvent(new Qa(Nt.ADD,A,e))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var A=this.getLength();return this.insertAt(A,e),this.getLength()},t.prototype.remove=function(e){for(var A=this.array_,n=0,i=A.length;n<i;++n)if(A[n]===e)return this.removeAt(n)},t.prototype.removeAt=function(e){var A=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Qa(Nt.REMOVE,A,e)),A},t.prototype.setAt=function(e,A){var n=this.getLength();if(e<n){this.unique_&&this.assertUnique_(A,e);var i=this.array_[e];this.array_[e]=A,this.dispatchEvent(new Qa(Nt.REMOVE,i,e)),this.dispatchEvent(new Qa(Nt.ADD,A,e))}else{for(var o=n;o<e;++o)this.insertAt(o,void 0);this.insertAt(e,A)}},t.prototype.updateLength_=function(){this.set(_d.LENGTH,this.array_.length)},t.prototype.assertUnique_=function(e,A){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===e&&n!==A)throw new Wh(58)},t}(SA),$t=fm,an={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},hm=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),cm=function(r){hm(t,r);function t(e){var A=r.call(this)||this;if(A.on,A.once,A.un,A.id_=void 0,A.geometryName_="geometry",A.style_=null,A.styleFunction_=void 0,A.geometryChangeKey_=null,A.addChangeListener(A.geometryName_,A.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){var n=e;A.setGeometry(n)}else{var i=e;A.setProperties(i)}return A}return t.prototype.clone=function(){var e=new t(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var A=this.getGeometry();A&&e.setGeometry(A.clone());var n=this.getStyle();return n&&e.setStyle(n),e},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(it(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=Ve(e,$.CHANGE,this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},t.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?dm(e):void 0,this.changed()},t.prototype.setId=function(e){this.id_=e,this.changed()},t.prototype.setGeometryName=function(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},t}(SA);function dm(r){if(typeof r=="function")return r;var t;if(Array.isArray(r))t=r;else{ae(typeof r.getZIndex=="function",41);var e=r;t=[e]}return function(){return t}}var ir=cm;function wd(r,t,e,A,n,i,o){var a=r[t],s=r[t+1],u=r[e]-a,l=r[e+1]-s,f;if(u===0&&l===0)f=t;else{var h=((n-a)*u+(i-s)*l)/(u*u+l*l);if(h>1)f=e;else if(h>0){for(var c=0;c<A;++c)o[c]=er(r[t+c],r[e+c],h);o.length=A;return}else f=t}for(var c=0;c<A;++c)o[c]=r[f+c];o.length=A}function rl(r,t,e,A,n){var i=r[t],o=r[t+1];for(t+=A;t<e;t+=A){var a=r[t],s=r[t+1],u=Xr(i,o,a,s);u>n&&(n=u),i=a,o=s}return n}function nl(r,t,e,A,n){for(var i=0,o=e.length;i<o;++i){var a=e[i];n=rl(r,t,a,A,n),t=a}return n}function pm(r,t,e,A,n){for(var i=0,o=e.length;i<o;++i){var a=e[i];n=nl(r,t,a,A,n),t=a[a.length-1]}return n}function il(r,t,e,A,n,i,o,a,s,u,l){if(t==e)return u;var f,h;if(n===0)if(h=Xr(o,a,r[t],r[t+1]),h<u){for(f=0;f<A;++f)s[f]=r[t+f];return s.length=A,h}else return u;for(var c=l||[NaN,NaN],d=t+A;d<e;)if(wd(r,d-A,d,A,o,a,c),h=Xr(o,a,c[0],c[1]),h<u){for(u=h,f=0;f<A;++f)s[f]=c[f];s.length=A,d+=A}else d+=A*Math.max((Math.sqrt(h)-Math.sqrt(u))/n|0,1);if(i&&(wd(r,e-A,t,A,o,a,c),h=Xr(o,a,c[0],c[1]),h<u)){for(u=h,f=0;f<A;++f)s[f]=c[f];s.length=A}return u}function ol(r,t,e,A,n,i,o,a,s,u,l){for(var f=l||[NaN,NaN],h=0,c=e.length;h<c;++h){var d=e[h];u=il(r,t,d,A,n,i,o,a,s,u,f),t=d}return u}function gm(r,t,e,A,n,i,o,a,s,u,l){for(var f=l||[NaN,NaN],h=0,c=e.length;h<c;++h){var d=e[h];u=ol(r,t,d,A,n,i,o,a,s,u,f),t=d[d.length-1]}return u}function md(r,t,e,A){for(var n=0,i=e.length;n<i;++n)r[t++]=e[n];return t}function Ia(r,t,e,A){for(var n=0,i=e.length;n<i;++n)for(var o=e[n],a=0;a<A;++a)r[t++]=o[a];return t}function al(r,t,e,A,n){for(var i=n||[],o=0,a=0,s=e.length;a<s;++a){var u=Ia(r,t,e[a],A);i[o++]=u,t=u}return i.length=o,i}function vm(r,t,e,A,n){for(var i=n||[],o=0,a=0,s=e.length;a<s;++a){var u=al(r,t,e[a],A,i[o]);i[o++]=u,t=u[u.length-1]}return i.length=o,i}function sl(r,t,e,A,n,i,o){var a=(e-t)/A;if(a<3){for(;t<e;t+=A)i[o++]=r[t],i[o++]=r[t+1];return o}var s=new Array(a);s[0]=1,s[a-1]=1;for(var u=[t,e-A],l=0;u.length>0;){for(var f=u.pop(),h=u.pop(),c=0,d=r[h],p=r[h+1],B=r[f],g=r[f+1],y=h+A;y<f;y+=A){var m=r[y],_=r[y+1],C=k1(m,_,d,p,B,g);C>c&&(l=y,c=C)}c>n&&(s[(l-t)/A]=1,h+A<l&&u.push(h,l),l+A<f&&u.push(l,f))}for(var y=0;y<a;++y)s[y]&&(i[o++]=r[t+y*A],i[o++]=r[t+y*A+1]);return o}function Bm(r,t,e,A,n,i,o,a){for(var s=0,u=e.length;s<u;++s){var l=e[s];o=sl(r,t,l,A,n,i,o),a.push(o),t=l}return o}function sn(r,t){return t*Math.round(r/t)}function ym(r,t,e,A,n,i,o){if(t==e)return o;var a=sn(r[t],n),s=sn(r[t+1],n);t+=A,i[o++]=a,i[o++]=s;var u,l;do if(u=sn(r[t],n),l=sn(r[t+1],n),t+=A,t==e)return i[o++]=u,i[o++]=l,o;while(u==a&&l==s);for(;t<e;){var f=sn(r[t],n),h=sn(r[t+1],n);if(t+=A,!(f==u&&h==l)){var c=u-a,d=l-s,p=f-a,B=h-s;if(c*B==d*p&&(c<0&&p<c||c==p||c>0&&p>c)&&(d<0&&B<d||d==B||d>0&&B>d)){u=f,l=h;continue}i[o++]=u,i[o++]=l,a=u,s=l,u=f,l=h}}return i[o++]=u,i[o++]=l,o}function Cd(r,t,e,A,n,i,o,a){for(var s=0,u=e.length;s<u;++s){var l=e[s];o=ym(r,t,l,A,n,i,o),a.push(o),t=l}return o}function _m(r,t,e,A,n,i,o,a){for(var s=0,u=e.length;s<u;++s){var l=e[s],f=[];o=Cd(r,t,l,A,n,i,o,f),a.push(f),t=l[l.length-1]}return o}function Ed(r,t,e,A,n){var i;for(t+=A;t<e;t+=A)if(i=n(r.slice(t-A,t),r.slice(t,t+A)),i)return i;return!1}function Qr(r,t,e,A,n){for(var i=n!==void 0?n:[],o=0,a=t;a<e;a+=A)i[o++]=r.slice(a,a+A);return i.length=o,i}function ao(r,t,e,A,n){for(var i=n!==void 0?n:[],o=0,a=0,s=e.length;a<s;++a){var u=e[a];i[o++]=Qr(r,t,u,A,i[o]),t=u}return i.length=o,i}function ul(r,t,e,A,n){for(var i=n!==void 0?n:[],o=0,a=0,s=e.length;a<s;++a){var u=e[a];i[o++]=ao(r,t,u,A,i[o]),t=u[u.length-1]}return i.length=o,i}function Fd(r,t,e,A,n,i,o){var a,s,u=(e-t)/A;if(u===1)a=t;else if(u===2)a=t,s=n;else if(u!==0){for(var l=r[t],f=r[t+1],h=0,c=[0],d=t+A;d<e;d+=A){var p=r[d],B=r[d+1];h+=Math.sqrt((p-l)*(p-l)+(B-f)*(B-f)),c.push(h),l=p,f=B}var g=n*h,y=iB(c,g);y<0?(s=(g-c[-y-2])/(c[-y-1]-c[-y-2]),a=t+(-y-2)*A):a=t+y*A}for(var m=o>1?o:2,_=i||new Array(m),d=0;d<m;++d)_[d]=a===void 0?NaN:s===void 0?r[a+d]:er(r[a+d],r[a+A+d],s);return _}function ll(r,t,e,A,n,i){if(e==t)return null;var o;if(n<r[t+A-1])return i?(o=r.slice(t,t+A),o[A-1]=n,o):null;if(r[e-1]<n)return i?(o=r.slice(e-A,e),o[A-1]=n,o):null;if(n==r[t+A-1])return r.slice(t,t+A);for(var a=t/A,s=e/A;a<s;){var u=a+s>>1;n<r[(u+1)*A-1]?s=u:a=u+1}var l=r[a*A-1];if(n==l)return r.slice((a-1)*A,(a-1)*A+A);var f=r[(a+1)*A-1],h=(n-l)/(f-l);o=[];for(var c=0;c<A-1;++c)o.push(er(r[(a-1)*A+c],r[a*A+c],h));return o.push(n),o}function wm(r,t,e,A,n,i,o){if(o)return ll(r,t,e[e.length-1],A,n,i);var a;if(n<r[A-1])return i?(a=r.slice(0,A),a[A-1]=n,a):null;if(r[r.length-1]<n)return i?(a=r.slice(r.length-A),a[A-1]=n,a):null;for(var s=0,u=e.length;s<u;++s){var l=e[s];if(t!=l){if(n<r[t+A-1])return null;if(n<=r[l-1])return ll(r,t,l,A,n,!1);t=l}}return null}function mm(r,t,e,A,n){var i=_u(n,function(o){return!un(r,t,e,A,o[0],o[1])});return!i}function un(r,t,e,A,n,i){for(var o=0,a=r[e-A],s=r[e-A+1];t<e;t+=A){var u=r[t],l=r[t+1];s<=i?l>i&&(u-a)*(i-s)-(n-a)*(l-s)>0&&o++:l<=i&&(u-a)*(i-s)-(n-a)*(l-s)<0&&o--,a=u,s=l}return o!==0}function fl(r,t,e,A,n,i){if(e.length===0||!un(r,t,e[0],A,n,i))return!1;for(var o=1,a=e.length;o<a;++o)if(un(r,e[o-1],e[o],A,n,i))return!1;return!0}function Cm(r,t,e,A,n,i){if(e.length===0)return!1;for(var o=0,a=e.length;o<a;++o){var s=e[o];if(fl(r,t,s,A,n,i))return!0;t=s[s.length-1]}return!1}function Ua(r,t,e,A,n){var i=gc(tA(),r,t,e,A);return Ht(n,i)?GA(n,i)||i[0]>=n[0]&&i[2]<=n[2]||i[1]>=n[1]&&i[3]<=n[3]?!0:Ed(r,t,e,A,function(o,a){return PB(n,o,a)}):!1}function Em(r,t,e,A,n){for(var i=0,o=e.length;i<o;++i){if(Ua(r,t,e[i],A,n))return!0;t=e[i]}return!1}function Fm(r,t,e,A,n){return!!(Ua(r,t,e,A,n)||un(r,t,e,A,n[0],n[1])||un(r,t,e,A,n[0],n[3])||un(r,t,e,A,n[2],n[1])||un(r,t,e,A,n[2],n[3]))}function Qd(r,t,e,A,n){if(!Fm(r,t,e[0],A,n))return!1;if(e.length===1)return!0;for(var i=1,o=e.length;i<o;++i)if(mm(r,e[i-1],e[i],A,n)&&!Ua(r,e[i-1],e[i],A,n))return!1;return!0}function Qm(r,t,e,A,n){for(var i=0,o=e.length;i<o;++i){var a=e[i];if(Qd(r,t,a,A,n))return!0;t=a[a.length-1]}return!1}function Id(r,t,e,A){for(var n=r[t],i=r[t+1],o=0,a=t+A;a<e;a+=A){var s=r[a],u=r[a+1];o+=Math.sqrt((s-n)*(s-n)+(u-i)*(u-i)),n=s,i=u}return o}var Im=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Um=function(r){Im(t,r);function t(e,A){var n=r.call(this)||this;return n.flatMidpoint_=null,n.flatMidpointRevision_=-1,n.maxDelta_=-1,n.maxDeltaRevision_=-1,A!==void 0&&!Array.isArray(e[0])?n.setFlatCoordinates(A,e):n.setCoordinates(e,A),n}return t.prototype.appendCoordinate=function(e){this.flatCoordinates?lA(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,A,n,i){return i<en(this.getExtent(),e,A)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(rl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),il(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,A,n,i))},t.prototype.forEachSegment=function(e){return Ed(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinateAtM=function(e,A){if(this.layout!=ot.XYM&&this.layout!=ot.XYZM)return null;var n=A!==void 0?A:!1;return ll(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n)},t.prototype.getCoordinates=function(){return Qr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinateAt=function(e,A){return Fd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,A,this.stride)},t.prototype.getLength=function(){return Id(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},t.prototype.getSimplifiedGeometryInternal=function(e){var A=[];return A.length=sl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,A,0),new t(A,ot.XY)},t.prototype.getType=function(){return U.LINE_STRING},t.prototype.intersectsExtent=function(e){return Ua(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.setCoordinates=function(e,A){this.setLayout(A,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ia(this.flatCoordinates,0,e,this.stride),this.changed()},t}(Fr),YA=Um,Sm=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),xm=function(r){Sm(t,r);function t(e,A){var n=r.call(this)||this;return n.setCoordinates(e,A),n}return t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,A,n,i){var o=this.flatCoordinates,a=Xr(e,A,o[0],o[1]);if(a<i){for(var s=this.stride,u=0;u<s;++u)n[u]=o[u];return n.length=s,a}else return i},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(e){return ca(this.flatCoordinates,e)},t.prototype.getType=function(){return U.POINT},t.prototype.intersectsExtent=function(e){return Bu(e,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(e,A){this.setLayout(A,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=md(this.flatCoordinates,0,e,this.stride),this.changed()},t}(Fr),vA=xm,at={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"},Tm=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Om=function(r){Tm(t,r);function t(e){var A=r.call(this)||this;A.on,A.once,A.un;var n=Ae({},e);return typeof e.properties=="object"&&(delete n.properties,Ae(n,e.properties)),n[at.OPACITY]=e.opacity!==void 0?e.opacity:1,ae(typeof n[at.OPACITY]=="number",64),n[at.VISIBLE]=e.visible!==void 0?e.visible:!0,n[at.Z_INDEX]=e.zIndex,n[at.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[at.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[at.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[at.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,A.className_=n.className!==void 0?e.className:"ol-layer",delete n.className,A.setProperties(n),A.state_=null,A}return t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(e){var A=this.state_||{layer:this,managed:e===void 0?!0:e},n=this.getZIndex();return A.opacity=Ct(Math.round(this.getOpacity()*100)/100,0,1),A.sourceState=this.getSourceState(),A.visible=this.getVisible(),A.extent=this.getExtent(),A.zIndex=n===void 0&&!A.managed?1/0:n,A.maxResolution=this.getMaxResolution(),A.minResolution=Math.max(this.getMinResolution(),0),A.minZoom=this.getMinZoom(),A.maxZoom=this.getMaxZoom(),this.state_=A,A},t.prototype.getLayersArray=function(e){return Z()},t.prototype.getLayerStatesArray=function(e){return Z()},t.prototype.getExtent=function(){return this.get(at.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(at.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(at.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(at.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(at.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(at.OPACITY)},t.prototype.getSourceState=function(){return Z()},t.prototype.getVisible=function(){return this.get(at.VISIBLE)},t.prototype.getZIndex=function(){return this.get(at.Z_INDEX)},t.prototype.setExtent=function(e){this.set(at.EXTENT,e)},t.prototype.setMaxResolution=function(e){this.set(at.MAX_RESOLUTION,e)},t.prototype.setMinResolution=function(e){this.set(at.MIN_RESOLUTION,e)},t.prototype.setMaxZoom=function(e){this.set(at.MAX_ZOOM,e)},t.prototype.setMinZoom=function(e){this.set(at.MIN_ZOOM,e)},t.prototype.setOpacity=function(e){ae(typeof e=="number",64),this.set(at.OPACITY,e)},t.prototype.setVisible=function(e){this.set(at.VISIBLE,e)},t.prototype.setZIndex=function(e){this.set(at.Z_INDEX,e)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),r.prototype.disposeInternal.call(this)},t}(SA),Ud=Om,ln={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},Rm=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Lm=function(r){Rm(t,r);function t(e){var A=this,n=Ae({},e);delete n.source,A=r.call(this,n)||this,A.on,A.once,A.un,A.mapPrecomposeKey_=null,A.mapRenderKey_=null,A.sourceChangeKey_=null,A.renderer_=null,e.render&&(A.render=e.render),e.map&&A.setMap(e.map),A.addChangeListener(at.SOURCE,A.handleSourcePropertyChange_);var i=e.source?e.source:null;return A.setSource(i),A}return t.prototype.getLayersArray=function(e){var A=e||[];return A.push(this),A},t.prototype.getLayerStatesArray=function(e){var A=e||[];return A.push(this.getLayerState()),A},t.prototype.getSource=function(){return this.get(at.SOURCE)||null},t.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():ln.UNDEFINED},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(it(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=Ve(e,$.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(e){return this.renderer_?this.renderer_.getFeatures(e):new Promise(function(A){return A([])})},t.prototype.render=function(e,A){var n=this.getRenderer();if(n.prepareFrame(e))return n.renderFrame(e,A)},t.prototype.setMap=function(e){this.mapPrecomposeKey_&&(it(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(it(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Ve(e,an.PRECOMPOSE,function(A){var n=A,i=n.frameState.layerStatesArray,o=this.getLayerState(!1);ae(!i.some(function(a){return a.layer===o.layer}),67),i.push(o)},this),this.mapRenderKey_=Ve(this,$.CHANGE,e.render,e),this.changed())},t.prototype.setSource=function(e){this.set(at.SOURCE,e)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),r.prototype.disposeInternal.call(this)},t}(Ud);function Sa(r,t){if(!r.visible)return!1;var e=t.resolution;if(e<r.minResolution||e>=r.maxResolution)return!1;var A=t.zoom;return A>r.minZoom&&A<=r.maxZoom}var xa=Lm,Mm=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Sd={RENDER_ORDER:"renderOrder"},Pm=function(r){Mm(t,r);function t(e){var A=this,n=e||{},i=Ae({},n);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,A=r.call(this,i)||this,A.declutter_=n.declutter!==void 0?n.declutter:!1,A.renderBuffer_=n.renderBuffer!==void 0?n.renderBuffer:100,A.style_=null,A.styleFunction_=void 0,A.setStyle(n.style),A.updateWhileAnimating_=n.updateWhileAnimating!==void 0?n.updateWhileAnimating:!1,A.updateWhileInteracting_=n.updateWhileInteracting!==void 0?n.updateWhileInteracting:!1,A}return t.prototype.getDeclutter=function(){return this.declutter_},t.prototype.getFeatures=function(e){return r.prototype.getFeatures.call(this,e)},t.prototype.getRenderBuffer=function(){return this.renderBuffer_},t.prototype.getRenderOrder=function(){return this.get(Sd.RENDER_ORDER)},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},t.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},t.prototype.renderDeclutter=function(e){e.declutterTree||(e.declutterTree=new Pc(9)),this.getRenderer().renderDeclutter(e)},t.prototype.setRenderOrder=function(e){this.set(Sd.RENDER_ORDER,e)},t.prototype.setStyle=function(e){this.style_=e!==void 0?e:ZB,this.styleFunction_=e===null?void 0:jB(this.style_),this.changed()},t}(xa),Hm=Pm,so={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Ta=[so.FILL],Ir=[so.STROKE],fn=[so.BEGIN_PATH],xd=[so.CLOSE_PATH],te=so,Nm=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Dm=function(r){Nm(t,r);function t(e,A,n,i){var o=r.call(this)||this;return o.tolerance=e,o.maxExtent=A,o.pixelRatio=i,o.maxLineWidth=0,o.resolution=n,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return t.prototype.applyPixelRatio=function(e){var A=this.pixelRatio;return A==1?e:e.map(function(n){return n*A})},t.prototype.appendFlatPointCoordinates=function(e,A){for(var n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,o=this.coordinates,a=o.length,s=0,u=e.length;s<u;s+=A)i[0]=e[s],i[1]=e[s+1],Vi(n,i)&&(o[a++]=i[0],o[a++]=i[1]);return a},t.prototype.appendFlatLineCoordinates=function(e,A,n,i,o,a){var s=this.coordinates,u=s.length,l=this.getBufferedMaxExtent();a&&(A+=i);var f=e[A],h=e[A+1],c=this.tmpCoordinate_,d=!0,p,B,g;for(p=A+i;p<n;p+=i)c[0]=e[p],c[1]=e[p+1],g=yu(l,c),g!==B?(d&&(s[u++]=f,s[u++]=h,d=!1),s[u++]=c[0],s[u++]=c[1]):g===Ut.INTERSECTING?(s[u++]=c[0],s[u++]=c[1],d=!1):d=!0,f=c[0],h=c[1],B=g;return(o&&d||p===A+i)&&(s[u++]=f,s[u++]=h),u},t.prototype.drawCustomCoordinates_=function(e,A,n,i,o){for(var a=0,s=n.length;a<s;++a){var u=n[a],l=this.appendFlatLineCoordinates(e,A,u,i,!1,!1);o.push(l),A=u}return A},t.prototype.drawCustom=function(e,A,n,i){this.beginGeometry(e,A);var o=e.getType(),a=e.getStride(),s=this.coordinates.length,u,l,f,h,c;switch(o){case U.MULTI_POLYGON:u=e.getOrientedFlatCoordinates(),h=[];var d=e.getEndss();c=0;for(var p=0,B=d.length;p<B;++p){var g=[];c=this.drawCustomCoordinates_(u,c,d[p],a,g),h.push(g)}this.instructions.push([te.CUSTOM,s,h,e,n,ul]),this.hitDetectionInstructions.push([te.CUSTOM,s,h,e,i||n,ul]);break;case U.POLYGON:case U.MULTI_LINE_STRING:f=[],u=o==U.POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),c=this.drawCustomCoordinates_(u,0,e.getEnds(),a,f),this.instructions.push([te.CUSTOM,s,f,e,n,ao]),this.hitDetectionInstructions.push([te.CUSTOM,s,f,e,i||n,ao]);break;case U.LINE_STRING:case U.CIRCLE:u=e.getFlatCoordinates(),l=this.appendFlatLineCoordinates(u,0,u.length,a,!1,!1),this.instructions.push([te.CUSTOM,s,l,e,n,Qr]),this.hitDetectionInstructions.push([te.CUSTOM,s,l,e,i||n,Qr]);break;case U.MULTI_POINT:u=e.getFlatCoordinates(),l=this.appendFlatPointCoordinates(u,a),l>s&&(this.instructions.push([te.CUSTOM,s,l,e,n,Qr]),this.hitDetectionInstructions.push([te.CUSTOM,s,l,e,i||n,Qr]));break;case U.POINT:u=e.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),l=this.coordinates.length,this.instructions.push([te.CUSTOM,s,l,e,n]),this.hitDetectionInstructions.push([te.CUSTOM,s,l,e,i||n]);break}this.endGeometry(A)},t.prototype.beginGeometry=function(e,A){this.beginGeometryInstruction1_=[te.BEGIN_GEOMETRY,A,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[te.BEGIN_GEOMETRY,A,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},t.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},t.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var A,n=e.length,i,o,a=-1;for(A=0;A<n;++A)i=e[A],o=i[0],o==te.END_GEOMETRY?a=A:o==te.BEGIN_GEOMETRY&&(i[2]=A,aB(this.hitDetectionInstructions,a,A),a=-1)},t.prototype.setFillStrokeStyle=function(e,A){var n=this.state;if(e){var i=e.getColor();n.fillStyle=DA(i||tr)}else n.fillStyle=void 0;if(A){var o=A.getColor();n.strokeStyle=DA(o||Gi);var a=A.getLineCap();n.lineCap=a!==void 0?a:sa;var s=A.getLineDash();n.lineDash=s?s.slice():Hi;var u=A.getLineDashOffset();n.lineDashOffset=u||Ni;var l=A.getLineJoin();n.lineJoin=l!==void 0?l:Pn;var f=A.getWidth();n.lineWidth=f!==void 0?f:Ki;var h=A.getMiterLimit();n.miterLimit=h!==void 0?h:Di,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},t.prototype.createFill=function(e){var A=e.fillStyle,n=[te.SET_FILL_STYLE,A];return typeof A!="string"&&n.push(!0),n},t.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},t.prototype.createStroke=function(e){return[te.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},t.prototype.updateFillStyle=function(e,A){var n=e.fillStyle;(typeof n!="string"||e.currentFillStyle!=n)&&(n!==void 0&&this.instructions.push(A.call(this,e)),e.currentFillStyle=n)},t.prototype.updateStrokeStyle=function(e,A){var n=e.strokeStyle,i=e.lineCap,o=e.lineDash,a=e.lineDashOffset,s=e.lineJoin,u=e.lineWidth,l=e.miterLimit;(e.currentStrokeStyle!=n||e.currentLineCap!=i||o!=e.currentLineDash&&!zr(e.currentLineDash,o)||e.currentLineDashOffset!=a||e.currentLineJoin!=s||e.currentLineWidth!=u||e.currentMiterLimit!=l)&&(n!==void 0&&A.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=i,e.currentLineDash=o,e.currentLineDashOffset=a,e.currentLineJoin=s,e.currentLineWidth=u,e.currentMiterLimit=l)},t.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var A=[te.END_GEOMETRY,e];this.instructions.push(A),this.hitDetectionInstructions.push(A)},t.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=cc(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;ha(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},t}(zc),uo=Dm,Gm=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),bm=function(r){Gm(t,r);function t(e,A,n,i){var o=r.call(this,e,A,n,i)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return t.prototype.drawPoint=function(e,A){if(!!this.image_){this.beginGeometry(e,A);var n=e.getFlatCoordinates(),i=e.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(n,i);this.instructions.push([te.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([te.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(A)}},t.prototype.drawMultiPoint=function(e,A){if(!!this.image_){this.beginGeometry(e,A);var n=e.getFlatCoordinates(),i=e.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(n,i);this.instructions.push([te.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([te.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(A)}},t.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,r.prototype.finish.call(this)},t.prototype.setImageStyle=function(e,A){var n=e.getAnchor(),i=e.getSize(),o=e.getHitDetectionImage(),a=e.getImage(this.pixelRatio),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=o,this.image_=a,this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=s[0]*this.imagePixelRatio_,this.originY_=s[1]*this.imagePixelRatio_,this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=A},t}(uo),Km=bm,km=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Vm=function(r){km(t,r);function t(e,A,n,i){return r.call(this,e,A,n,i)||this}return t.prototype.drawFlatCoordinates_=function(e,A,n,i){var o=this.coordinates.length,a=this.appendFlatLineCoordinates(e,A,n,i,!1,!1),s=[te.MOVE_TO_LINE_TO,o,a];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},t.prototype.drawLineString=function(e,A){var n=this.state,i=n.strokeStyle,o=n.lineWidth;if(!(i===void 0||o===void 0)){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,A),this.hitDetectionInstructions.push([te.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Hi,Ni],fn);var a=e.getFlatCoordinates(),s=e.getStride();this.drawFlatCoordinates_(a,0,a.length,s),this.hitDetectionInstructions.push(Ir),this.endGeometry(A)}},t.prototype.drawMultiLineString=function(e,A){var n=this.state,i=n.strokeStyle,o=n.lineWidth;if(!(i===void 0||o===void 0)){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,A),this.hitDetectionInstructions.push([te.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],fn);for(var a=e.getEnds(),s=e.getFlatCoordinates(),u=e.getStride(),l=0,f=0,h=a.length;f<h;++f)l=this.drawFlatCoordinates_(s,l,a[f],u);this.hitDetectionInstructions.push(Ir),this.endGeometry(A)}},t.prototype.finish=function(){var e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Ir),this.reverseHitDetectionInstructions(),this.state=null,r.prototype.finish.call(this)},t.prototype.applyStroke=function(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Ir),e.lastStroke=this.coordinates.length),e.lastStroke=0,r.prototype.applyStroke.call(this,e),this.instructions.push(fn)},t}(uo),Ym=Vm,Xm=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Wm=function(r){Xm(t,r);function t(e,A,n,i){return r.call(this,e,A,n,i)||this}return t.prototype.drawFlatCoordinatess_=function(e,A,n,i){var o=this.state,a=o.fillStyle!==void 0,s=o.strokeStyle!==void 0,u=n.length;this.instructions.push(fn),this.hitDetectionInstructions.push(fn);for(var l=0;l<u;++l){var f=n[l],h=this.coordinates.length,c=this.appendFlatLineCoordinates(e,A,f,i,!0,!s),d=[te.MOVE_TO_LINE_TO,h,c];this.instructions.push(d),this.hitDetectionInstructions.push(d),s&&(this.instructions.push(xd),this.hitDetectionInstructions.push(xd)),A=f}return a&&(this.instructions.push(Ta),this.hitDetectionInstructions.push(Ta)),s&&(this.instructions.push(Ir),this.hitDetectionInstructions.push(Ir)),A},t.prototype.drawCircle=function(e,A){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(!(i===void 0&&o===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(e,A),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([te.SET_FILL_STYLE,tr]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([te.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var a=e.getFlatCoordinates(),s=e.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,s,!1,!1);var l=[te.CIRCLE,u];this.instructions.push(fn,l),this.hitDetectionInstructions.push(fn,l),n.fillStyle!==void 0&&(this.instructions.push(Ta),this.hitDetectionInstructions.push(Ta)),n.strokeStyle!==void 0&&(this.instructions.push(Ir),this.hitDetectionInstructions.push(Ir)),this.endGeometry(A)}},t.prototype.drawPolygon=function(e,A){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(!(i===void 0&&o===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(e,A),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([te.SET_FILL_STYLE,tr]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([te.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var a=e.getEnds(),s=e.getOrientedFlatCoordinates(),u=e.getStride();this.drawFlatCoordinatess_(s,0,a,u),this.endGeometry(A)}},t.prototype.drawMultiPolygon=function(e,A){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(!(i===void 0&&o===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(e,A),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([te.SET_FILL_STYLE,tr]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([te.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var a=e.getEndss(),s=e.getOrientedFlatCoordinates(),u=e.getStride(),l=0,f=0,h=a.length;f<h;++f)l=this.drawFlatCoordinatess_(s,l,a[f],u);this.endGeometry(A)}},t.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(e!==0)for(var A=this.coordinates,n=0,i=A.length;n<i;++n)A[n]=sn(A[n],e);return r.prototype.finish.call(this)},t.prototype.setFillStrokeStyles_=function(){var e=this.state,A=e.fillStyle;A!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)},t}(uo),Td=Wm;function jm(r,t,e,A,n){var i=e,o=e,a=0,s=0,u=e,l,f,h,c,d,p,B,g,y,m;for(f=e;f<A;f+=n){var _=t[f],C=t[f+1];d!==void 0&&(y=_-d,m=C-p,c=Math.sqrt(y*y+m*m),B!==void 0&&(s+=h,l=Math.acos((B*y+g*m)/(h*c)),l>r&&(s>a&&(a=s,i=u,o=f),s=0,u=f-n)),h=c,B=y,g=m),d=_,p=C}return s+=c,s>a?[u,f]:[i,o]}var Zm=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Oa={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},zm=function(r){Zm(t,r);function t(e,A,n,i){var o=r.call(this,e,A,n,i)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return t.prototype.finish=function(){var e=r.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},t.prototype.drawText=function(e,A){var n=this.textFillState_,i=this.textStrokeState_,o=this.textState_;if(!(this.text_===""||!o||!n&&!i)){var a=this.coordinates,s=a.length,u=e.getType(),l=null,f=e.getStride();if(o.placement===_c.LINE&&(u==U.LINE_STRING||u==U.MULTI_LINE_STRING||u==U.POLYGON||u==U.MULTI_POLYGON)){if(!Ht(this.getBufferedMaxExtent(),e.getExtent()))return;var h=void 0;if(l=e.getFlatCoordinates(),u==U.LINE_STRING)h=[l.length];else if(u==U.MULTI_LINE_STRING)h=e.getEnds();else if(u==U.POLYGON)h=e.getEnds().slice(0,1);else if(u==U.MULTI_POLYGON){var c=e.getEndss();h=[];for(var d=0,p=c.length;d<p;++d)h.push(c[d][0])}this.beginGeometry(e,A);for(var B=o.textAlign,g=0,y=void 0,m=0,_=h.length;m<_;++m){if(B==null){var C=jm(o.maxAngle,l,g,h[m],f);g=C[0],y=C[1]}else y=h[m];for(var d=g;d<y;d+=f)a.push(l[d],l[d+1]);var F=a.length;g=h[m],this.drawChars_(s,F),s=F}this.endGeometry(A)}else{var E=o.overflow?null:[];switch(u){case U.POINT:case U.MULTI_POINT:l=e.getFlatCoordinates();break;case U.LINE_STRING:l=e.getFlatMidpoint();break;case U.CIRCLE:l=e.getCenter();break;case U.MULTI_LINE_STRING:l=e.getFlatMidpoints(),f=2;break;case U.POLYGON:l=e.getFlatInteriorPoint(),o.overflow||E.push(l[2]/this.resolution),f=3;break;case U.MULTI_POLYGON:var Q=e.getFlatInteriorPoints();l=[];for(var d=0,p=Q.length;d<p;d+=3)o.overflow||E.push(Q[d+2]/this.resolution),l.push(Q[d],Q[d+1]);if(l.length===0)return;f=2;break}var F=this.appendFlatPointCoordinates(l,f);if(F===s)return;if(E&&(F-s)/2!=l.length/f){var w=s/2;E=E.filter(function(ue,ne){var he=a[(w+ne)*2]===l[ne*f]&&a[(w+ne)*2+1]===l[ne*f+1];return he||--w,he})}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,A);var T=o.padding;if(T!=qr&&(o.scale[0]<0||o.scale[1]<0)){var O=o.padding[0],L=o.padding[1],P=o.padding[2],Y=o.padding[3];o.scale[0]<0&&(L=-L,Y=-Y),o.scale[1]<0&&(O=-O,P=-P),T=[O,L,P,Y]}var b=this.pixelRatio;this.instructions.push([te.DRAW_IMAGE,s,F,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,T==qr?qr:T.map(function(ue){return ue*b}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,E]);var k=1/b;this.hitDetectionInstructions.push([te.DRAW_IMAGE,s,F,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[k,k],NaN,this.declutterImageWithText_,T,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,E]),this.endGeometry(A)}}},t.prototype.saveTextStates_=function(){var e=this.textStrokeState_,A=this.textState_,n=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:A.font,textAlign:A.textAlign||bi,textBaseline:A.textBaseline||ua,scale:A.scale});var a=this.fillKey_;n&&(a in this.fillStates||(this.fillStates[a]={fillStyle:n.fillStyle}))},t.prototype.drawChars_=function(e,A){var n=this.textStrokeState_,i=this.textState_,o=this.strokeKey_,a=this.textKey_,s=this.fillKey_;this.saveTextStates_();var u=this.pixelRatio,l=Oa[i.textBaseline],f=this.textOffsetY_*u,h=this.text_,c=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([te.DRAW_CHARS,e,A,l,i.overflow,s,i.maxAngle,u,f,o,c*u,h,a,1]),this.hitDetectionInstructions.push([te.DRAW_CHARS,e,A,l,i.overflow,s,i.maxAngle,1,f,o,c,h,a,1/u])},t.prototype.setTextStyle=function(e,A){var n,i,o;if(!e)this.text_="";else{var a=e.getFill();a?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=DA(a.getColor()||tr)):(i=null,this.textFillState_=i);var s=e.getStroke();if(!s)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);var u=s.getLineDash(),l=s.getLineDashOffset(),f=s.getWidth(),h=s.getMiterLimit();o.lineCap=s.getLineCap()||sa,o.lineDash=u?u.slice():Hi,o.lineDashOffset=l===void 0?Ni:l,o.lineJoin=s.getLineJoin()||Pn,o.lineWidth=f===void 0?Ki:f,o.miterLimit=h===void 0?Di:h,o.strokeStyle=DA(s.getColor()||Gi)}n=this.textState_;var c=e.getFont()||sc;yB(c);var d=e.getScaleArray();n.overflow=e.getOverflow(),n.font=c,n.maxAngle=e.getMaxAngle(),n.placement=e.getPlacement(),n.textAlign=e.getTextAlign(),n.textBaseline=e.getTextBaseline()||ua,n.backgroundFill=e.getBackgroundFill(),n.backgroundStroke=e.getBackgroundStroke(),n.padding=e.getPadding()||qr,n.scale=d===void 0?[1,1]:d;var p=e.getOffsetX(),B=e.getOffsetY(),g=e.getRotateWithView(),y=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=p===void 0?0:p,this.textOffsetY_=B===void 0?0:B,this.textRotateWithView_=g===void 0?!1:g,this.textRotation_=y===void 0?0:y,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:be(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=i?typeof i.fillStyle=="string"?i.fillStyle:"|"+be(i.fillStyle):""}this.declutterImageWithText_=A},t}(uo),$m=zm,Jm={Circle:Td,Default:uo,Image:Km,LineString:Ym,Polygon:Td,Text:$m},qm=function(){function r(t,e,A,n){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=n,this.resolution_=A,this.buildersByZIndex_={}}return r.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var A=this.buildersByZIndex_[e];for(var n in A){var i=A[n].finish();t[e][n]=i}}return t},r.prototype.getBuilder=function(t,e){var A=t!==void 0?t.toString():"0",n=this.buildersByZIndex_[A];n===void 0&&(n={},this.buildersByZIndex_[A]=n);var i=n[e];if(i===void 0){var o=Jm[e];i=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[e]=i}return i},r}(),Od=qm,eC=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),tC=function(r){eC(t,r);function t(e){var A=r.call(this)||this;return A.boundHandleImageChange_=A.handleImageChange_.bind(A),A.layer_=e,A.declutterExecutorGroup=null,A}return t.prototype.getFeatures=function(e){return Z()},t.prototype.prepareFrame=function(e){return Z()},t.prototype.renderFrame=function(e,A){return Z()},t.prototype.loadedTileCallback=function(e,A,n){e[A]||(e[A]={}),e[A][n.tileCoord.toString()]=n},t.prototype.createLoadedTileFinder=function(e,A,n){return function(i,o){var a=this.loadedTileCallback.bind(this,n,i);return e.forEachLoadedTile(A,i,o,a)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(e,A,n,i,o){},t.prototype.getDataAtPixel=function(e,A,n){return null},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(e){var A=e.target;A.getState()===de.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(e){var A=e.getState();return A!=de.LOADED&&A!=de.ERROR&&e.addEventListener($.CHANGE,this.boundHandleImageChange_),A==de.IDLE&&(e.load(),A=e.getState()),A==de.LOADED},t.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==ln.READY&&e.changed()},t}(Ac),AC=tC,rC=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),nC=function(r){rC(t,r);function t(e,A,n,i){var o=r.call(this,e)||this;return o.inversePixelTransform=A,o.frameState=n,o.context=i,o}return t}(UA),Rd=nC,iC=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),oC=function(r){iC(t,r);function t(e){var A=r.call(this,e)||this;return A.container=null,A.renderedResolution,A.tempTransform=xA(),A.pixelTransform=xA(),A.inversePixelTransform=xA(),A.context=null,A.containerReused=!1,A}return t.prototype.useContainer=function(e,A,n){var i=this.getLayer().getClassName(),o,a;if(e&&e.style.opacity===du(n)&&e.className===i){var s=e.firstElementChild;s instanceof HTMLCanvasElement&&(a=s.getContext("2d"))}if(a&&a.canvas.style.transform===A?(this.container=e,this.context=a,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){o=document.createElement("div"),o.className=i;var u=o.style;u.position="absolute",u.width="100%",u.height="100%",a=uA();var s=a.canvas;o.appendChild(s),u=s.style,u.position="absolute",u.left="0",u.transformOrigin="top left",this.container=o,this.context=a}},t.prototype.clipUnrotated=function(e,A,n){var i=bA(n),o=ji(n),a=Wi(n),s=Gn(n);_t(A.coordinateToPixelTransform,i),_t(A.coordinateToPixelTransform,o),_t(A.coordinateToPixelTransform,a),_t(A.coordinateToPixelTransform,s);var u=this.inversePixelTransform;_t(u,i),_t(u,o),_t(u,a),_t(u,s),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.clip()},t.prototype.dispatchRenderEvent_=function(e,A,n){var i=this.getLayer();if(i.hasListener(e)){var o=new Rd(e,this.inversePixelTransform,n,A);i.dispatchEvent(o)}},t.prototype.preRender=function(e,A){this.dispatchRenderEvent_(an.PRERENDER,e,A)},t.prototype.postRender=function(e,A){this.dispatchRenderEvent_(an.POSTRENDER,e,A)},t.prototype.getRenderTransform=function(e,A,n,i,o,a,s){var u=o/2,l=a/2,f=i/A,h=-f,c=-e[0]+s,d=-e[1];return TA(this.tempTransform,u,l,f,h,-n,c,d)},t.prototype.getDataAtPixel=function(e,A,n){var i=_t(this.inversePixelTransform,e.slice()),o=this.context,a=this.getLayer(),s=a.getExtent();if(s){var u=_t(A.pixelToCoordinateTransform,e.slice());if(!Vi(s,u))return null}var l;try{var f=Math.round(i[0]),h=Math.round(i[1]),c=document.createElement("canvas"),d=c.getContext("2d");c.width=1,c.height=1,d.clearRect(0,0,1,1),d.drawImage(o.canvas,f,h,1,1,0,0,1,1),l=d.getImageData(0,0,1,1).data}catch(p){return p.name==="SecurityError"?new Uint8Array:l}return l[3]===0?null:l},t}(AC),Ra=oC;function aC(r,t,e,A,n,i,o,a,s,u,l,f){var h=r[t],c=r[t+1],d=0,p=0,B=0,g=0;function y(){d=h,p=c,t+=A,h=r[t],c=r[t+1],g+=B,B=Math.sqrt((h-d)*(h-d)+(c-p)*(c-p))}do y();while(t<e-A&&g+B<i);for(var m=B===0?0:(i-g)/B,_=er(d,h,m),C=er(p,c,m),F=t-A,E=g,Q=i+a*s(u,n,l);t<e-A&&g+B<Q;)y();m=B===0?0:(Q-g)/B;var w=er(d,h,m),T=er(p,c,m),O;if(f){var L=[_,C,w,T];Xu(L,0,4,2,f,L,L),O=L[0]>L[2]}else O=_>w;var P=Math.PI,Y=[],b=F+A===t;t=F,B=0,g=E,h=r[t],c=r[t+1];var k;if(b){y(),k=Math.atan2(c-p,h-d),O&&(k+=k>0?-P:P);var K=(w+_)/2,ue=(T+C)/2;return Y[0]=[K,ue,(Q-i)/2,k,n],Y}for(var ne=0,he=n.length;ne<he;){y();var We=Math.atan2(c-p,h-d);if(O&&(We+=We>0?-P:P),k!==void 0){var R=We-k;if(R+=R>P?-2*P:R<-P?2*P:0,Math.abs(R)>o)return null}k=We;for(var nt=ne,ie=0;ne<he;++ne){var je=O?he-ne-1:ne,dt=a*s(u,n[je],l);if(t+A<e&&g+B<i+ie+dt/2)break;ie+=dt}if(ne!==nt){var pt=O?n.substring(he-nt,he-ne):n.substring(nt,ne);m=B===0?0:(i+ie/2-g)/B;var K=er(d,h,m),ue=er(p,c,m);Y.push([K,ue,ie/2,We,pt]),i+=ie}}return Y}var qn=tA(),Ur=[],or=[],ar=[],Sr=[];function Ld(r){return r[3].declutterBox}var sC=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Md(r,t){return(t==="start"||t==="end")&&!sC.test(r)&&(t=t==="start"?"left":"right"),Oa[t]}var uC=function(){function r(t,e,A,n){this.overlaps=A,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=xA(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}return r.prototype.createLabel=function(t,e,A,n){var i=t+e+A+n;if(this.labels_[i])return this.labels_[i];var o=n?this.strokeStates[n]:null,a=A?this.fillStates[A]:null,s=this.textStates[e],u=this.pixelRatio,l=[s.scale[0]*u,s.scale[1]*u],f=Md(t,s.textAlign||bi),h=n&&o.lineWidth?o.lineWidth:0,c=t.split(`
`),d=c.length,p=[],B=wB(s.font,c,p),g=_B(s.font),y=g*d,m=B+h,_=[],C=(m+2)*l[0],F=(y+h)*l[1],E={width:C<0?Math.floor(C):Math.ceil(C),height:F<0?Math.floor(F):Math.ceil(F),contextInstructions:_};if((l[0]!=1||l[1]!=1)&&_.push("scale",l),_.push("font",s.font),n){_.push("strokeStyle",o.strokeStyle),_.push("lineWidth",h),_.push("lineCap",o.lineCap),_.push("lineJoin",o.lineJoin),_.push("miterLimit",o.miterLimit);var Q=ea?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;Q.prototype.setLineDash&&(_.push("setLineDash",[o.lineDash]),_.push("lineDashOffset",o.lineDashOffset))}A&&_.push("fillStyle",a.fillStyle),_.push("textBaseline","middle"),_.push("textAlign","center");var w=.5-f,T=f*m+w*h,O;if(n)for(O=0;O<d;++O)_.push("strokeText",[c[O],T+w*p[O],.5*(h+g)+O*g]);if(A)for(O=0;O<d;++O)_.push("fillText",[c[O],T+w*p[O],.5*(h+g)+O*g]);return this.labels_[i]=E,E},r.prototype.replayTextBackground_=function(t,e,A,n,i,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,A),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},r.prototype.calculateImageOrLabelDimensions_=function(t,e,A,n,i,o,a,s,u,l,f,h,c,d,p,B){a*=h[0],s*=h[1];var g=A-a,y=n-s,m=i+u>t?t-u:i,_=o+l>e?e-l:o,C=d[3]+m*h[0]+d[1],F=d[0]+_*h[1]+d[2],E=g-d[3],Q=y-d[0];(p||f!==0)&&(Ur[0]=E,Sr[0]=E,Ur[1]=Q,or[1]=Q,or[0]=E+C,ar[0]=or[0],ar[1]=Q+F,Sr[1]=ar[1]);var w;return f!==0?(w=TA(xA(),A,n,1,1,f,-A,-n),_t(w,Ur),_t(w,or),_t(w,ar),_t(w,Sr),AA(Math.min(Ur[0],or[0],ar[0],Sr[0]),Math.min(Ur[1],or[1],ar[1],Sr[1]),Math.max(Ur[0],or[0],ar[0],Sr[0]),Math.max(Ur[1],or[1],ar[1],Sr[1]),qn)):AA(Math.min(E,E+C),Math.min(Q,Q+F),Math.max(E,E+C),Math.max(Q,Q+F),qn),c&&(g=Math.round(g),y=Math.round(y)),{drawImageX:g,drawImageY:y,drawImageW:m,drawImageH:_,originX:u,originY:l,declutterBox:{minX:qn[0],minY:qn[1],maxX:qn[2],maxY:qn[3],value:B},canvasTransform:w,scale:h}},r.prototype.replayImageOrLabel_=function(t,e,A,n,i,o,a){var s=!!(o||a),u=n.declutterBox,l=t.canvas,f=a?a[2]*n.scale[0]/2:0,h=u.minX-f<=l.width/e&&u.maxX+f>=0&&u.minY-f<=l.height/e&&u.maxY+f>=0;return h&&(s&&this.replayTextBackground_(t,Ur,or,ar,Sr,o,a),mB(t,n.canvasTransform,i,A,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0},r.prototype.fill_=function(t){if(this.alignFill_){var e=_t(this.renderedTransform_,[0,0]),A=512*this.pixelRatio;t.save(),t.translate(e[0]%A,e[1]%A),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},r.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},r.prototype.drawLabelWithPointPlacement_=function(t,e,A,n){var i=this.textStates[e],o=this.createLabel(t,e,n,A),a=this.strokeStates[A],s=this.pixelRatio,u=Md(t,i.textAlign||bi),l=Oa[i.textBaseline||ua],f=a&&a.lineWidth?a.lineWidth:0,h=o.width/s-2*i.scale[0],c=u*h+2*(.5-u)*f,d=l*o.height/s+2*(.5-l)*f;return{label:o,anchorX:c,anchorY:d}},r.prototype.execute_=function(t,e,A,n,i,o,a,s){var u;this.pixelCoordinates_&&zr(A,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=nn(this.coordinates,0,this.coordinates.length,2,A,this.pixelCoordinates_),$c(this.renderedTransform_,A));for(var l=0,f=n.length,h=0,c,d,p,B,g,y,m,_,C,F,E,Q,w=0,T=0,O=null,L=null,P=this.coordinateCache_,Y=this.viewRotation_,b=Math.round(Math.atan2(-A[1],A[0])*1e12)/1e12,k={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Y},K=this.instructions!=n||this.overlaps?0:200,ue,ne,he,We;l<f;){var R=n[l],nt=R[0];switch(nt){case te.BEGIN_GEOMETRY:ue=R[1],We=R[3],ue.getGeometry()?a!==void 0&&!Ht(a,We.getExtent())?l=R[2]+1:++l:l=R[2];break;case te.BEGIN_PATH:w>K&&(this.fill_(t),w=0),T>K&&(t.stroke(),T=0),!w&&!T&&(t.beginPath(),B=NaN,g=NaN),++l;break;case te.CIRCLE:h=R[1];var ie=u[h],je=u[h+1],dt=u[h+2],pt=u[h+3],Pt=dt-ie,kt=pt-je,pr=Math.sqrt(Pt*Pt+kt*kt);t.moveTo(ie+pr,je),t.arc(ie,je,pr,0,2*Math.PI,!0),++l;break;case te.CLOSE_PATH:t.closePath(),++l;break;case te.CUSTOM:h=R[1],c=R[2];var tt=R[3],Vt=R[4],Qn=R.length==6?R[5]:void 0;k.geometry=tt,k.feature=ue,l in P||(P[l]=[]);var Ot=P[l];Qn?Qn(u,h,c,2,Ot):(Ot[0]=u[h],Ot[1]=u[h+1],Ot.length=2),Vt(Ot,k),++l;break;case te.DRAW_IMAGE:h=R[1],c=R[2],_=R[3],d=R[4],p=R[5];var Yt=R[6],In=R[7],Fi=R[8],Vo=R[9],Kr=R[10],Qi=R[11],Yo=R[12],Un=R[13],gr=R[14];if(!_&&R.length>=19){C=R[18],F=R[19],E=R[20],Q=R[21];var Sn=this.drawLabelWithPointPlacement_(C,F,E,Q);_=Sn.label,R[3]=_;var iu=R[22];d=(Sn.anchorX-iu)*this.pixelRatio,R[4]=d;var Xo=R[23];p=(Sn.anchorY-Xo)*this.pixelRatio,R[5]=p,Yt=_.height,R[6]=Yt,Un=_.width,R[13]=Un}var Ii=void 0;R.length>24&&(Ii=R[24]);var vr=void 0,qA=void 0,kr=void 0;R.length>16?(vr=R[15],qA=R[16],kr=R[17]):(vr=qr,qA=!1,kr=!1),Kr&&b?Qi+=Y:!Kr&&!b&&(Qi-=Y);for(var xn=0;h<c;h+=2)if(!(Ii&&Ii[xn++]<Un/this.pixelRatio)){var EA=this.calculateImageOrLabelDimensions_(_.width,_.height,u[h],u[h+1],Un,Yt,d,p,Fi,Vo,Qi,Yo,i,vr,qA||kr,ue),FA=[t,e,_,EA,In,qA?O:null,kr?L:null],Vr=void 0,Tn=void 0;if(s&&gr){var Wo=c-h;if(!gr[Wo]){gr[Wo]=FA;continue}if(Vr=gr[Wo],delete gr[Wo],Tn=Ld(Vr),s.collides(Tn))continue}s&&s.collides(EA.declutterBox)||(Vr&&(s&&s.insert(Tn),this.replayImageOrLabel_.apply(this,Vr)),s&&s.insert(EA.declutterBox),this.replayImageOrLabel_.apply(this,FA))}++l;break;case te.DRAW_CHARS:var Qh=R[1],Ih=R[2],ou=R[3],Yv=R[4];Q=R[5];var Xv=R[6],Uh=R[7],Sh=R[8];E=R[9];var au=R[10];C=R[11],F=R[12];var xh=[R[13],R[13]],su=this.textStates[F],Ui=su.font,Si=[su.scale[0]*Uh,su.scale[1]*Uh],xi=void 0;Ui in this.widths_?xi=this.widths_[Ui]:(xi={},this.widths_[Ui]=xi);var Th=Id(u,Qh,Ih,2),Oh=Math.abs(Si[0])*lc(Ui,C,xi);if(Yv||Oh<=Th){var Wv=this.textStates[F].textAlign,jv=(Th-Oh)*Oa[Wv],Ti=aC(u,Qh,Ih,2,C,jv,Xv,Math.abs(Si[0]),lc,Ui,xi,b?0:this.viewRotation_);e:if(Ti){var Oi=[],Br=void 0,jo=void 0,Zo=void 0,Zt=void 0,sA=void 0;if(E)for(Br=0,jo=Ti.length;Br<jo;++Br){sA=Ti[Br],Zo=sA[4],Zt=this.createLabel(Zo,F,"",E),d=sA[2]+(Si[0]<0?-au:au),p=ou*Zt.height+(.5-ou)*2*au*Si[1]/Si[0]-Sh;var EA=this.calculateImageOrLabelDimensions_(Zt.width,Zt.height,sA[0],sA[1],Zt.width,Zt.height,d,p,0,0,sA[3],xh,!1,qr,!1,ue);if(s&&s.collides(EA.declutterBox))break e;Oi.push([t,e,Zt,EA,1,null,null])}if(Q)for(Br=0,jo=Ti.length;Br<jo;++Br){sA=Ti[Br],Zo=sA[4],Zt=this.createLabel(Zo,F,Q,""),d=sA[2],p=ou*Zt.height-Sh;var EA=this.calculateImageOrLabelDimensions_(Zt.width,Zt.height,sA[0],sA[1],Zt.width,Zt.height,d,p,0,0,sA[3],xh,!1,qr,!1,ue);if(s&&s.collides(EA.declutterBox))break e;Oi.push([t,e,Zt,EA,1,null,null])}s&&s.load(Oi.map(Ld));for(var uu=0,Zv=Oi.length;uu<Zv;++uu)this.replayImageOrLabel_.apply(this,Oi[uu])}}++l;break;case te.END_GEOMETRY:if(o!==void 0){ue=R[1];var Rh=o(ue,We);if(Rh)return Rh}++l;break;case te.FILL:K?w++:this.fill_(t),++l;break;case te.MOVE_TO_LINE_TO:for(h=R[1],c=R[2],ne=u[h],he=u[h+1],y=ne+.5|0,m=he+.5|0,(y!==B||m!==g)&&(t.moveTo(ne,he),B=y,g=m),h+=2;h<c;h+=2)ne=u[h],he=u[h+1],y=ne+.5|0,m=he+.5|0,(h==c-2||y!==B||m!==g)&&(t.lineTo(ne,he),B=y,g=m);++l;break;case te.SET_FILL_STYLE:O=R,this.alignFill_=R[2],w&&(this.fill_(t),w=0,T&&(t.stroke(),T=0)),t.fillStyle=R[1],++l;break;case te.SET_STROKE_STYLE:L=R,T&&(t.stroke(),T=0),this.setStrokeStyle_(t,R),++l;break;case te.STROKE:K?T++:t.stroke(),++l;break;default:++l;break}}w&&this.fill_(t),T&&t.stroke()},r.prototype.execute=function(t,e,A,n,i,o){this.viewRotation_=n,this.execute_(t,e,A,this.instructions,i,void 0,void 0,o)},r.prototype.executeHitDetection=function(t,e,A,n,i){return this.viewRotation_=A,this.execute_(t,1,e,this.hitDetectionInstructions,!0,n,i)},r}(),lC=uC,hl=[ct.POLYGON,ct.CIRCLE,ct.LINE_STRING,ct.IMAGE,ct.TEXT,ct.DEFAULT],fC=function(){function r(t,e,A,n,i,o){this.maxExtent_=t,this.overlaps_=n,this.pixelRatio_=A,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=xA(),this.createExecutors_(i)}return r.prototype.clip=function(t,e){var A=this.getClipCoords(e);t.beginPath(),t.moveTo(A[0],A[1]),t.lineTo(A[2],A[3]),t.lineTo(A[4],A[5]),t.lineTo(A[6],A[7]),t.clip()},r.prototype.createExecutors_=function(t){for(var e in t){var A=this.executorsByZIndex_[e];A===void 0&&(A={},this.executorsByZIndex_[e]=A);var n=t[e];for(var i in n){var o=n[i];A[i]=new lC(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},r.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var A=this.executorsByZIndex_[e],n=0,i=t.length;n<i;++n)if(t[n]in A)return!0;return!1},r.prototype.forEachFeatureAtCoordinate=function(t,e,A,n,i,o){n=Math.round(n);var a=n*2+1,s=TA(this.hitDetectionTransform_,n+.5,n+.5,1/e,-1/e,-A,-t[0],-t[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=uA(a,a));var l=this.hitDetectionContext_;l.canvas.width!==a||l.canvas.height!==a?(l.canvas.width=a,l.canvas.height=a):u||l.clearRect(0,0,a,a);var f;this.renderBuffer_!==void 0&&(f=tA(),Xi(f,t),ha(f,e*(this.renderBuffer_+n),f));var h=hC(n),c;function d(F,E){for(var Q=l.getImageData(0,0,a,a).data,w=0,T=h.length;w<T;w++)if(Q[h[w]]>0){if(!o||c!==ct.IMAGE&&c!==ct.TEXT||o.indexOf(F)!==-1){var O=(h[w]-3)/4,L=n-O%a,P=n-(O/a|0),Y=i(F,E,L*L+P*P);if(Y)return Y}l.clearRect(0,0,a,a);break}}var p=Object.keys(this.executorsByZIndex_).map(Number);p.sort(Zr);var B,g,y,m,_;for(B=p.length-1;B>=0;--B){var C=p[B].toString();for(y=this.executorsByZIndex_[C],g=hl.length-1;g>=0;--g)if(c=hl[g],m=y[c],m!==void 0&&(_=m.executeHitDetection(l,s,A,d,f),_))return _}},r.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var A=e[0],n=e[1],i=e[2],o=e[3],a=[A,n,A,o,i,o,i,n];return nn(a,0,8,2,t,a),a},r.prototype.isEmpty=function(){return Rn(this.executorsByZIndex_)},r.prototype.execute=function(t,e,A,n,i,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(Zr),this.maxExtent_&&(t.save(),this.clip(t,A));var u=o||hl,l,f,h,c,d,p;for(a&&s.reverse(),l=0,f=s.length;l<f;++l){var B=s[l].toString();for(d=this.executorsByZIndex_[B],h=0,c=u.length;h<c;++h){var g=u[h];p=d[g],p!==void 0&&p.execute(t,e,A,n,i,a)}}this.maxExtent_&&t.restore()},r}(),cl={};function hC(r){if(cl[r]!==void 0)return cl[r];for(var t=r*2+1,e=r*r,A=new Array(e+1),n=0;n<=r;++n)for(var i=0;i<=r;++i){var o=n*n+i*i;if(o>e)break;var a=A[o];a||(a=[],A[o]=a),a.push(((r+n)*t+(r+i))*4+3),n>0&&a.push(((r-n)*t+(r+i))*4+3),i>0&&(a.push(((r+n)*t+(r-i))*4+3),n>0&&a.push(((r-n)*t+(r-i))*4+3))}for(var s=[],n=0,u=A.length;n<u;++n)A[n]&&s.push.apply(s,A[n]);return cl[r]=s,s}var Pd=fC,xt={ANIMATING:0,INTERACTING:1},XA=.5;function cC(r,t,e,A,n,i,o){var a=r[0]*XA,s=r[1]*XA,u=uA(a,s);u.imageSmoothingEnabled=!1;for(var l=u.canvas,f=new dd(u,XA,n,null,o),h=e.length,c=Math.floor((256*256*256-1)/h),d={},p=1;p<=h;++p){var B=e[p-1],g=B.getStyleFunction()||A;if(!!A){var y=g(B,i);if(!!y){Array.isArray(y)||(y=[y]);for(var m=p*c,_="#"+("000000"+m.toString(16)).slice(-6),C=0,F=y.length;C<F;++C){var E=y[C],Q=E.getGeometryFunction()(B);if(!(!Q||!Ht(n,Q.getExtent()))){var w=E.clone(),T=w.getFill();T&&T.setColor(_);var O=w.getStroke();O&&(O.setColor(_),O.setLineDash(null)),w.setText(void 0);var L=E.getImage();if(L&&L.getOpacity()!==0){var P=L.getImageSize();if(!P)continue;var Y=uA(P[0],P[1],void 0,{alpha:!1}),b=Y.canvas;Y.fillStyle=_,Y.fillRect(0,0,b.width,b.height),w.setImage(new vc({img:b,imgSize:P,anchor:L.getAnchor(),anchorXUnits:Cr.PIXELS,anchorYUnits:Cr.PIXELS,offset:L.getOrigin(),opacity:1,size:L.getSize(),scale:L.getScale(),rotation:L.getRotation(),rotateWithView:L.getRotateWithView()}))}var k=w.getZIndex()||0,K=d[k];K||(K={},d[k]=K,K[U.POLYGON]=[],K[U.CIRCLE]=[],K[U.LINE_STRING]=[],K[U.POINT]=[]),K[Q.getType().replace("Multi","")].push(Q,w)}}}}}for(var ue=Object.keys(d).map(Number).sort(Zr),p=0,ne=ue.length;p<ne;++p){var K=d[ue[p]];for(var he in K)for(var We=K[he],C=0,F=We.length;C<F;C+=2){f.setStyle(We[C+1]);for(var R=0,nt=t.length;R<nt;++R)f.setTransform(t[R]),f.drawGeometry(We[C])}}return u.getImageData(0,0,l.width,l.height)}function dC(r,t,e){var A=[];if(e){var n=Math.floor(Math.round(r[0])*XA),i=Math.floor(Math.round(r[1])*XA),o=(Ct(n,0,e.width-1)+Ct(i,0,e.height-1)*e.width)*4,a=e.data[o],s=e.data[o+1],u=e.data[o+2],l=u+256*(s+256*a),f=Math.floor((256*256*256-1)/t.length);l&&l%f==0&&A.push(t[l/f-1])}return A}var pC=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),gC=function(r){pC(t,r);function t(e){var A=r.call(this,e)||this;return A.boundHandleStyleImageChange_=A.handleStyleImageChange_.bind(A),A.animatingOrInteracting_,A.dirty_=!1,A.hitDetectionImageData_=null,A.renderedFeatures_=null,A.renderedRevision_=-1,A.renderedResolution_=NaN,A.renderedExtent_=tA(),A.wrappedRenderedExtent_=tA(),A.renderedRotation_,A.renderedCenter_=null,A.renderedProjection_=null,A.renderedRenderOrder_=null,A.replayGroup_=null,A.replayGroupChanged=!0,A.declutterExecutorGroup=null,A.clipping=!0,A}return t.prototype.useContainer=function(e,A,n){n<1&&(e=null),r.prototype.useContainer.call(this,e,A,n)},t.prototype.renderWorlds=function(e,A,n){var i=A.extent,o=A.viewState,a=o.center,s=o.resolution,u=o.projection,l=o.rotation,f=u.getExtent(),h=this.getLayer().getSource(),c=A.pixelRatio,d=A.viewHints,p=!(d[xt.ANIMATING]||d[xt.INTERACTING]),B=this.context,g=Math.round(A.size[0]*c),y=Math.round(A.size[1]*c),m=h.getWrapX()&&u.canWrapX(),_=m?st(f):null,C=m?Math.ceil((i[2]-f[2])/_)+1:1,F=m?Math.floor((i[0]-f[0])/_):0;do{var E=this.getRenderTransform(a,s,l,c,g,y,F*_);e.execute(B,1,E,l,p,void 0,n)}while(++F<C)},t.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree)},t.prototype.renderFrame=function(e,A){var n=e.pixelRatio,i=e.layerStatesArray[e.layerIndex];Jc(this.pixelTransform,1/n,1/n),Ao(this.inversePixelTransform,this.pixelTransform);var o=wa(this.pixelTransform);this.useContainer(A,o,i.opacity);var a=this.context,s=a.canvas,u=this.replayGroup_,l=this.declutterExecutorGroup;if((!u||u.isEmpty())&&(!l||l.isEmpty()))return null;var f=Math.round(e.size[0]*n),h=Math.round(e.size[1]*n);s.width!=f||s.height!=h?(s.width=f,s.height=h,s.style.transform!==o&&(s.style.transform=o)):this.containerReused||a.clearRect(0,0,f,h),this.preRender(a,e);var c=e.viewState;c.projection;var d=!1,p=!0;if(i.extent&&this.clipping){var B=gA(i.extent);p=Ht(B,e.extent),d=p&&!GA(B,e.extent),d&&this.clipUnrotated(a,e,B)}p&&this.renderWorlds(u,e),d&&a.restore(),this.postRender(a,e);var g=du(i.opacity),y=this.container;return g!==y.style.opacity&&(y.style.opacity=g),this.renderedRotation_!==c.rotation&&(this.renderedRotation_=c.rotation,this.hitDetectionImageData_=null),this.container},t.prototype.getFeatures=function(e){return new Promise(function(A){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];_t(this.pixelTransform,n);var i=this.renderedCenter_,o=this.renderedResolution_,a=this.renderedRotation_,s=this.renderedProjection_,u=this.wrappedRenderedExtent_,l=this.getLayer(),f=[],h=n[0]*XA,c=n[1]*XA;f.push(this.getRenderTransform(i,o,a,XA,h,c,0).slice());var d=l.getSource(),p=s.getExtent();if(d.getWrapX()&&s.canWrapX()&&!GA(p,u)){for(var B=u[0],g=st(p),y=0,m=void 0;B<p[0];)--y,m=g*y,f.push(this.getRenderTransform(i,o,a,XA,h,c,m).slice()),B+=g;for(y=0,B=u[2];B>p[2];)++y,m=g*y,f.push(this.getRenderTransform(i,o,a,XA,h,c,m).slice()),B-=g}this.hitDetectionImageData_=cC(n,f,this.renderedFeatures_,l.getStyleFunction(),u,o,a)}A(dC(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},t.prototype.forEachFeatureAtCoordinate=function(e,A,n,i,o){var a=this;if(!!this.replayGroup_){var s=A.viewState.resolution,u=A.viewState.rotation,l=this.getLayer(),f={},h=function(p,B,g){var y=be(p),m=f[y];if(m){if(m!==!0&&g<m.distanceSq){if(g===0)return f[y]=!0,o.splice(o.lastIndexOf(m),1),i(p,l,B);m.geometry=B,m.distanceSq=g}}else{if(g===0)return f[y]=!0,i(p,l,B);o.push(f[y]={feature:p,layer:l,geometry:B,distanceSq:g,callback:i})}},c,d=[this.replayGroup_];return this.declutterExecutorGroup&&d.push(this.declutterExecutorGroup),d.some(function(p){return c=p.forEachFeatureAtCoordinate(e,s,u,n,h,p===a.declutterExecutorGroup?A.declutterTree.all().map(function(B){return B.value}):null)}),c}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var A=this.getLayer(),n=A.getSource();if(!n)return!1;var i=e.viewHints[xt.ANIMATING],o=e.viewHints[xt.INTERACTING],a=A.getUpdateWhileAnimating(),s=A.getUpdateWhileInteracting();if(!this.dirty_&&!a&&i||!s&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var u=e.extent,l=e.viewState,f=l.projection,h=l.resolution,c=e.pixelRatio,d=A.getRevision(),p=A.getRenderBuffer(),B=A.getRenderOrder();B===void 0&&(B=Jw);var g=l.center.slice(),y=ha(u,p*h),m=y.slice(),_=[y.slice()],C=f.getExtent();if(n.getWrapX()&&f.canWrapX()&&!GA(C,e.extent)){var F=st(C),E=Math.max(st(y)/2,F);y[0]=C[0]-E,y[2]=C[2]+E,ud(g,f);var Q=NB(_[0],f);Q[0]<C[0]&&Q[2]<C[2]?_.push([Q[0]+F,Q[1],Q[2]+F,Q[3]]):Q[0]>C[0]&&Q[2]>C[2]&&_.push([Q[0]-F,Q[1],Q[2]-F,Q[3]])}if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==d&&this.renderedRenderOrder_==B&&GA(this.wrappedRenderedExtent_,y))return zr(this.renderedExtent_,m)||(this.hitDetectionImageData_=null,this.renderedExtent_=m),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var w=new Od(Al(h,c),y,h,c),T;this.getLayer().getDeclutter()&&(T=new Od(Al(h,c),y,h,c));for(var O,L,P,L=0,P=_.length;L<P;++L)n.loadFeatures(_[L],h,f);var Y=gd(h,c),b=function(he){var We,R=he.getStyleFunction()||A.getStyleFunction();if(R&&(We=R(he,h)),We){var nt=this.renderFeature(he,Y,We,w,O,T);this.dirty_=this.dirty_||nt}}.bind(this),k=tl(y),K=n.getFeaturesInExtent(k);B&&K.sort(B);for(var L=0,P=K.length;L<P;++L)b(K[L]);this.renderedFeatures_=K;var ue=w.finish(),ne=new Pd(y,h,c,n.getOverlaps(),ue,A.getRenderBuffer());return T&&(this.declutterExecutorGroup=new Pd(y,h,c,n.getOverlaps(),T.finish(),A.getRenderBuffer())),this.renderedResolution_=h,this.renderedRevision_=d,this.renderedRenderOrder_=B,this.renderedExtent_=m,this.wrappedRenderedExtent_=y,this.renderedCenter_=g,this.renderedProjection_=f,this.replayGroup_=ne,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,A,n,i,o,a){if(!n)return!1;var s=!1;if(Array.isArray(n))for(var u=0,l=n.length;u<l;++u)s=vd(i,e,n[u],A,this.boundHandleStyleImageChange_,o,a)||s;else s=vd(i,e,n,A,this.boundHandleStyleImageChange_,o,a);return s},t}(Ra),vC=gC,BC=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),yC=function(r){BC(t,r);function t(e){return r.call(this,e)||this}return t.prototype.createRenderer=function(){return new vC(this)},t}(Hm),hn=yC,_C=function(){function r(t){this.rbush_=new Pc(t),this.items_={}}return r.prototype.insert=function(t,e){var A={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(A),this.items_[be(e)]=A},r.prototype.load=function(t,e){for(var A=new Array(e.length),n=0,i=e.length;n<i;n++){var o=t[n],a=e[n],s={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};A[n]=s,this.items_[be(a)]=s}this.rbush_.load(A)},r.prototype.remove=function(t){var e=be(t),A=this.items_[e];return delete this.items_[e],this.rbush_.remove(A)!==null},r.prototype.update=function(t,e){var A=this.items_[be(e)],n=[A.minX,A.minY,A.maxX,A.maxY];Dn(n,t)||(this.remove(e),this.insert(t,e))},r.prototype.getAll=function(){var t=this.rbush_.all();return t.map(function(e){return e.value})},r.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]},A=this.rbush_.search(e);return A.map(function(n){return n.value})},r.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},r.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},r.prototype.forEach_=function(t,e){for(var A,n=0,i=t.length;n<i;n++)if(A=e(t[n]),A)return A;return A},r.prototype.isEmpty=function(){return Rn(this.items_)},r.prototype.clear=function(){this.rbush_.clear(),this.items_={}},r.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return AA(e.minX,e.minY,e.maxX,e.maxY,t)},r.prototype.concat=function(t){this.rbush_.load(t.rbush_.all());for(var e in t.items_)this.items_[e]=t.items_[e]},r}(),dl=_C,wC=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),mC=function(r){wC(t,r);function t(e){var A=r.call(this)||this;A.projection=ze(e.projection),A.attributions_=Hd(e.attributions),A.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,A.loading=!1,A.state_=e.state!==void 0?e.state:ln.READY,A.wrapX_=e.wrapX!==void 0?e.wrapX:!1,A.viewResolver=null,A.viewRejector=null;var n=A;return A.viewPromise_=new Promise(function(i,o){n.viewResolver=i,n.viewRejector=o}),A}return t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection},t.prototype.getResolutions=function(){return Z()},t.prototype.getView=function(){return this.viewPromise_},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.getContextOptions=function(){},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(e){this.attributions_=Hd(e),this.changed()},t.prototype.setState=function(e){this.state_=e,this.changed()},t}(SA);function Hd(r){return r?Array.isArray(r)?function(t){return r}:typeof r=="function"?r:function(t){return[r]}:null}var pl=mC,BA={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function CC(r,t){return[[-1/0,-1/0,1/0,1/0]]}function EC(r,t){return[r]}var cn={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},FC=!1;function QC(r,t,e,A,n,i,o){var a=new XMLHttpRequest;a.open("GET",typeof r=="function"?r(e,A,n):r,!0),t.getType()==cn.ARRAY_BUFFER&&(a.responseType="arraybuffer"),a.withCredentials=FC,a.onload=function(s){if(!a.status||a.status>=200&&a.status<300){var u=t.getType(),l=void 0;u==cn.JSON||u==cn.TEXT?l=a.responseText:u==cn.XML?(l=a.responseXML,l||(l=new DOMParser().parseFromString(a.responseText,"application/xml"))):u==cn.ARRAY_BUFFER&&(l=a.response),l?i(t.readFeatures(l,{extent:e,featureProjection:n}),t.readProjection(l)):o()}else o()},a.onerror=o,a.send()}function Nd(r,t){return function(e,A,n,i,o){var a=this;QC(r,t,e,A,n,function(s,u){a.addFeatures(s),i!==void 0&&i(s)},o||Jr)}}var Dd=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),xr=function(r){Dd(t,r);function t(e,A,n){var i=r.call(this,e)||this;return i.feature=A,i.features=n,i}return t}(UA),IC=function(r){Dd(t,r);function t(e){var A=this,n=e||{};A=r.call(this,{attributions:n.attributions,projection:void 0,state:ln.READY,wrapX:n.wrapX!==void 0?n.wrapX:!0})||this,A.on,A.once,A.un,A.loader_=Jr,A.format_=n.format,A.overlaps_=n.overlaps===void 0?!0:n.overlaps,A.url_=n.url,n.loader!==void 0?A.loader_=n.loader:A.url_!==void 0&&(ae(A.format_,7),A.loader_=Nd(A.url_,A.format_)),A.strategy_=n.strategy!==void 0?n.strategy:CC;var i=n.useSpatialIndex!==void 0?n.useSpatialIndex:!0;A.featuresRtree_=i?new dl:null,A.loadedExtentsRtree_=new dl,A.loadingExtentsCount_=0,A.nullGeometryFeatures_={},A.idIndex_={},A.uidIndex_={},A.featureChangeKeys_={},A.featuresCollection_=null;var o,a;return Array.isArray(n.features)?a=n.features:n.features&&(o=n.features,a=o.getArray()),!i&&o===void 0&&(o=new $t(a)),a!==void 0&&A.addFeaturesInternal(a),o!==void 0&&A.bindFeaturesCollection_(o),A}return t.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},t.prototype.addFeatureInternal=function(e){var A=be(e);if(!this.addToIndex_(A,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(A,e);var n=e.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[A]=e;this.dispatchEvent(new xr(BA.ADDFEATURE,e))},t.prototype.setupChangeEvents_=function(e,A){this.featureChangeKeys_[e]=[Ve(A,$.CHANGE,this.handleFeatureChange_,this),Ve(A,jr.PROPERTYCHANGE,this.handleFeatureChange_,this)]},t.prototype.addToIndex_=function(e,A){var n=!0,i=A.getId();return i!==void 0&&(i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=A),n&&(ae(!(e in this.uidIndex_),30),this.uidIndex_[e]=A),n},t.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},t.prototype.addFeaturesInternal=function(e){for(var A=[],n=[],i=[],o=0,a=e.length;o<a;o++){var s=e[o],u=be(s);this.addToIndex_(u,s)&&n.push(s)}for(var o=0,l=n.length;o<l;o++){var s=n[o],u=be(s);this.setupChangeEvents_(u,s);var f=s.getGeometry();if(f){var h=f.getExtent();A.push(h),i.push(s)}else this.nullGeometryFeatures_[u]=s}this.featuresRtree_&&this.featuresRtree_.load(A,i);for(var o=0,c=n.length;o<c;o++)this.dispatchEvent(new xr(BA.ADDFEATURE,n[o]))},t.prototype.bindFeaturesCollection_=function(e){var A=!1;this.addEventListener(BA.ADDFEATURE,function(n){A||(A=!0,e.push(n.feature),A=!1)}),this.addEventListener(BA.REMOVEFEATURE,function(n){A||(A=!0,e.remove(n.feature),A=!1)}),e.addEventListener(Nt.ADD,function(n){A||(A=!0,this.addFeature(n.element),A=!1)}.bind(this)),e.addEventListener(Nt.REMOVE,function(n){A||(A=!0,this.removeFeature(n.element),A=!1)}.bind(this)),this.featuresCollection_=e},t.prototype.clear=function(e){if(e){for(var A in this.featureChangeKeys_){var n=this.featureChangeKeys_[A];n.forEach(it)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this));for(var i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var o=new xr(BA.CLEAR);this.dispatchEvent(o),this.changed()},t.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},t.prototype.forEachFeatureAtCoordinateDirect=function(e,A){var n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,function(i){var o=i.getGeometry();if(o.intersectsCoordinate(e))return A(i)})},t.prototype.forEachFeatureInExtent=function(e,A){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,A);this.featuresCollection_&&this.featuresCollection_.forEach(A)},t.prototype.forEachFeatureIntersectingExtent=function(e,A){return this.forEachFeatureInExtent(e,function(n){var i=n.getGeometry();if(i.intersectsExtent(e)){var o=A(n);if(o)return o}})},t.prototype.getFeaturesCollection=function(){return this.featuresCollection_},t.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Rn(this.nullGeometryFeatures_)||lA(e,tc(this.nullGeometryFeatures_))),e},t.prototype.getFeaturesAtCoordinate=function(e){var A=[];return this.forEachFeatureAtCoordinateDirect(e,function(n){A.push(n)}),A},t.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},t.prototype.getClosestFeatureToCoordinate=function(e,A){var n=e[0],i=e[1],o=null,a=[NaN,NaN],s=1/0,u=[-1/0,-1/0,1/0,1/0],l=A||$r;return this.featuresRtree_.forEachInExtent(u,function(f){if(l(f)){var h=f.getGeometry(),c=s;if(s=h.closestPointXY(n,i,a,s),s<c){o=f;var d=Math.sqrt(s);u[0]=n-d,u[1]=i-d,u[2]=n+d,u[3]=i+d}}}),o},t.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},t.prototype.getFeatureById=function(e){var A=this.idIndex_[e.toString()];return A!==void 0?A:null},t.prototype.getFeatureByUid=function(e){var A=this.uidIndex_[e];return A!==void 0?A:null},t.prototype.getFormat=function(){return this.format_},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.getUrl=function(){return this.url_},t.prototype.handleFeatureChange_=function(e){var A=e.target,n=be(A),i=A.getGeometry();if(!i)n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(A),this.nullGeometryFeatures_[n]=A);else{var o=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,A)):this.featuresRtree_&&this.featuresRtree_.update(o,A)}var a=A.getId();if(a!==void 0){var s=a.toString();this.idIndex_[s]!==A&&(this.removeFromIdIndex_(A),this.idIndex_[s]=A)}else this.removeFromIdIndex_(A),this.uidIndex_[n]=A;this.changed(),this.dispatchEvent(new xr(BA.CHANGEFEATURE,A))},t.prototype.hasFeature=function(e){var A=e.getId();return A!==void 0?A in this.idIndex_:be(e)in this.uidIndex_},t.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Rn(this.nullGeometryFeatures_)},t.prototype.loadFeatures=function(e,A,n){for(var i=this.loadedExtentsRtree_,o=this.strategy_(e,A,n),a=function(f,h){var c=o[f],d=i.forEachInExtent(c,function(p){return GA(p.extent,c)});d||(++s.loadingExtentsCount_,s.dispatchEvent(new xr(BA.FEATURESLOADSTART)),s.loader_.call(s,c,A,n,function(p){--this.loadingExtentsCount_,this.dispatchEvent(new xr(BA.FEATURESLOADEND,void 0,p))}.bind(s),function(){--this.loadingExtentsCount_,this.dispatchEvent(new xr(BA.FEATURESLOADERROR))}.bind(s)),i.insert(c,{extent:c.slice()}))},s=this,u=0,l=o.length;u<l;++u)a(u);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},t.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),r.prototype.refresh.call(this)},t.prototype.removeLoadedExtent=function(e){var A=this.loadedExtentsRtree_,n;A.forEachInExtent(e,function(i){if(Dn(i.extent,e))return n=i,!0}),n&&A.remove(n)},t.prototype.removeFeature=function(e){var A=be(e);A in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[A]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},t.prototype.removeFeatureInternal=function(e){var A=be(e);this.featureChangeKeys_[A].forEach(it),delete this.featureChangeKeys_[A];var n=e.getId();n!==void 0&&delete this.idIndex_[n.toString()],delete this.uidIndex_[A],this.dispatchEvent(new xr(BA.REMOVEFEATURE,e))},t.prototype.removeFromIdIndex_=function(e){var A=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===e){delete this.idIndex_[n],A=!0;break}return A},t.prototype.setLoader=function(e){this.loader_=e},t.prototype.setUrl=function(e){ae(this.format_,7),this.url_=e,this.setLoader(Nd(e,this.format_))},t}(pl),dn=IC,UC=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),gl={LAYERS:"layers"},SC=function(r){UC(t,r);function t(e){var A=this,n=e||{},i=Ae({},n);delete i.layers;var o=n.layers;return A=r.call(this,i)||this,A.on,A.once,A.un,A.layersListenerKeys_=[],A.listenerKeys_={},A.addChangeListener(gl.LAYERS,A.handleLayersChanged_),o?Array.isArray(o)?o=new $t(o.slice(),{unique:!0}):ae(typeof o.getArray=="function",43):o=new $t(void 0,{unique:!0}),A.setLayers(o),A}return t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(it),this.layersListenerKeys_.length=0;var e=this.getLayers();this.layersListenerKeys_.push(Ve(e,Nt.ADD,this.handleLayersAdd_,this),Ve(e,Nt.REMOVE,this.handleLayersRemove_,this));for(var A in this.listenerKeys_)this.listenerKeys_[A].forEach(it);Pi(this.listenerKeys_);for(var n=e.getArray(),i=0,o=n.length;i<o;i++){var a=n[i];this.listenerKeys_[be(a)]=[Ve(a,jr.PROPERTYCHANGE,this.handleLayerChange_,this),Ve(a,$.CHANGE,this.handleLayerChange_,this)]}this.changed()},t.prototype.handleLayersAdd_=function(e){var A=e.element;this.listenerKeys_[be(A)]=[Ve(A,jr.PROPERTYCHANGE,this.handleLayerChange_,this),Ve(A,$.CHANGE,this.handleLayerChange_,this)],this.changed()},t.prototype.handleLayersRemove_=function(e){var A=e.element,n=be(A);this.listenerKeys_[n].forEach(it),delete this.listenerKeys_[n],this.changed()},t.prototype.getLayers=function(){return this.get(gl.LAYERS)},t.prototype.setLayers=function(e){this.set(gl.LAYERS,e)},t.prototype.getLayersArray=function(e){var A=e!==void 0?e:[];return this.getLayers().forEach(function(n){n.getLayersArray(A)}),A},t.prototype.getLayerStatesArray=function(e){var A=e!==void 0?e:[],n=A.length;this.getLayers().forEach(function(l){l.getLayerStatesArray(A)});var i=this.getLayerState(),o=i.zIndex;!e&&i.zIndex===void 0&&(o=0);for(var a=n,s=A.length;a<s;a++){var u=A[a];u.opacity*=i.opacity,u.visible=u.visible&&i.visible,u.maxResolution=Math.min(u.maxResolution,i.maxResolution),u.minResolution=Math.max(u.minResolution,i.minResolution),u.minZoom=Math.max(u.minZoom,i.minZoom),u.maxZoom=Math.min(u.maxZoom,i.maxZoom),i.extent!==void 0&&(u.extent!==void 0?u.extent=Er(u.extent,i.extent):u.extent=i.extent),u.zIndex===void 0&&(u.zIndex=o)}return A},t.prototype.getSourceState=function(){return ln.READY},t}(Ud),lo=SC,xC=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),TC=function(r){xC(t,r);function t(e){var A=this,n=e||{};return A=r.call(this,n)||this,A}return t}(xa),OC=TC,Gd=.5,RA=!0,RC=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),LC=function(r){RC(t,r);function t(e){var A=r.call(this,e)||this;return A.image_=null,A}return t.prototype.getImage=function(){return this.image_?this.image_.getImage():null},t.prototype.prepareFrame=function(e){var A=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,i=e.viewState,o=i.resolution,a=this.getLayer().getSource(),s=e.viewHints,u=e.extent;if(A.extent!==void 0&&(u=Er(u,gA(A.extent,i.projection))),!s[xt.ANIMATING]&&!s[xt.INTERACTING]&&!Zi(u))if(a){var l=i.projection;if(!RA){var f=a.getProjection();f&&(l=f)}var h=a.getImage(u,o,n,l);h&&this.loadImage(h)&&(this.image_=h)}else this.image_=null;return!!this.image_},t.prototype.renderFrame=function(e,A){var n=this.image_,i=n.getExtent(),o=n.getResolution(),a=n.getPixelRatio(),s=e.layerStatesArray[e.layerIndex],u=e.pixelRatio,l=e.viewState,f=l.center,h=l.resolution,c=e.size,d=u*o/(h*a),p=Math.round(c[0]*u),B=Math.round(c[1]*u),g=l.rotation;if(g){var y=Math.round(Math.sqrt(p*p+B*B));p=y,B=y}TA(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/u,1/u,g,-p/2,-B/2),Ao(this.inversePixelTransform,this.pixelTransform);var m=wa(this.pixelTransform);this.useContainer(A,m,s.opacity);var _=this.context,C=_.canvas;C.width!=p||C.height!=B?(C.width=p,C.height=B):this.containerReused||_.clearRect(0,0,p,B);var F=!1,E=!0;if(s.extent){var Q=gA(s.extent,l.projection);E=Ht(Q,e.extent),F=E&&!GA(Q,e.extent),F&&this.clipUnrotated(_,e,Q)}var w=n.getImage(),T=TA(this.tempTransform,p/2,B/2,d,d,0,a*(i[0]-f[0])/o,a*(f[1]-i[3])/o);this.renderedResolution=o*u/a;var O=w.width*T[0],L=w.height*T[3];if(Ae(_,this.getLayer().getSource().getContextOptions()),this.preRender(_,e),E&&O>=.5&&L>=.5){var P=T[4],Y=T[5],b=s.opacity,k=void 0;b!==1&&(k=_.globalAlpha,_.globalAlpha=b),_.drawImage(w,0,0,+w.width,+w.height,Math.round(P),Math.round(Y),Math.round(O),Math.round(L)),b!==1&&(_.globalAlpha=k)}return this.postRender(_,e),F&&_.restore(),m!==C.style.transform&&(C.style.transform=m),this.container},t}(Ra),MC=LC,PC=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),HC=function(r){PC(t,r);function t(e){return r.call(this,e)||this}return t.prototype.createRenderer=function(){return new MC(this)},t}(OC),bd=HC,Kd=function(){function r(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return r.prototype.getReadOptions=function(t,e){var A;if(e){var n=e.dataProjection?ze(e.dataProjection):this.readProjection(t);e.extent&&n&&n.getUnits()===pA.TILE_PIXELS&&(n=ze(n),n.setWorldExtent(e.extent)),A={dataProjection:n,featureProjection:e.featureProjection}}return this.adaptOptions(A)},r.prototype.adaptOptions=function(t){return Ae({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},r.prototype.getType=function(){return Z()},r.prototype.readFeature=function(t,e){return Z()},r.prototype.readFeatures=function(t,e){return Z()},r.prototype.readGeometry=function(t,e){return Z()},r.prototype.readProjection=function(t){return Z()},r.prototype.writeFeature=function(t,e){return Z()},r.prototype.writeFeatures=function(t,e){return Z()},r.prototype.writeGeometry=function(t,e){return Z()},r}();function fo(r,t,e){var A=e?ze(e.featureProjection):null,n=e?ze(e.dataProjection):null,i;if(A&&n&&!VA(A,n)?i=(t?r.clone():r).transform(t?A:n,t?n:A):i=r,t&&e&&e.decimals!==void 0){var o=Math.pow(10,e.decimals),a=function(s){for(var u=0,l=s.length;u<l;++u)s[u]=Math.round(s[u]*o)/o;return s};i===r&&(i=r.clone()),i.applyTransform(a)}return i}function vl(r,t){var e=t?ze(t.featureProjection):null,A=t?ze(t.dataProjection):null;return e&&A&&!VA(e,A)?Gw(r,A,e):r}var NC=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),DC=function(r){NC(t,r);function t(e,A,n){var i=r.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(e[0]))i.setCoordinates(e,A);else if(A!==void 0&&n)i.setFlatCoordinates(A,e),i.ends_=n;else{for(var o=i.getLayout(),a=e,s=[],u=[],l=0,f=a.length;l<f;++l){var h=a[l];l===0&&(o=h.getLayout()),lA(s,h.getFlatCoordinates()),u.push(s.length)}i.setFlatCoordinates(o,s),i.ends_=u}return i}return t.prototype.appendLineString=function(e){this.flatCoordinates?lA(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,A,n,i){return i<en(this.getExtent(),e,A)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(nl(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,A,n,i))},t.prototype.getCoordinateAtM=function(e,A,n){if(this.layout!=ot.XYM&&this.layout!=ot.XYZM||this.flatCoordinates.length===0)return null;var i=A!==void 0?A:!1,o=n!==void 0?n:!1;return wm(this.flatCoordinates,0,this.ends_,this.stride,e,i,o)},t.prototype.getCoordinates=function(){return ao(this.flatCoordinates,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getLineString=function(e){return e<0||this.ends_.length<=e?null:new YA(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLineStrings=function(){for(var e=this.flatCoordinates,A=this.ends_,n=this.layout,i=[],o=0,a=0,s=A.length;a<s;++a){var u=A[a],l=new YA(e.slice(o,u),n);i.push(l),o=u}return i},t.prototype.getFlatMidpoints=function(){for(var e=[],A=this.flatCoordinates,n=0,i=this.ends_,o=this.stride,a=0,s=i.length;a<s;++a){var u=i[a],l=Fd(A,n,u,o,.5);lA(e,l),n=u}return e},t.prototype.getSimplifiedGeometryInternal=function(e){var A=[],n=[];return A.length=Bm(this.flatCoordinates,0,this.ends_,this.stride,e,A,0,n),new t(A,ot.XY,n)},t.prototype.getType=function(){return U.MULTI_LINE_STRING},t.prototype.intersectsExtent=function(e){return Em(this.flatCoordinates,0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,A){this.setLayout(A,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=al(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()},t}(Fr),La=DC,GC=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),bC=function(r){GC(t,r);function t(e,A){var n=r.call(this)||this;return A&&!Array.isArray(e[0])?n.setFlatCoordinates(A,e):n.setCoordinates(e,A),n}return t.prototype.appendPoint=function(e){this.flatCoordinates?lA(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,A,n,i){if(i<en(this.getExtent(),e,A))return i;for(var o=this.flatCoordinates,a=this.stride,s=0,u=o.length;s<u;s+=a){var l=Xr(e,A,o[s],o[s+1]);if(l<i){i=l;for(var f=0;f<a;++f)n[f]=o[s+f];n.length=a}}return i},t.prototype.getCoordinates=function(){return Qr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getPoint=function(e){var A=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||A<=e?null:new vA(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)},t.prototype.getPoints=function(){for(var e=this.flatCoordinates,A=this.layout,n=this.stride,i=[],o=0,a=e.length;o<a;o+=n){var s=new vA(e.slice(o,o+n),A);i.push(s)}return i},t.prototype.getType=function(){return U.MULTI_POINT},t.prototype.intersectsExtent=function(e){for(var A=this.flatCoordinates,n=this.stride,i=0,o=A.length;i<o;i+=n){var a=A[i],s=A[i+1];if(Bu(e,a,s))return!0}return!1},t.prototype.setCoordinates=function(e,A){this.setLayout(A,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ia(this.flatCoordinates,0,e,this.stride),this.changed()},t}(Fr),Ma=bC;function kd(r,t,e,A){for(var n=0,i=r[e-A],o=r[e-A+1];t<e;t+=A){var a=r[t],s=r[t+1];n+=o*a-i*s,i=a,o=s}return n/2}function Vd(r,t,e,A){for(var n=0,i=0,o=e.length;i<o;++i){var a=e[i];n+=kd(r,t,a,A),t=a}return n}function KC(r,t,e,A){for(var n=0,i=0,o=e.length;i<o;++i){var a=e[i];n+=Vd(r,t,a,A),t=a[a.length-1]}return n}var kC=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),VC=function(r){kC(t,r);function t(e,A){var n=r.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,A!==void 0&&!Array.isArray(e[0])?n.setFlatCoordinates(A,e):n.setCoordinates(e,A),n}return t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,A,n,i){return i<en(this.getExtent(),e,A)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(rl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),il(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,A,n,i))},t.prototype.getArea=function(){return kd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return Qr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(e){var A=[];return A.length=sl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,A,0),new t(A,ot.XY)},t.prototype.getType=function(){return U.LINEAR_RING},t.prototype.intersectsExtent=function(e){return!1},t.prototype.setCoordinates=function(e,A){this.setLayout(A,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ia(this.flatCoordinates,0,e,this.stride),this.changed()},t}(Fr),Bl=VC;function Yd(r,t,e,A,n,i,o){for(var a,s,u,l,f,h,c,d=n[i+1],p=[],B=0,g=e.length;B<g;++B){var y=e[B];for(l=r[y-A],h=r[y-A+1],a=t;a<y;a+=A)f=r[a],c=r[a+1],(d<=h&&c<=d||h<=d&&d<=c)&&(u=(d-h)/(c-h)*(f-l)+l,p.push(u)),l=f,h=c}var m=NaN,_=-1/0;for(p.sort(Zr),l=p[0],a=1,s=p.length;a<s;++a){f=p[a];var C=Math.abs(f-l);C>_&&(u=(l+f)/2,fl(r,t,e,A,u,d)&&(m=u,_=C)),l=f}return isNaN(m)&&(m=n[i]),o?(o.push(m,d,_),o):[m,d,_]}function YC(r,t,e,A,n){for(var i=[],o=0,a=e.length;o<a;++o){var s=e[o];i=Yd(r,t,s,A,n,2*o,i),t=s[s.length-1]}return i}function XC(r,t,e,A){for(;t<e-A;){for(var n=0;n<A;++n){var i=r[t+n];r[t+n]=r[e-A+n],r[e-A+n]=i}t+=A,e-=A}}function Xd(r,t,e,A){for(var n=0,i=r[e-A],o=r[e-A+1];t<e;t+=A){var a=r[t],s=r[t+1];n+=(a-i)*(s+o),i=a,o=s}return n===0?void 0:n>0}function Wd(r,t,e,A,n){for(var i=n!==void 0?n:!1,o=0,a=e.length;o<a;++o){var s=e[o],u=Xd(r,t,s,A);if(o===0){if(i&&u||!i&&!u)return!1}else if(i&&!u||!i&&u)return!1;t=s}return!0}function WC(r,t,e,A,n){for(var i=0,o=e.length;i<o;++i){var a=e[i];if(!Wd(r,t,a,A,n))return!1;a.length&&(t=a[a.length-1])}return!0}function yl(r,t,e,A,n){for(var i=n!==void 0?n:!1,o=0,a=e.length;o<a;++o){var s=e[o],u=Xd(r,t,s,A),l=o===0?i&&u||!i&&!u:i&&!u||!i&&u;l&&XC(r,t,s,A),t=s}return t}function jd(r,t,e,A,n){for(var i=0,o=e.length;i<o;++i)t=yl(r,t,e[i],A,n);return t}var jC=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),_l=function(r){jC(t,r);function t(e,A,n){var i=r.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,A!==void 0&&n?(i.setFlatCoordinates(A,e),i.ends_=n):i.setCoordinates(e,A),i}return t.prototype.appendLinearRing=function(e){this.flatCoordinates?lA(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,A,n,i){return i<en(this.getExtent(),e,A)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(nl(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,A,n,i))},t.prototype.containsXY=function(e,A){return fl(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,A)},t.prototype.getArea=function(){return Vd(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(e){var A;return e!==void 0?(A=this.getOrientedFlatCoordinates().slice(),yl(A,0,this.ends_,this.stride,e)):A=this.flatCoordinates,ao(A,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=rr(this.getExtent());this.flatInteriorPoint_=Yd(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new vA(this.getFlatInteriorPoint(),ot.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new Bl(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLinearRings=function(){for(var e=this.layout,A=this.flatCoordinates,n=this.ends_,i=[],o=0,a=0,s=n.length;a<s;++a){var u=n[a],l=new Bl(A.slice(o,u),e);i.push(l),o=u}return i},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;Wd(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=yl(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var A=[],n=[];return A.length=Cd(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),A,0,n),new t(A,ot.XY,n)},t.prototype.getType=function(){return U.POLYGON},t.prototype.intersectsExtent=function(e){return Qd(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,A){this.setLayout(A,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=al(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()},t}(Fr),sr=_l;function Zd(r){var t=r[0],e=r[1],A=r[2],n=r[3],i=[t,e,t,n,A,n,A,e,t,e];return new _l(i,ot.XY,[i.length])}function ZC(r,t,e){for(var A=t||32,n=r.getStride(),i=r.getLayout(),o=r.getCenter(),a=n*(A+1),s=new Array(a),u=0;u<a;u+=n){s[u]=0,s[u+1]=0;for(var l=2;l<n;l++)s[u+l]=o[l]}var f=[s.length],h=new _l(s,i,f);return zC(h,o,r.getRadius(),e),h}function zC(r,t,e,A){for(var n=r.getFlatCoordinates(),i=r.getStride(),o=n.length/i-1,a=A||0,s=0;s<=o;++s){var u=s*i,l=a+mr(s,o)*2*Math.PI/o;n[u]=t[0]+e*Math.cos(l),n[u+1]=t[1]+e*Math.sin(l)}r.changed()}function $C(r,t,e,A){for(var n=[],i=tA(),o=0,a=e.length;o<a;++o){var s=e[o];i=dc(r,t,s[0],A),n.push((i[0]+i[2])/2,(i[1]+i[3])/2),t=s[s.length-1]}return n}var JC=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),qC=function(r){JC(t,r);function t(e,A,n){var i=r.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){for(var o=i.getLayout(),a=e,s=[],u=[],l=0,f=a.length;l<f;++l){var h=a[l];l===0&&(o=h.getLayout());for(var c=s.length,d=h.getEnds(),p=0,B=d.length;p<B;++p)d[p]+=c;lA(s,h.getFlatCoordinates()),u.push(d)}A=o,e=s,n=u}return A!==void 0&&n?(i.setFlatCoordinates(A,e),i.endss_=n):i.setCoordinates(e,A),i}return t.prototype.appendPolygon=function(e){var A;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),A=e.getEnds().slice(),this.endss_.push();else{var n=this.flatCoordinates.length;lA(this.flatCoordinates,e.getFlatCoordinates()),A=e.getEnds().slice();for(var i=0,o=A.length;i<o;++i)A[i]+=n}this.endss_.push(A),this.changed()},t.prototype.clone=function(){for(var e=this.endss_.length,A=new Array(e),n=0;n<e;++n)A[n]=this.endss_[n].slice();var i=new t(this.flatCoordinates.slice(),this.layout,A);return i.applyProperties(this),i},t.prototype.closestPointXY=function(e,A,n,i){return i<en(this.getExtent(),e,A)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(pm(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),gm(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,A,n,i))},t.prototype.containsXY=function(e,A){return Cm(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,A)},t.prototype.getArea=function(){return KC(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},t.prototype.getCoordinates=function(e){var A;return e!==void 0?(A=this.getOrientedFlatCoordinates().slice(),jd(A,0,this.endss_,this.stride,e)):A=this.flatCoordinates,ul(A,0,this.endss_,this.stride)},t.prototype.getEndss=function(){return this.endss_},t.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=$C(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=YC(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},t.prototype.getInteriorPoints=function(){return new Ma(this.getFlatInteriorPoints().slice(),ot.XYM)},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;WC(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=jd(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var A=[],n=[];return A.length=_m(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),A,0,n),new t(A,ot.XY,n)},t.prototype.getPolygon=function(e){if(e<0||this.endss_.length<=e)return null;var A;if(e===0)A=0;else{var n=this.endss_[e-1];A=n[n.length-1]}var i=this.endss_[e].slice(),o=i[i.length-1];if(A!==0)for(var a=0,s=i.length;a<s;++a)i[a]-=A;return new sr(this.flatCoordinates.slice(A,o),this.layout,i)},t.prototype.getPolygons=function(){for(var e=this.layout,A=this.flatCoordinates,n=this.endss_,i=[],o=0,a=0,s=n.length;a<s;++a){var u=n[a].slice(),l=u[u.length-1];if(o!==0)for(var f=0,h=u.length;f<h;++f)u[f]-=o;var c=new sr(A.slice(o,l),e,u);i.push(c),o=l}return i},t.prototype.getType=function(){return U.MULTI_POLYGON},t.prototype.intersectsExtent=function(e){return Qm(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},t.prototype.setCoordinates=function(e,A){this.setLayout(A,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=vm(this.flatCoordinates,0,e,this.stride,this.endss_);if(n.length===0)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()},t}(Fr),Pa=qC,zd=function(){function r(t,e,A,n){this.minX=t,this.maxX=e,this.minY=A,this.maxY=n}return r.prototype.contains=function(t){return this.containsXY(t[1],t[2])},r.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},r.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},r.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},r.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},r.prototype.getHeight=function(){return this.maxY-this.minY+1},r.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},r.prototype.getWidth=function(){return this.maxX-this.minX+1},r.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},r}();function ei(r,t,e,A,n){return n!==void 0?(n.minX=r,n.maxX=t,n.minY=e,n.maxY=A,n):new zd(r,t,e,A)}var $d=zd,re={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},eE=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Jd=function(r){eE(t,r);function t(e){var A=r.call(this,e)||this;return A.extentChanged=!0,A.renderedExtent_=null,A.renderedPixelRatio,A.renderedProjection=null,A.renderedRevision,A.renderedTiles=[],A.newTiles_=!1,A.tmpExtent=tA(),A.tmpTileRange_=new $d(0,0,0,0),A}return t.prototype.isDrawableTile=function(e){var A=this.getLayer(),n=e.getState(),i=A.getUseInterimTilesOnError();return n==re.LOADED||n==re.EMPTY||n==re.ERROR&&!i},t.prototype.getTile=function(e,A,n,i){var o=i.pixelRatio,a=i.viewState.projection,s=this.getLayer(),u=s.getSource(),l=u.getTile(e,A,n,o,a);return l.getState()==re.ERROR&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):l.setState(re.LOADED)),this.isDrawableTile(l)||(l=l.getInterimTile()),l},t.prototype.loadedTileCallback=function(e,A,n){return this.isDrawableTile(n)?r.prototype.loadedTileCallback.call(this,e,A,n):!1},t.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(e,A){var n=e.layerStatesArray[e.layerIndex],i=e.viewState,o=i.projection,a=i.resolution,s=i.center,u=i.rotation,l=e.pixelRatio,f=this.getLayer(),h=f.getSource(),c=h.getRevision(),d=h.getTileGridForProjection(o),p=d.getZForResolution(a,h.zDirection),B=d.getResolution(p),g=e.extent,y=n.extent&&gA(n.extent);y&&(g=Er(g,gA(n.extent)));var m=h.getTilePixelRatio(l),_=Math.round(e.size[0]*m),C=Math.round(e.size[1]*m);if(u){var F=Math.round(Math.sqrt(_*_+C*C));_=F,C=F}var E=B*_/2/m,Q=B*C/2/m,w=[s[0]-E,s[1]-Q,s[0]+E,s[1]+Q],T=d.getTileRangeForExtentAndZ(g,p),O={};O[p]={};var L=this.createLoadedTileFinder(h,o,O),P=this.tmpExtent,Y=this.tmpTileRange_;this.newTiles_=!1;for(var b=T.minX;b<=T.maxX;++b)for(var k=T.minY;k<=T.maxY;++k){var K=this.getTile(p,b,k,e);if(this.isDrawableTile(K)){var ue=be(this);if(K.getState()==re.LOADED){O[p][K.tileCoord.toString()]=K;var ne=K.inTransition(ue);!this.newTiles_&&(ne||this.renderedTiles.indexOf(K)===-1)&&(this.newTiles_=!0)}if(K.getAlpha(ue,e.time)===1)continue}var he=d.getTileCoordChildTileRange(K.tileCoord,Y,P),We=!1;he&&(We=L(p+1,he)),We||d.forEachTileCoordParentTileRange(K.tileCoord,L,Y,P)}var R=B/a;TA(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/m,1/m,u,-_/2,-C/2);var nt=wa(this.pixelTransform);this.useContainer(A,nt,n.opacity);var ie=this.context,je=ie.canvas;Ao(this.inversePixelTransform,this.pixelTransform),TA(this.tempTransform,_/2,C/2,R,R,0,-_/2,-C/2),je.width!=_||je.height!=C?(je.width=_,je.height=C):this.containerReused||ie.clearRect(0,0,_,C),y&&this.clipUnrotated(ie,e,y),Ae(ie,h.getContextOptions()),this.preRender(ie,e),this.renderedTiles.length=0;var dt=Object.keys(O).map(Number);dt.sort(Zr);var pt,Pt,kt;n.opacity===1&&(!this.containerReused||h.getOpaque(e.viewState.projection))?dt=dt.reverse():(pt=[],Pt=[]);for(var pr=dt.length-1;pr>=0;--pr){var tt=dt[pr],Vt=h.getTilePixelSize(tt,l,o),Qn=d.getResolution(tt),Ot=Qn/B,Yt=Vt[0]*Ot*R,In=Vt[1]*Ot*R,Fi=d.getTileCoordForCoordAndZ(bA(w),tt),Vo=d.getTileCoordExtent(Fi),Kr=_t(this.tempTransform,[m*(Vo[0]-w[0])/B,m*(w[3]-Vo[3])/B]),Qi=m*h.getGutterForProjection(o),Yo=O[tt];for(var Un in Yo){var K=Yo[Un],gr=K.tileCoord,Sn=Fi[1]-gr[1],iu=Math.round(Kr[0]-(Sn-1)*Yt),Xo=Fi[2]-gr[2],Ii=Math.round(Kr[1]-(Xo-1)*In),b=Math.round(Kr[0]-Sn*Yt),k=Math.round(Kr[1]-Xo*In),vr=iu-b,qA=Ii-k,kr=p===tt,ne=kr&&K.getAlpha(be(this),e.time)!==1;if(!ne)if(pt){ie.save(),kt=[b,k,b+vr,k,b+vr,k+qA,b,k+qA];for(var xn=0,EA=pt.length;xn<EA;++xn)if(p!==tt&&tt<Pt[xn]){var FA=pt[xn];ie.beginPath(),ie.moveTo(kt[0],kt[1]),ie.lineTo(kt[2],kt[3]),ie.lineTo(kt[4],kt[5]),ie.lineTo(kt[6],kt[7]),ie.moveTo(FA[6],FA[7]),ie.lineTo(FA[4],FA[5]),ie.lineTo(FA[2],FA[3]),ie.lineTo(FA[0],FA[1]),ie.clip()}pt.push(kt),Pt.push(tt)}else ie.clearRect(b,k,vr,qA);this.drawTileImage(K,e,b,k,vr,qA,Qi,kr),pt&&!ne?(ie.restore(),this.renderedTiles.unshift(K)):this.renderedTiles.push(K),this.updateUsedTiles(e.usedTiles,h,K)}}this.renderedRevision=c,this.renderedResolution=B,this.extentChanged=!this.renderedExtent_||!Dn(this.renderedExtent_,w),this.renderedExtent_=w,this.renderedPixelRatio=l,this.renderedProjection=o,this.manageTilePyramid(e,h,d,l,o,g,p,f.getPreload()),this.scheduleExpireCache(e,h),this.postRender(ie,e),n.extent&&ie.restore(),nt!==je.style.transform&&(je.style.transform=nt);var Vr=du(n.opacity),Tn=this.container;return Vr!==Tn.style.opacity&&(Tn.style.opacity=Vr),this.container},t.prototype.drawTileImage=function(e,A,n,i,o,a,s,u){var l=this.getTileImage(e);if(!!l){var f=be(this),h=u?e.getAlpha(f,A.time):1,c=h!==this.context.globalAlpha;c&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(l,s,s,l.width-2*s,l.height-2*s,n,i,o,a),c&&this.context.restore(),h!==1?A.animate=!0:u&&e.endTransition(f)}},t.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},t.prototype.getTileImage=function(e){return e.getImage()},t.prototype.scheduleExpireCache=function(e,A){if(A.canExpireCache()){var n=function(i,o,a){var s=be(i);s in a.usedTiles&&i.expireCache(a.viewState.projection,a.usedTiles[s])}.bind(null,A);e.postRenderFunctions.push(n)}},t.prototype.updateUsedTiles=function(e,A,n){var i=be(A);i in e||(e[i]={}),e[i][n.getKey()]=!0},t.prototype.manageTilePyramid=function(e,A,n,i,o,a,s,u,l){var f=be(A);f in e.wantedTiles||(e.wantedTiles[f]={});var h=e.wantedTiles[f],c=e.tileQueue,d=n.getMinZoom(),p=0,B,g,y,m,_,C;for(C=d;C<=s;++C)for(g=n.getTileRangeForExtentAndZ(a,C,g),y=n.getResolution(C),m=g.minX;m<=g.maxX;++m)for(_=g.minY;_<=g.maxY;++_)s-C<=u?(++p,B=A.getTile(C,m,_,i,o),B.getState()==re.IDLE&&(h[B.getKey()]=!0,c.isKeyQueued(B.getKey())||c.enqueue([B,f,n.getTileCoordCenter(B.tileCoord),y])),l!==void 0&&l(B)):A.useTile(C,m,_,o);A.updateCacheSize(p,o)},t}(Ra);Jd.prototype.getLayer;var tE=Jd,Ha={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};function qd(r){return Math.pow(r,3)}function ti(r){return 1-qd(1-r)}function AE(r){return 3*r*r-2*r*r*r}function rE(r){return r}var nE=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),iE=function(r){nE(t,r);function t(e,A,n){var i=r.call(this)||this,o=n||{};return i.tileCoord=e,i.state=A,i.interimTile=null,i.key="",i.transition_=o.transition===void 0?250:o.transition,i.transitionStarts_={},i}return t.prototype.changed=function(){this.dispatchEvent($.CHANGE)},t.prototype.release=function(){},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==re.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this},t.prototype.refreshInterimChain=function(){if(!!this.interimTile){var e=this.interimTile,A=this;do{if(e.getState()==re.LOADED){e.interimTile=null;break}else e.getState()==re.LOADING?A=e:e.getState()==re.IDLE?A.interimTile=e.interimTile:A=e;e=A.interimTile}while(e)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(e){if(this.state!==re.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},t.prototype.load=function(){Z()},t.prototype.getAlpha=function(e,A){if(!this.transition_)return 1;var n=this.transitionStarts_[e];if(!n)n=A,this.transitionStarts_[e]=n;else if(n===-1)return 1;var i=A-n+1e3/60;return i>=this.transition_?1:qd(i/this.transition_)},t.prototype.inTransition=function(e){return this.transition_?this.transitionStarts_[e]!==-1:!1},t.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},t}(Ln),ep=iE,oE=function(){function r(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return r.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},r.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},r.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},r.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},r.prototype.get=function(t,e){var A=this.entries_[t];return ae(A!==void 0,15),A===this.newest_||(A===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(A.newer.older=A.older,A.older.newer=A.newer),A.newer=null,A.older=this.newest_,this.newest_.newer=A,this.newest_=A),A.value_},r.prototype.remove=function(t){var e=this.entries_[t];return ae(e!==void 0,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},r.prototype.getCount=function(){return this.count_},r.prototype.getKeys=function(){var t=new Array(this.count_),e=0,A;for(A=this.newest_;A;A=A.older)t[e++]=A.key_;return t},r.prototype.getValues=function(){var t=new Array(this.count_),e=0,A;for(A=this.newest_;A;A=A.older)t[e++]=A.value_;return t},r.prototype.peekLast=function(){return this.oldest_.value_},r.prototype.peekLastKey=function(){return this.oldest_.key_},r.prototype.peekFirstKey=function(){return this.newest_.key_},r.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},r.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},r.prototype.set=function(t,e){ae(!(t in this.entries_),16);var A={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=A:this.oldest_=A,this.newest_=A,this.entries_[t]=A,++this.count_},r.prototype.setSize=function(t){this.highWaterMark=t},r}(),aE=oE;function tp(r,t,e,A){return A!==void 0?(A[0]=r,A[1]=t,A[2]=e,A):[r,t,e]}function Na(r,t,e){return r+"/"+t+"/"+e}function Ap(r){return Na(r[0],r[1],r[2])}function sE(r){return r.split("/").map(Number)}function rp(r){return(r[1]<<r[0])+r[2]}function uE(r,t){var e=r[0],A=r[1],n=r[2];if(t.getMinZoom()>e||e>t.getMaxZoom())return!1;var i=t.getFullTileRange(e);return i?i.containsXY(A,n):!0}var lE=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),fE=function(r){lE(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.expireCache=function(e){for(;this.canExpireCache();){var A=this.peekLast();if(A.getKey()in e)break;this.pop().release()}},t.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var e=this.peekFirstKey(),A=sE(e),n=A[0];this.forEach(function(i){i.tileCoord[0]!==n&&(this.remove(Ap(i.tileCoord)),i.release())}.bind(this))}},t}(aE),np=fE,wl={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},hE=42,ml=256,cE=[0,0,0],dE=function(){function r(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,ae(sB(this.resolutions_,function(o,a){return a-o},!0),17);var e;if(!t.origins){for(var A=0,n=this.resolutions_.length-1;A<n;++A)if(!e)e=this.resolutions_[A]/this.resolutions_[A+1];else if(this.resolutions_[A]/this.resolutions_[A+1]!==e){e=void 0;break}}this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,ae(this.origins_.length==this.resolutions_.length,20));var i=t.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=bA(i)),ae(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,ae(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:ml,ae(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map(function(o,a){var s=new $d(Math.min(0,o[0]),Math.max(o[0]-1,-1),Math.min(0,o[1]),Math.max(o[1]-1,-1));if(i){var u=this.getTileRangeForExtentAndZ(i,a);s.minX=Math.max(u.minX,s.minX),s.maxX=Math.min(u.maxX,s.maxX),s.minY=Math.max(u.minY,s.minY),s.maxY=Math.min(u.maxY,s.maxY)}return s},this):i&&this.calculateTileRanges_(i)}return r.prototype.forEachTileCoord=function(t,e,A){for(var n=this.getTileRangeForExtentAndZ(t,e),i=n.minX,o=n.maxX;i<=o;++i)for(var a=n.minY,s=n.maxY;a<=s;++a)A([e,i,a])},r.prototype.forEachTileCoordParentTileRange=function(t,e,A,n){var i,o,a,s=null,u=t[0]-1;for(this.zoomFactor_===2?(o=t[1],a=t[2]):s=this.getTileCoordExtent(t,n);u>=this.minZoom;){if(this.zoomFactor_===2?(o=Math.floor(o/2),a=Math.floor(a/2),i=ei(o,o,a,a,A)):i=this.getTileRangeForExtentAndZ(s,u,A),e(u,i))return!0;--u}return!1},r.prototype.getExtent=function(){return this.extent_},r.prototype.getMaxZoom=function(){return this.maxZoom},r.prototype.getMinZoom=function(){return this.minZoom},r.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},r.prototype.getResolution=function(t){return this.resolutions_[t]},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getTileCoordChildTileRange=function(t,e,A){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){var n=t[1]*2,i=t[2]*2;return ei(n,n+1,i,i+1,e)}var o=this.getTileCoordExtent(t,A||this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},r.prototype.getTileRangeForTileCoordAndZ=function(t,e,A){if(e>this.maxZoom||e<this.minZoom)return null;var n=t[0],i=t[1],o=t[2];if(e===n)return ei(i,o,i,o,A);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,e-n),s=Math.floor(i*a),u=Math.floor(o*a);if(e<n)return ei(s,s,u,u,A);var l=Math.floor(a*(i+1))-1,f=Math.floor(a*(o+1))-1;return ei(s,l,u,f,A)}var h=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,e,A)},r.prototype.getTileRangeExtent=function(t,e,A){var n=this.getOrigin(t),i=this.getResolution(t),o=eA(this.getTileSize(t),this.tmpSize_),a=n[0]+e.minX*o[0]*i,s=n[0]+(e.maxX+1)*o[0]*i,u=n[1]+e.minY*o[1]*i,l=n[1]+(e.maxY+1)*o[1]*i;return AA(a,u,s,l,A)},r.prototype.getTileRangeForExtentAndZ=function(t,e,A){var n=cE;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,n);var i=n[1],o=n[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,n),ei(i,n[1],o,n[2],A)},r.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),A=this.getResolution(t[0]),n=eA(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*n[0]*A,e[1]-(t[2]+.5)*n[1]*A]},r.prototype.getTileCoordExtent=function(t,e){var A=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=eA(this.getTileSize(t[0]),this.tmpSize_),o=A[0]+t[1]*i[0]*n,a=A[1]-(t[2]+1)*i[1]*n,s=o+i[0]*n,u=a+i[1]*n;return AA(o,a,s,u,e)},r.prototype.getTileCoordForCoordAndResolution=function(t,e,A){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,A)},r.prototype.getTileCoordForXYAndResolution_=function(t,e,A,n,i){var o=this.getZForResolution(A),a=A/this.getResolution(o),s=this.getOrigin(o),u=eA(this.getTileSize(o),this.tmpSize_),l=n?.5:0,f=n?.5:0,h=Math.floor((t-s[0])/A+l),c=Math.floor((s[1]-e)/A+f),d=a*h/u[0],p=a*c/u[1];return n?(d=Math.ceil(d)-1,p=Math.ceil(p)-1):(d=Math.floor(d),p=Math.floor(p)),tp(o,d,p,i)},r.prototype.getTileCoordForXYAndZ_=function(t,e,A,n,i){var o=this.getOrigin(A),a=this.getResolution(A),s=eA(this.getTileSize(A),this.tmpSize_),u=n?.5:0,l=n?.5:0,f=Math.floor((t-o[0])/a+u),h=Math.floor((o[1]-e)/a+l),c=f/s[0],d=h/s[1];return n?(c=Math.ceil(c)-1,d=Math.ceil(d)-1):(c=Math.floor(c),d=Math.floor(d)),tp(A,c,d,i)},r.prototype.getTileCoordForCoordAndZ=function(t,e,A){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,A)},r.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},r.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},r.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},r.prototype.getZForResolution=function(t,e){var A=ra(this.resolutions_,t,e||0);return Ct(A,this.minZoom,this.maxZoom)},r.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,A=new Array(e),n=this.minZoom;n<e;++n)A[n]=this.getTileRangeForExtentAndZ(t,n);this.fullTileRanges_=A},r}(),Da=dE;function ip(r){var t=r.getDefaultTileGrid();return t||(t=BE(r),r.setDefaultTileGrid(t)),t}function pE(r,t,e){var A=t[0],n=r.getTileCoordCenter(t),i=Cl(e);if(Vi(i,n))return t;var o=st(i),a=Math.ceil((i[0]-n[0])/o);return n[0]+=o*a,r.getTileCoordForCoordAndZ(n,A)}function gE(r,t,e,A){var n=A!==void 0?A:ki.TOP_LEFT,i=op(r,t,e);return new Da({extent:r,origin:LB(r,n),resolutions:i,tileSize:e})}function vE(r){var t=r||{},e=t.extent||ze("EPSG:3857").getExtent(),A={extent:e,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:op(e,t.maxZoom,t.tileSize,t.maxResolution)};return new Da(A)}function op(r,t,e,A){for(var n=t!==void 0?t:hE,i=Xt(r),o=st(r),a=eA(e!==void 0?e:ml),s=A>0?A:Math.max(o/a[0],i/a[1]),u=n+1,l=new Array(u),f=0;f<u;++f)l[f]=s/Math.pow(2,f);return l}function BE(r,t,e,A){var n=Cl(r);return gE(n,t,e,A)}function Cl(r){r=ze(r);var t=r.getExtent();if(!t){var e=180*OA[pA.DEGREES]/r.getMetersPerUnit();t=AA(-e,-e,e,e)}return t}var ap=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),yE=function(r){ap(t,r);function t(e){var A=r.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;A.on,A.once,A.un,A.opaque_=e.opaque!==void 0?e.opaque:!1,A.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,A.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;var n=[256,256],i=e.tileGrid;return i&&eA(i.getTileSize(i.getMinZoom()),n),A.tileCache=new np(e.cacheSize||0),A.tmpSize=[0,0],A.key_=e.key||"",A.tileOptions={transition:e.transition},A.zDirection=e.zDirection?e.zDirection:0,A}return t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(e,A){var n=this.getTileCacheForProjection(e);n&&n.expireCache(A)},t.prototype.forEachLoadedTile=function(e,A,n,i){var o=this.getTileCacheForProjection(e);if(!o)return!1;for(var a=!0,s,u,l,f=n.minX;f<=n.maxX;++f)for(var h=n.minY;h<=n.maxY;++h)u=Na(A,f,h),l=!1,o.containsKey(u)&&(s=o.get(u),l=s.getState()===re.LOADED,l&&(l=i(s)!==!1)),l||(a=!1);return a},t.prototype.getGutterForProjection=function(e){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},t.prototype.getOpaque=function(e){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},t.prototype.getTile=function(e,A,n,i,o){return Z()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:ip(e)},t.prototype.getTileCacheForProjection=function(e){return ae(VA(this.getProjection(),e),68),this.tileCache},t.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(e,A,n){var i=this.getTileGridForProjection(n),o=this.getTilePixelRatio(A),a=eA(i.getTileSize(e),this.tmpSize);return o==1?a:Yh(a,o,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(e,A){var n=A!==void 0?A:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=pE(i,e,n)),uE(e,i)?e:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),r.prototype.refresh.call(this)},t.prototype.updateCacheSize=function(e,A){var n=this.getTileCacheForProjection(A);e>n.highWaterMark&&(n.highWaterMark=e)},t.prototype.useTile=function(e,A,n,i){},t}(pl),_E=function(r){ap(t,r);function t(e,A){var n=r.call(this,e)||this;return n.tile=A,n}return t}(UA),wE=yE;function mE(r,t){var e=/\{z\}/g,A=/\{x\}/g,n=/\{y\}/g,i=/\{-y\}/g;return function(o,a,s){if(o)return r.replace(e,o[0].toString()).replace(A,o[1].toString()).replace(n,o[2].toString()).replace(i,function(){var u=o[0],l=t.getFullTileRange(u);ae(l,55);var f=l.getHeight()-o[2]-1;return f.toString()})}}function CE(r,t){for(var e=r.length,A=new Array(e),n=0;n<e;++n)A[n]=mE(r[n],t);return El(A)}function El(r){return r.length===1?r[0]:function(t,e,A){if(t){var n=rp(t),i=mr(n,r.length);return r[i](t,e,A)}else return}}function sp(r){var t=[],e=/\{([a-z])-([a-z])\}/.exec(r);if(e){var A=e[1].charCodeAt(0),n=e[2].charCodeAt(0),i=void 0;for(i=A;i<=n;++i)t.push(r.replace(e[0],String.fromCharCode(i)));return t}if(e=/\{(\d+)-(\d+)\}/.exec(r),e){for(var o=parseInt(e[2],10),a=parseInt(e[1],10);a<=o;a++)t.push(r.replace(e[0],a.toString()));return t}return t.push(r),t}var EE=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),FE=function(r){EE(t,r);function t(e){var A=r.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return A.generateTileUrlFunction_=A.tileUrlFunction===t.prototype.tileUrlFunction,A.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(A.tileUrlFunction=e.tileUrlFunction),A.urls=null,e.urls?A.setUrls(e.urls):e.url&&A.setUrl(e.url),A.tileLoadingKeys_={},A}return t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(e){var A=e.target,n=be(A),i=A.getState(),o;i==re.LOADING?(this.tileLoadingKeys_[n]=!0,o=wl.TILELOADSTART):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],o=i==re.ERROR?wl.TILELOADERROR:i==re.LOADED?wl.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new _E(o,A))},t.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},t.prototype.setTileUrlFunction=function(e,A){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof A!="undefined"?this.setKey(A):this.changed()},t.prototype.setUrl=function(e){var A=sp(e);this.urls=A,this.setUrls(A)},t.prototype.setUrls=function(e){this.urls=e;var A=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(CE(e,this.tileGrid),A):this.setKey(A)},t.prototype.tileUrlFunction=function(e,A,n){},t.prototype.useTile=function(e,A,n){var i=Na(e,A,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},t}(wE),QE=FE,IE=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),UE=function(r){IE(t,r);function t(e){var A=r.call(this)||this;return A.geometries_=e||null,A.changeEventsKeys_=[],A.listenGeometriesChange_(),A}return t.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(it),this.changeEventsKeys_.length=0},t.prototype.listenGeometriesChange_=function(){if(!!this.geometries_)for(var e=0,A=this.geometries_.length;e<A;++e)this.changeEventsKeys_.push(Ve(this.geometries_[e],$.CHANGE,this.changed,this))},t.prototype.clone=function(){var e=new t(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e},t.prototype.closestPointXY=function(e,A,n,i){if(i<en(this.getExtent(),e,A))return i;for(var o=this.geometries_,a=0,s=o.length;a<s;++a)i=o[a].closestPointXY(e,A,n,i);return i},t.prototype.containsXY=function(e,A){for(var n=this.geometries_,i=0,o=n.length;i<o;++i)if(n[i].containsXY(e,A))return!0;return!1},t.prototype.computeExtent=function(e){Yi(e);for(var A=this.geometries_,n=0,i=A.length;n<i;++n)pc(e,A[n].getExtent());return e},t.prototype.getGeometries=function(){return up(this.geometries_)},t.prototype.getGeometriesArray=function(){return this.geometries_},t.prototype.getGeometriesArrayRecursive=function(){for(var e=[],A=this.geometries_,n=0,i=A.length;n<i;++n)A[n].getType()===this.getType()?e=e.concat(A[n].getGeometriesArrayRecursive()):e.push(A[n]);return e},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var A=[],n=this.geometries_,i=!1,o=0,a=n.length;o<a;++o){var s=n[o],u=s.getSimplifiedGeometry(e);A.push(u),u!==s&&(i=!0)}if(i){var l=new t(null);return l.setGeometriesArray(A),l}else return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},t.prototype.getType=function(){return U.GEOMETRY_COLLECTION},t.prototype.intersectsExtent=function(e){for(var A=this.geometries_,n=0,i=A.length;n<i;++n)if(A[n].intersectsExtent(e))return!0;return!1},t.prototype.isEmpty=function(){return this.geometries_.length===0},t.prototype.rotate=function(e,A){for(var n=this.geometries_,i=0,o=n.length;i<o;++i)n[i].rotate(e,A);this.changed()},t.prototype.scale=function(e,A,n){var i=n;i||(i=rr(this.getExtent()));for(var o=this.geometries_,a=0,s=o.length;a<s;++a)o[a].scale(e,A,i);this.changed()},t.prototype.setGeometries=function(e){this.setGeometriesArray(up(e))},t.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},t.prototype.applyTransform=function(e){for(var A=this.geometries_,n=0,i=A.length;n<i;++n)A[n].applyTransform(e);this.changed()},t.prototype.translate=function(e,A){for(var n=this.geometries_,i=0,o=n.length;i<o;++i)n[i].translate(e,A);this.changed()},t.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),r.prototype.disposeInternal.call(this)},t}(hd);function up(r){for(var t=[],e=0,A=r.length;e<A;++e)t.push(r[e].clone());return t}var SE=UE,xE=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),TE=function(r){xE(t,r);function t(){return r.call(this)||this}return t.prototype.getType=function(){return cn.JSON},t.prototype.readFeature=function(e,A){return this.readFeatureFromObject(Ga(e),this.getReadOptions(e,A))},t.prototype.readFeatures=function(e,A){return this.readFeaturesFromObject(Ga(e),this.getReadOptions(e,A))},t.prototype.readFeatureFromObject=function(e,A){return Z()},t.prototype.readFeaturesFromObject=function(e,A){return Z()},t.prototype.readGeometry=function(e,A){return this.readGeometryFromObject(Ga(e),this.getReadOptions(e,A))},t.prototype.readGeometryFromObject=function(e,A){return Z()},t.prototype.readProjection=function(e){return this.readProjectionFromObject(Ga(e))},t.prototype.readProjectionFromObject=function(e){return Z()},t.prototype.writeFeature=function(e,A){return JSON.stringify(this.writeFeatureObject(e,A))},t.prototype.writeFeatureObject=function(e,A){return Z()},t.prototype.writeFeatures=function(e,A){return JSON.stringify(this.writeFeaturesObject(e,A))},t.prototype.writeFeaturesObject=function(e,A){return Z()},t.prototype.writeGeometry=function(e,A){return JSON.stringify(this.writeGeometryObject(e,A))},t.prototype.writeGeometryObject=function(e,A){return Z()},t}(Kd);function Ga(r){if(typeof r=="string"){var t=JSON.parse(r);return t||null}else return r!==null?r:null}var OE=TE,RE=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),LE=function(r){RE(t,r);function t(e){var A=this,n=e||{};return A=r.call(this)||this,A.dataProjection=ze(n.dataProjection?n.dataProjection:"EPSG:4326"),n.featureProjection&&(A.defaultFeatureProjection=ze(n.featureProjection)),A.geometryName_=n.geometryName,A.extractGeometryName_=n.extractGeometryName,A.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],A}return t.prototype.readFeatureFromObject=function(e,A){var n=null;e.type==="Feature"?n=e:n={type:"Feature",geometry:e,properties:null};var i=Fl(n.geometry,A),o=new ir;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&o.setGeometryName(n.geometry_name),o.setGeometry(i),"id"in n&&o.setId(n.id),n.properties&&o.setProperties(n.properties,!0),o},t.prototype.readFeaturesFromObject=function(e,A){var n=e,i=null;if(n.type==="FeatureCollection"){var o=e;i=[];for(var a=o.features,s=0,u=a.length;s<u;++s)i.push(this.readFeatureFromObject(a[s],A))}else i=[this.readFeatureFromObject(e,A)];return i},t.prototype.readGeometryFromObject=function(e,A){return Fl(e,A)},t.prototype.readProjectionFromObject=function(e){var A=e.crs,n;return A?A.type=="name"?n=ze(A.properties.name):A.type==="EPSG"?n=ze("EPSG:"+A.properties.code):ae(!1,36):n=this.dataProjection,n},t.prototype.writeFeatureObject=function(e,A){A=this.adaptOptions(A);var n={type:"Feature",geometry:null,properties:null},i=e.getId();if(i!==void 0&&(n.id=i),!e.hasProperties())return n;var o=e.getProperties(),a=e.getGeometry();return a&&(n.geometry=Ql(a,A),delete o[e.getGeometryName()]),Rn(o)||(n.properties=o),n},t.prototype.writeFeaturesObject=function(e,A){A=this.adaptOptions(A);for(var n=[],i=0,o=e.length;i<o;++i)n.push(this.writeFeatureObject(e[i],A));return{type:"FeatureCollection",features:n}},t.prototype.writeGeometryObject=function(e,A){return Ql(e,this.adaptOptions(A))},t}(OE);function Fl(r,t){if(!r)return null;var e;switch(r.type){case U.POINT:{e=PE(r);break}case U.LINE_STRING:{e=HE(r);break}case U.POLYGON:{e=bE(r);break}case U.MULTI_POINT:{e=DE(r);break}case U.MULTI_LINE_STRING:{e=NE(r);break}case U.MULTI_POLYGON:{e=GE(r);break}case U.GEOMETRY_COLLECTION:{e=ME(r);break}default:throw new Error("Unsupported GeoJSON type: "+r.type)}return fo(e,!1,t)}function ME(r,t){var e=r.geometries.map(function(A){return Fl(A,t)});return new SE(e)}function PE(r){return new vA(r.coordinates)}function HE(r){return new YA(r.coordinates)}function NE(r){return new La(r.coordinates)}function DE(r){return new Ma(r.coordinates)}function GE(r){return new Pa(r.coordinates)}function bE(r){return new sr(r.coordinates)}function Ql(r,t){r=fo(r,!0,t);var e=r.getType(),A;switch(e){case U.POINT:{A=WE(r);break}case U.LINE_STRING:{A=kE(r);break}case U.POLYGON:{A=jE(r,t);break}case U.MULTI_POINT:{A=YE(r);break}case U.MULTI_LINE_STRING:{A=VE(r);break}case U.MULTI_POLYGON:{A=XE(r,t);break}case U.GEOMETRY_COLLECTION:{A=KE(r,t);break}case U.CIRCLE:{A={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+e)}return A}function KE(r,t){var e=r.getGeometriesArray().map(function(A){var n=Ae({},t);return delete n.featureProjection,Ql(A,n)});return{type:"GeometryCollection",geometries:e}}function kE(r,t){return{type:"LineString",coordinates:r.getCoordinates()}}function VE(r,t){return{type:"MultiLineString",coordinates:r.getCoordinates()}}function YE(r,t){return{type:"MultiPoint",coordinates:r.getCoordinates()}}function XE(r,t){var e;return t&&(e=t.rightHanded),{type:"MultiPolygon",coordinates:r.getCoordinates(e)}}function WE(r,t){return{type:"Point",coordinates:r.getCoordinates()}}function jE(r,t){var e;return t&&(e=t.rightHanded),{type:"Polygon",coordinates:r.getCoordinates(e)}}var Il=LE,ZE=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),zE=function(r){ZE(t,r);function t(e){var A=r.call(this)||this;return A.map_=e,A}return t.prototype.dispatchRenderEvent=function(e,A){Z()},t.prototype.calculateMatrices2D=function(e){var A=e.viewState,n=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;TA(n,e.size[0]/2,e.size[1]/2,1/A.resolution,-1/A.resolution,-A.rotation,-A.center[0],-A.center[1]),Ao(i,n)},t.prototype.forEachFeatureAtCoordinate=function(e,A,n,i,o,a,s,u){var l,f=A.viewState;function h(b,k,K,ue){return o.call(a,k,b?K:null,ue)}var c=f.projection,d=ud(e.slice(),c),p=[[0,0]];if(c.canWrapX()&&i){var B=c.getExtent(),g=st(B);p.push([-g,0],[g,0])}for(var y=A.layerStatesArray,m=y.length,_=[],C=[],F=0;F<p.length;F++)for(var E=m-1;E>=0;--E){var Q=y[E],w=Q.layer;if(w.hasRenderer()&&Sa(Q,f)&&s.call(u,w)){var T=w.getRenderer(),O=w.getSource();if(T&&O){var L=O.getWrapX()?d:e,P=h.bind(null,Q.managed);C[0]=L[0]+p[F][0],C[1]=L[1]+p[F][1],l=T.forEachFeatureAtCoordinate(C,A,n,P,_)}if(l)return l}}if(_.length!==0){var Y=1/_.length;return _.forEach(function(b,k){return b.distanceSq+=k*Y}),_.sort(function(b,k){return b.distanceSq-k.distanceSq}),_.some(function(b){return l=b.callback(b.feature,b.layer,b.geometry)}),l}},t.prototype.forEachLayerAtPixel=function(e,A,n,i,o){return Z()},t.prototype.hasFeatureAtCoordinate=function(e,A,n,i,o,a){var s=this.forEachFeatureAtCoordinate(e,A,n,i,$r,this,o,a);return s!==void 0},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(e){Z()},t.prototype.scheduleExpireIconCache=function(e){fa.canExpireCache()&&e.postRenderFunctions.push($E)},t}(cu);function $E(r,t){fa.expire()}var JE=zE,qE=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),eF=function(r){qE(t,r);function t(e){var A=r.call(this,e)||this;A.fontChangeListenerKey_=Ve(Ar,jr.PROPERTYCHANGE,e.redrawText.bind(e)),A.element_=document.createElement("div");var n=A.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",A.element_.className=Mn+" ol-layers";var i=e.getViewport();return i.insertBefore(A.element_,i.firstChild||null),A.children_=[],A.renderedVisible_=!0,A}return t.prototype.dispatchRenderEvent=function(e,A){var n=this.getMap();if(n.hasListener(e)){var i=new Rd(e,void 0,A);n.dispatchEvent(i)}},t.prototype.disposeInternal=function(){it(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),r.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(an.PRECOMPOSE,e);var A=e.layerStatesArray.sort(function(h,c){return h.zIndex-c.zIndex}),n=e.viewState;this.children_.length=0;for(var i=[],o=null,a=0,s=A.length;a<s;++a){var u=A[a];if(e.layerIndex=a,!(!Sa(u,n)||u.sourceState!=ln.READY&&u.sourceState!=ln.UNDEFINED)){var l=u.layer,f=l.render(e,o);!f||(f!==o&&(this.children_.push(f),o=f),"getDeclutter"in l&&i.push(l))}}for(var a=i.length-1;a>=0;--a)i[a].renderDeclutter(e);AB(this.element_,this.children_),this.dispatchRenderEvent(an.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)},t.prototype.forEachLayerAtPixel=function(e,A,n,i,o){for(var a=A.viewState,s=A.layerStatesArray,u=s.length,l=u-1;l>=0;--l){var f=s[l],h=f.layer;if(h.hasRenderer()&&Sa(f,a)&&o(h)){var c=h.getRenderer(),d=c.getDataAtPixel(e,A,n);if(d){var p=i(h,d);if(p)return p}}}},t}(JE),tF=eF,AF=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),rF=function(r){AF(t,r);function t(e,A,n){var i=r.call(this,e)||this;return i.map=A,i.frameState=n!==void 0?n:null,i}return t}(UA),ba=rF,nF=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),iF=function(r){nF(t,r);function t(e,A,n,i,o){var a=r.call(this,e,A,o)||this;return a.originalEvent=n,a.pixel_=null,a.coordinate_=null,a.dragging=i!==void 0?i:!1,a}return Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){r.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){r.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},t}(ba),ur=iF,ke={SINGLECLICK:"singleclick",CLICK:$.CLICK,DBLCLICK:$.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ho={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},oF=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),aF=function(r){oF(t,r);function t(e,A){var n=r.call(this,e)||this;n.map_=e,n.clickTimeoutId_,n.emulateClicks_=!1,n.dragging_=!1,n.dragListenerKeys_=[],n.moveTolerance_=A===void 0?1:A,n.down_=null;var i=n.map_.getViewport();return n.activePointers_=0,n.trackedTouches_={},n.element_=i,n.pointerdownListenerKey_=Ve(i,ho.POINTERDOWN,n.handlePointerDown_,n),n.originalPointerMoveEvent_,n.relayedListenerKey_=Ve(i,ho.POINTERMOVE,n.relayEvent_,n),n.boundHandleTouchMove_=n.handleTouchMove_.bind(n),n.element_.addEventListener($.TOUCHMOVE,n.boundHandleTouchMove_,qh?{passive:!1}:!1),n}return t.prototype.emulateClick_=function(e){var A=new ur(ke.CLICK,this.map_,e);this.dispatchEvent(A),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,A=new ur(ke.DBLCLICK,this.map_,e),this.dispatchEvent(A)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var n=new ur(ke.SINGLECLICK,this.map_,e);this.dispatchEvent(n)}.bind(this),250)},t.prototype.updateActivePointers_=function(e){var A=e;A.type==ke.POINTERUP||A.type==ke.POINTERCANCEL?delete this.trackedTouches_[A.pointerId]:A.type==ke.POINTERDOWN&&(this.trackedTouches_[A.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},t.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var A=new ur(ke.POINTERUP,this.map_,e);this.dispatchEvent(A),this.emulateClicks_&&!A.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(it),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(e){return e.button===0},t.prototype.handlePointerDown_=function(e){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(e);var A=new ur(ke.POINTERDOWN,this.map_,e);this.dispatchEvent(A),this.down_={};for(var n in e){var i=e[n];this.down_[n]=typeof i=="function"?Jr:i}if(this.dragListenerKeys_.length===0){var o=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Ve(o,ke.POINTERMOVE,this.handlePointerMove_,this),Ve(o,ke.POINTERUP,this.handlePointerUp_,this),Ve(this.element_,ke.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==o&&this.dragListenerKeys_.push(Ve(this.element_.getRootNode(),ke.POINTERUP,this.handlePointerUp_,this))}},t.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var A=new ur(ke.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(A)}},t.prototype.relayEvent_=function(e){this.originalPointerMoveEvent_=e;var A=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new ur(e.type,this.map_,e,A))},t.prototype.handleTouchMove_=function(e){var A=this.originalPointerMoveEvent_;(!A||A.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()},t.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(it(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener($.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(it(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(it),this.dragListenerKeys_.length=0,this.element_=null,r.prototype.disposeInternal.call(this)},t}(Ln),sF=aF,co={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"},Dt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Ka=1/0,uF=function(){function r(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return r.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Pi(this.queuedElements_)},r.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,A=t[0];t.length==1?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var n=this.keyFunction_(A);return delete this.queuedElements_[n],A},r.prototype.enqueue=function(t){ae(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=Ka?(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},r.prototype.getCount=function(){return this.elements_.length},r.prototype.getLeftChildIndex_=function(t){return t*2+1},r.prototype.getRightChildIndex_=function(t){return t*2+2},r.prototype.getParentIndex_=function(t){return t-1>>1},r.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},r.prototype.isEmpty=function(){return this.elements_.length===0},r.prototype.isKeyQueued=function(t){return t in this.queuedElements_},r.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},r.prototype.siftUp_=function(t){for(var e=this.elements_,A=this.priorities_,n=e.length,i=e[t],o=A[t],a=t;t<n>>1;){var s=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),l=u<n&&A[u]<A[s]?u:s;e[t]=e[l],A[t]=A[l],t=l}e[t]=i,A[t]=o,this.siftDown_(a,t)},r.prototype.siftDown_=function(t,e){for(var A=this.elements_,n=this.priorities_,i=A[e],o=n[e];e>t;){var a=this.getParentIndex_(e);if(n[a]>o)A[e]=A[a],n[e]=n[a],e=a;else break}A[e]=i,n[e]=o},r.prototype.reprioritize=function(){var t=this.priorityFunction_,e=this.elements_,A=this.priorities_,n=0,i=e.length,o,a,s;for(a=0;a<i;++a)o=e[a],s=t(o),s==Ka?delete this.queuedElements_[this.keyFunction_(o)]:(A[n]=s,e[n++]=o);e.length=n,A.length=n,this.heapify_()},r}(),lF=uF,fF=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),hF=function(r){fF(t,r);function t(e,A){var n=r.call(this,function(i){return e.apply(null,i)},function(i){return i[0].getKey()})||this;return n.boundHandleTileChange_=n.handleTileChange.bind(n),n.tileChangeCallback_=A,n.tilesLoading_=0,n.tilesLoadingKeys_={},n}return t.prototype.enqueue=function(e){var A=r.prototype.enqueue.call(this,e);if(A){var n=e[0];n.addEventListener($.CHANGE,this.boundHandleTileChange_)}return A},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(e){var A=e.target,n=A.getState();if(n===re.LOADED||n===re.ERROR||n===re.EMPTY){A.removeEventListener($.CHANGE,this.boundHandleTileChange_);var i=A.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(e,A){for(var n=0,i,o,a;this.tilesLoading_<e&&n<A&&this.getCount()>0;)o=this.dequeue()[0],a=o.getKey(),i=o.getState(),i===re.IDLE&&!(a in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[a]=!0,++this.tilesLoading_,++n,o.load())},t}(lF),cF=hF;function dF(r,t,e,A,n){if(!r||!(e in r.wantedTiles)||!r.wantedTiles[e][t.getKey()])return Ka;var i=r.viewState.center,o=A[0]-i[0],a=A[1]-i[1];return 65536*Math.log(n)+Math.sqrt(o*o+a*a)/n}var WA={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function lp(r,t,e){return function(A,n,i,o,a){if(A){var s=t?0:i[0]*n,u=t?0:i[1]*n,l=a?a[0]:0,f=a?a[1]:0,h=r[0]+s/2+l,c=r[2]-s/2+l,d=r[1]+u/2+f,p=r[3]-u/2+f;h>c&&(h=(c+h)/2,c=h),d>p&&(d=(p+d)/2,p=d);var B=Ct(A[0],h,c),g=Ct(A[1],d,p),y=30*n;return o&&e&&(B+=-y*Math.log(1+Math.max(0,h-A[0])/y)+y*Math.log(1+Math.max(0,A[0]-c)/y),g+=-y*Math.log(1+Math.max(0,d-A[1])/y)+y*Math.log(1+Math.max(0,A[1]-p)/y)),[B,g]}else return}}function pF(r){return r}function Ul(r,t,e,A){var n=st(t)/e[0],i=Xt(t)/e[1];return A?Math.min(r,Math.max(n,i)):Math.min(r,Math.min(n,i))}function Sl(r,t,e){var A=Math.min(r,t),n=50;return A*=Math.log(1+n*Math.max(0,r/t-1))/n+1,e&&(A=Math.max(A,e),A/=Math.log(1+n*Math.max(0,e/r-1))/n+1),Ct(A,e/2,t*2)}function gF(r,t,e,A){return function(n,i,o,a){if(n!==void 0){var s=r[0],u=r[r.length-1],l=e?Ul(s,e,o,A):s;if(a){var f=t!==void 0?t:!0;return f?Sl(n,l,u):Ct(n,u,l)}var h=Math.min(l,n),c=Math.floor(ra(r,h,i));return r[c]>l&&c<r.length-1?r[c+1]:r[c]}else return}}function vF(r,t,e,A,n,i){return function(o,a,s,u){if(o!==void 0){var l=n?Ul(t,n,s,i):t,f=e!==void 0?e:0;if(u){var h=A!==void 0?A:!0;return h?Sl(o,l,f):Ct(o,f,l)}var c=1e-9,d=Math.ceil(Math.log(t/l)/Math.log(r)-c),p=-a*(.5-c)+.5,B=Math.min(l,o),g=Math.floor(Math.log(t/B)/Math.log(r)+p),y=Math.max(d,g),m=t/Math.pow(r,y);return Ct(m,f,l)}else return}}function fp(r,t,e,A,n){return function(i,o,a,s){if(i!==void 0){var u=A?Ul(r,A,a,n):r,l=e!==void 0?e:!0;return!l||!s?Ct(i,t,u):Sl(i,u,t)}else return}}function xl(r){if(r!==void 0)return 0}function hp(r){if(r!==void 0)return r}function BF(r){var t=2*Math.PI/r;return function(e,A){if(A)return e;if(e!==void 0)return e=Math.floor(e/t+.5)*t,e}}function yF(r){var t=r||Wr(5);return function(e,A){if(A)return e;if(e!==void 0)return Math.abs(e)<=t?0:e}}var _F=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Tl=0,wF=function(r){_F(t,r);function t(e){var A=r.call(this)||this;A.on,A.once,A.un;var n=Ae({},e);return A.hints_=[0,0],A.animations_=[],A.updateAnimationKey_,A.projection_=el(n.projection,"EPSG:3857"),A.viewportSize_=[100,100],A.targetCenter_=null,A.targetResolution_,A.targetRotation_,A.nextCenter_=null,A.nextResolution_,A.nextRotation_,A.cancelAnchor_=void 0,n.center&&(n.center=lt(n.center,A.projection_)),n.extent&&(n.extent=gA(n.extent,A.projection_)),A.applyOptions_(n),A}return t.prototype.applyOptions_=function(e){var A={},n=CF(e);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=n.minZoom;var i=mF(e),o=n.constraint,a=EF(e);this.constraints_={center:i,resolution:o,rotation:a},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom),this.setProperties(A),this.options_=e},Object.defineProperty(t.prototype,"padding",{get:function(){return this.padding_},set:function(e){var A=this.padding_;this.padding_=e;var n=this.getCenter();if(n){var i=e||[0,0,0,0];A=A||[0,0,0,0];var o=this.getResolution(),a=o/2*(i[3]-A[3]+A[1]-i[1]),s=o/2*(i[0]-A[0]+A[2]-i[2]);this.setCenterInternal([n[0]+a,n[1]-s])}},enumerable:!1,configurable:!0}),t.prototype.getUpdatedOptions_=function(e){var A=Ae({},this.options_);return A.resolution!==void 0?A.resolution=this.getResolution():A.zoom=this.getZoom(),A.center=this.getCenterInternal(),A.rotation=this.getRotation(),Ae({},A,e)},t.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var A=new Array(arguments.length),n=0;n<A.length;++n){var i=arguments[n];i.center&&(i=Ae({},i),i.center=lt(i.center,this.getProjection())),i.anchor&&(i=Ae({},i),i.anchor=lt(i.anchor,this.getProjection())),A[n]=i}this.animateInternal.apply(this,A)},t.prototype.animateInternal=function(e){var A=arguments.length,n;A>1&&typeof arguments[A-1]=="function"&&(n=arguments[A-1],--A);for(var i=0;i<A&&!this.isDef();++i){var o=arguments[i];o.center&&this.setCenterInternal(o.center),o.zoom!==void 0?this.setZoom(o.zoom):o.resolution&&this.setResolution(o.resolution),o.rotation!==void 0&&this.setRotation(o.rotation)}if(i===A){n&&ka(n,!0);return}for(var a=Date.now(),s=this.targetCenter_.slice(),u=this.targetResolution_,l=this.targetRotation_,f=[];i<A;++i){var h=arguments[i],c={start:a,complete:!1,anchor:h.anchor,duration:h.duration!==void 0?h.duration:1e3,easing:h.easing||AE,callback:n};if(h.center&&(c.sourceCenter=s,c.targetCenter=h.center.slice(),s=c.targetCenter),h.zoom!==void 0?(c.sourceResolution=u,c.targetResolution=this.getResolutionForZoom(h.zoom),u=c.targetResolution):h.resolution&&(c.sourceResolution=u,c.targetResolution=h.resolution,u=c.targetResolution),h.rotation!==void 0){c.sourceRotation=l;var d=mr(h.rotation-l+Math.PI,2*Math.PI)-Math.PI;c.targetRotation=l+d,l=c.targetRotation}FF(c)?c.complete=!0:a+=c.duration,f.push(c)}this.animations_.push(f),this.setHint(xt.ANIMATING,1),this.updateAnimations_()},t.prototype.getAnimating=function(){return this.hints_[xt.ANIMATING]>0},t.prototype.getInteracting=function(){return this.hints_[xt.INTERACTING]>0},t.prototype.cancelAnimations=function(){this.setHint(xt.ANIMATING,-this.hints_[xt.ANIMATING]);for(var e,A=0,n=this.animations_.length;A<n;++A){var i=this.animations_[A];if(i[0].callback&&ka(i[0].callback,!1),!e)for(var o=0,a=i.length;o<a;++o){var s=i[o];if(!s.complete){e=s.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},t.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var e=Date.now(),A=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],o=!0,a=0,s=i.length;a<s;++a){var u=i[a];if(!u.complete){var l=e-u.start,f=u.duration>0?l/u.duration:1;f>=1?(u.complete=!0,f=1):o=!1;var h=u.easing(f);if(u.sourceCenter){var c=u.sourceCenter[0],d=u.sourceCenter[1],p=u.targetCenter[0],B=u.targetCenter[1];this.nextCenter_=u.targetCenter;var g=c+h*(p-c),y=d+h*(B-d);this.targetCenter_=[g,y]}if(u.sourceResolution&&u.targetResolution){var m=h===1?u.targetResolution:u.sourceResolution+h*(u.targetResolution-u.sourceResolution);if(u.anchor){var _=this.getViewportSize_(this.getRotation()),C=this.constraints_.resolution(m,0,_,!0);this.targetCenter_=this.calculateCenterZoom(C,u.anchor)}this.nextResolution_=u.targetResolution,this.targetResolution_=m,this.applyTargetState_(!0)}if(u.sourceRotation!==void 0&&u.targetRotation!==void 0){var F=h===1?mr(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+h*(u.targetRotation-u.sourceRotation);if(u.anchor){var E=this.constraints_.rotation(F,!0);this.targetCenter_=this.calculateCenterRotate(E,u.anchor)}this.nextRotation_=u.targetRotation,this.targetRotation_=F}if(this.applyTargetState_(!0),A=!0,!u.complete)break}}if(o){this.animations_[n]=null,this.setHint(xt.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var Q=i[0].callback;Q&&ka(Q,!0)}}this.animations_=this.animations_.filter(Boolean),A&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(e,A){var n,i=this.getCenterInternal();return i!==void 0&&(n=[i[0]-A[0],i[1]-A[1]],$u(n,e-this.getRotation()),xw(n,A)),n},t.prototype.calculateCenterZoom=function(e,A){var n,i=this.getCenterInternal(),o=this.getResolution();if(i!==void 0&&o!==void 0){var a=A[0]-e*(A[0]-i[0])/o,s=A[1]-e*(A[1]-i[1])/o;n=[a,s]}return n},t.prototype.getViewportSize_=function(e){var A=this.viewportSize_;if(e){var n=A[0],i=A[1];return[Math.abs(n*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(i*Math.cos(e))]}else return A},t.prototype.setViewportSize=function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},t.prototype.getCenter=function(){var e=this.getCenterInternal();return e&&Jn(e,this.getProjection())},t.prototype.getCenterInternal=function(){return this.get(WA.CENTER)},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},t.prototype.getHints=function(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},t.prototype.calculateExtent=function(e){var A=this.calculateExtentInternal(e);return tl(A,this.getProjection())},t.prototype.calculateExtentInternal=function(e){var A=e||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();ae(n,1);var i=this.getResolution();ae(i!==void 0,2);var o=this.getRotation();return ae(o!==void 0,3),bn(n,i,o,A)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},t.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get(WA.RESOLUTION)},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(e,A){return this.getResolutionForExtentInternal(gA(e,this.getProjection()),A)},t.prototype.getResolutionForExtentInternal=function(e,A){var n=A||this.getViewportSizeMinusPadding_(),i=st(e)/n[0],o=Xt(e)/n[1];return Math.max(i,o)},t.prototype.getResolutionForValueFunction=function(e){var A=e||2,n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,o=Math.log(n/i)/Math.log(A);return function(a){var s=n/Math.pow(A,a*o);return s}},t.prototype.getRotation=function(){return this.get(WA.ROTATION)},t.prototype.getValueForResolutionFunction=function(e){var A=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,o=Math.log(n/i)/A;return function(a){var s=Math.log(n/a)/A/o;return s}},t.prototype.getViewportSizeMinusPadding_=function(e){var A=this.getViewportSize_(e),n=this.padding_;return n&&(A=[A[0]-n[1]-n[3],A[1]-n[0]-n[2]]),A},t.prototype.getState=function(){var e=this.getProjection(),A=this.getResolution(),n=this.getRotation(),i=this.getCenterInternal(),o=this.padding_;if(o){var a=this.getViewportSizeMinusPadding_();i=Ol(i,this.getViewportSize_(),[a[0]/2+o[3],a[1]/2+o[0]],A,n)}return{center:i.slice(0),projection:e!==void 0?e:null,resolution:A,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}},t.prototype.getZoom=function(){var e,A=this.getResolution();return A!==void 0&&(e=this.getZoomForResolution(A)),e},t.prototype.getZoomForResolution=function(e){var A=this.minZoom_||0,n,i;if(this.resolutions_){var o=ra(this.resolutions_,e,1);A=o,n=this.resolutions_[o],o==this.resolutions_.length-1?i=2:i=n/this.resolutions_[o+1]}else n=this.maxResolution_,i=this.zoomFactor_;return A+Math.log(n/e)/Math.log(i)},t.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var A=Ct(Math.floor(e),0,this.resolutions_.length-2),n=this.resolutions_[A]/this.resolutions_[A+1];return this.resolutions_[A]/Math.pow(n,Ct(e-A,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},t.prototype.fit=function(e,A){var n;if(ae(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function",24),Array.isArray(e)){ae(!Zi(e),25);var i=gA(e,this.getProjection());n=Zd(i)}else if(e.getType()===U.CIRCLE){var i=gA(e.getExtent(),this.getProjection());n=Zd(i),n.rotate(this.getRotation(),rr(i))}else{var o=$n();o?n=e.clone().transform(o,this.getProjection()):n=e}this.fitInternal(n,A)},t.prototype.rotatedExtentForGeometry=function(e){for(var A=this.getRotation(),n=Math.cos(A),i=Math.sin(-A),o=e.getFlatCoordinates(),a=e.getStride(),s=1/0,u=1/0,l=-1/0,f=-1/0,h=0,c=o.length;h<c;h+=a){var d=o[h]*n-o[h+1]*i,p=o[h]*i+o[h+1]*n;s=Math.min(s,d),u=Math.min(u,p),l=Math.max(l,d),f=Math.max(f,p)}return[s,u,l,f]},t.prototype.fitInternal=function(e,A){var n=A||{},i=n.size;i||(i=this.getViewportSizeMinusPadding_());var o=n.padding!==void 0?n.padding:[0,0,0,0],a=n.nearest!==void 0?n.nearest:!1,s;n.minResolution!==void 0?s=n.minResolution:n.maxZoom!==void 0?s=this.getResolutionForZoom(n.maxZoom):s=0;var u=this.rotatedExtentForGeometry(e),l=this.getResolutionForExtentInternal(u,[i[0]-o[1]-o[3],i[1]-o[0]-o[2]]);l=isNaN(l)?s:Math.max(l,s),l=this.getConstrainedResolution(l,a?0:1);var f=this.getRotation(),h=Math.sin(f),c=Math.cos(f),d=rr(u);d[0]+=(o[1]-o[3])/2*l,d[1]+=(o[0]-o[2])/2*l;var p=d[0]*c-d[1]*h,B=d[1]*c+d[0]*h,g=this.getConstrainedCenter([p,B],l),y=n.callback?n.callback:Jr;n.duration!==void 0?this.animateInternal({resolution:l,center:g,duration:n.duration,easing:n.easing},y):(this.targetResolution_=l,this.targetCenter_=g,this.applyTargetState_(!1,!0),ka(y,!0))},t.prototype.centerOn=function(e,A,n){this.centerOnInternal(lt(e,this.getProjection()),A,n)},t.prototype.centerOnInternal=function(e,A,n){this.setCenterInternal(Ol(e,A,n,this.getResolution(),this.getRotation()))},t.prototype.calculateCenterShift=function(e,A,n,i){var o,a=this.padding_;if(a&&e){var s=this.getViewportSizeMinusPadding_(-n),u=Ol(e,i,[s[0]/2+a[3],s[1]/2+a[0]],A,n);o=[e[0]-u[0],e[1]-u[1]]}return o},t.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},t.prototype.adjustCenter=function(e){var A=Jn(this.targetCenter_,this.getProjection());this.setCenter([A[0]+e[0],A[1]+e[1]])},t.prototype.adjustCenterInternal=function(e){var A=this.targetCenter_;this.setCenterInternal([A[0]+e[0],A[1]+e[1]])},t.prototype.adjustResolution=function(e,A){var n=A&&lt(A,this.getProjection());this.adjustResolutionInternal(e,n)},t.prototype.adjustResolutionInternal=function(e,A){var n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,i,n);A&&(this.targetCenter_=this.calculateCenterZoom(o,A)),this.targetResolution_*=e,this.applyTargetState_()},t.prototype.adjustZoom=function(e,A){this.adjustResolution(Math.pow(this.zoomFactor_,-e),A)},t.prototype.adjustRotation=function(e,A){A&&(A=lt(A,this.getProjection())),this.adjustRotationInternal(e,A)},t.prototype.adjustRotationInternal=function(e,A){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,n);A&&(this.targetCenter_=this.calculateCenterRotate(i,A)),this.targetRotation_+=e,this.applyTargetState_()},t.prototype.setCenter=function(e){this.setCenterInternal(lt(e,this.getProjection()))},t.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},t.prototype.setHint=function(e,A){return this.hints_[e]+=A,this.changed(),this.hints_[e]},t.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},t.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},t.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},t.prototype.applyTargetState_=function(e,A){var n=this.getAnimating()||this.getInteracting()||A,i=this.constraints_.rotation(this.targetRotation_,n),o=this.getViewportSize_(i),a=this.constraints_.resolution(this.targetResolution_,0,o,n),s=this.constraints_.center(this.targetCenter_,a,o,n,this.calculateCenterShift(this.targetCenter_,a,i,o));this.get(WA.ROTATION)!==i&&this.set(WA.ROTATION,i),this.get(WA.RESOLUTION)!==a&&this.set(WA.RESOLUTION,a),(!this.get(WA.CENTER)||!kA(this.get(WA.CENTER),s))&&this.set(WA.CENTER,s),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0},t.prototype.resolveConstraints=function(e,A,n){var i=e!==void 0?e:200,o=A||0,a=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(a),u=this.constraints_.resolution(this.targetResolution_,o,s),l=this.constraints_.center(this.targetCenter_,u,s,!1,this.calculateCenterShift(this.targetCenter_,u,a,s));if(i===0&&!this.cancelAnchor_){this.targetResolution_=u,this.targetRotation_=a,this.targetCenter_=l,this.applyTargetState_();return}var f=n||(i===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==u||this.getRotation()!==a||!this.getCenterInternal()||!kA(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:l,resolution:u,duration:i,easing:ti,anchor:f}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(xt.INTERACTING,1)},t.prototype.endInteraction=function(e,A,n){var i=n&&lt(n,this.getProjection());this.endInteractionInternal(e,A,i)},t.prototype.endInteractionInternal=function(e,A,n){this.setHint(xt.INTERACTING,-1),this.resolveConstraints(e,A,n)},t.prototype.getConstrainedCenter=function(e,A){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,A||this.getResolution(),n)},t.prototype.getConstrainedZoom=function(e,A){var n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,A))},t.prototype.getConstrainedResolution=function(e,A){var n=A||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,i)},t}(SA);function ka(r,t){setTimeout(function(){r(t)},0)}function mF(r){if(r.extent!==void 0){var t=r.smoothExtentConstraint!==void 0?r.smoothExtentConstraint:!0;return lp(r.extent,r.constrainOnlyCenter,t)}var e=el(r.projection,"EPSG:3857");if(r.multiWorld!==!0&&e.isGlobal()){var A=e.getExtent().slice();return A[0]=-1/0,A[2]=1/0,lp(A,!1,!1)}return pF}function CF(r){var t,e,A,n=28,i=2,o=r.minZoom!==void 0?r.minZoom:Tl,a=r.maxZoom!==void 0?r.maxZoom:n,s=r.zoomFactor!==void 0?r.zoomFactor:i,u=r.multiWorld!==void 0?r.multiWorld:!1,l=r.smoothResolutionConstraint!==void 0?r.smoothResolutionConstraint:!0,f=r.showFullExtent!==void 0?r.showFullExtent:!1,h=el(r.projection,"EPSG:3857"),c=h.getExtent(),d=r.constrainOnlyCenter,p=r.extent;if(!u&&!p&&h.isGlobal()&&(d=!1,p=c),r.resolutions!==void 0){var B=r.resolutions;e=B[o],A=B[a]!==void 0?B[a]:B[B.length-1],r.constrainResolution?t=gF(B,l,!d&&p,f):t=fp(e,A,l,!d&&p,f)}else{var g=c?Math.max(st(c),Xt(c)):360*OA[pA.DEGREES]/h.getMetersPerUnit(),y=g/ml/Math.pow(i,Tl),m=y/Math.pow(i,n-Tl);e=r.maxResolution,e!==void 0?o=0:e=y/Math.pow(s,o),A=r.minResolution,A===void 0&&(r.maxZoom!==void 0?r.maxResolution!==void 0?A=e/Math.pow(s,a):A=y/Math.pow(s,a):A=m),a=o+Math.floor(Math.log(e/A)/Math.log(s)),A=e/Math.pow(s,a-o),r.constrainResolution?t=vF(s,e,A,l,!d&&p,f):t=fp(e,A,l,!d&&p,f)}return{constraint:t,maxResolution:e,minResolution:A,minZoom:o,zoomFactor:s}}function EF(r){var t=r.enableRotation!==void 0?r.enableRotation:!0;if(t){var e=r.constrainRotation;return e===void 0||e===!0?yF():e===!1?hp:typeof e=="number"?BF(e):hp}else return xl}function FF(r){return!(r.sourceCenter&&r.targetCenter&&!kA(r.sourceCenter,r.targetCenter)||r.sourceResolution!==r.targetResolution||r.sourceRotation!==r.targetRotation)}function Ol(r,t,e,A,n){var i=Math.cos(-n),o=Math.sin(-n),a=r[0]*i-r[1]*o,s=r[1]*i+r[0]*o;a+=(t[0]/2-e[0])*A,s+=(e[1]-t[1]/2)*A,o=-o;var u=a*i-s*o,l=s*i+a*o;return[u,l]}var Tr=wF,QF=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),IF=function(r){QF(t,r);function t(e){var A=r.call(this)||this;A.on,A.once,A.un;var n=UF(e);A.boundHandleBrowserEvent_=A.handleBrowserEvent.bind(A),A.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,A.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:Jh,A.postRenderTimeoutHandle_,A.animationDelayKey_,A.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(A),A.coordinateToPixelTransform_=xA(),A.pixelToCoordinateTransform_=xA(),A.frameIndex_=0,A.frameState_=null,A.previousExtent_=null,A.viewPropertyListenerKey_=null,A.viewChangeListenerKey_=null,A.layerGroupPropertyListenerKeys_=null,A.viewport_=document.createElement("div"),A.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),A.viewport_.style.position="relative",A.viewport_.style.overflow="hidden",A.viewport_.style.width="100%",A.viewport_.style.height="100%",A.overlayContainer_=document.createElement("div"),A.overlayContainer_.style.position="absolute",A.overlayContainer_.style.zIndex="0",A.overlayContainer_.style.width="100%",A.overlayContainer_.style.height="100%",A.overlayContainer_.style.pointerEvents="none",A.overlayContainer_.className="ol-overlaycontainer",A.viewport_.appendChild(A.overlayContainer_),A.overlayContainerStopEvent_=document.createElement("div"),A.overlayContainerStopEvent_.style.position="absolute",A.overlayContainerStopEvent_.style.zIndex="0",A.overlayContainerStopEvent_.style.width="100%",A.overlayContainerStopEvent_.style.height="100%",A.overlayContainerStopEvent_.style.pointerEvents="none",A.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",A.viewport_.appendChild(A.overlayContainerStopEvent_),A.mapBrowserEventHandler_=null,A.moveTolerance_=e.moveTolerance,A.keyboardEventTarget_=n.keyboardEventTarget,A.keyHandlerKeys_=null,A.controls=n.controls||new $t,A.interactions=n.interactions||new $t,A.overlays_=n.overlays,A.overlayIdIndex_={},A.renderer_=null,A.handleResize_,A.postRenderFunctions_=[],A.tileQueue_=new cF(A.getTilePriority.bind(A),A.handleTileChange_.bind(A)),A.addChangeListener(Dt.LAYERGROUP,A.handleLayerGroupChanged_),A.addChangeListener(Dt.VIEW,A.handleViewChanged_),A.addChangeListener(Dt.SIZE,A.handleSizeChanged_),A.addChangeListener(Dt.TARGET,A.handleTargetChanged_),A.setProperties(n.values);var i=A;return e.view&&!(e.view instanceof Tr)&&e.view.then(function(o){i.setView(new Tr(o))}),A.controls.addEventListener(Nt.ADD,function(o){o.element.setMap(this)}.bind(A)),A.controls.addEventListener(Nt.REMOVE,function(o){o.element.setMap(null)}.bind(A)),A.interactions.addEventListener(Nt.ADD,function(o){o.element.setMap(this)}.bind(A)),A.interactions.addEventListener(Nt.REMOVE,function(o){o.element.setMap(null)}.bind(A)),A.overlays_.addEventListener(Nt.ADD,function(o){this.addOverlayInternal_(o.element)}.bind(A)),A.overlays_.addEventListener(Nt.REMOVE,function(o){var a=o.element,s=a.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],o.element.setMap(null)}.bind(A)),A.controls.forEach(function(o){o.setMap(this)}.bind(A)),A.interactions.forEach(function(o){o.setMap(this)}.bind(A)),A.overlays_.forEach(A.addOverlayInternal_.bind(A)),A}return t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(e){this.getControls().push(e)},t.prototype.addInteraction=function(e){this.getInteractions().push(e)},t.prototype.addLayer=function(e){var A=this.getLayerGroup().getLayers();A.push(e)},t.prototype.addOverlay=function(e){this.getOverlays().push(e)},t.prototype.addOverlayInternal_=function(e){var A=e.getId();A!==void 0&&(this.overlayIdIndex_[A.toString()]=e),e.setMap(this)},t.prototype.disposeInternal=function(){this.setTarget(null),r.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(e,A,n){if(!!this.frameState_){var i=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};var o=n.hitTolerance!==void 0?n.hitTolerance:0,a=n.layerFilter!==void 0?n.layerFilter:$r,s=n.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,o,s,A,null,a,null)}},t.prototype.getFeaturesAtPixel=function(e,A){var n=[];return this.forEachFeatureAtPixel(e,function(i){n.push(i)},A),n},t.prototype.forEachLayerAtPixel=function(e,A,n){if(!!this.frameState_){var i=n||{},o=i.hitTolerance!==void 0?i.hitTolerance:0,a=i.layerFilter||$r;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,o,A,a)}},t.prototype.hasFeatureAtPixel=function(e,A){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(e);A=A!==void 0?A:{};var i=A.layerFilter!==void 0?A.layerFilter:$r,o=A.hitTolerance!==void 0?A.hitTolerance:0,a=A.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,o,a,i,null)},t.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},t.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},t.prototype.getEventPixel=function(e){var A=this.viewport_.getBoundingClientRect(),n="changedTouches"in e?e.changedTouches[0]:e;return[n.clientX-A.left,n.clientY-A.top]},t.prototype.getTarget=function(){return this.get(Dt.TARGET)},t.prototype.getTargetElement=function(){var e=this.getTarget();return e!==void 0?typeof e=="string"?document.getElementById(e):e:null},t.prototype.getCoordinateFromPixel=function(e){return Jn(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(e){var A=this.frameState_;return A?_t(A.pixelToCoordinateTransform,e.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(e){var A=this.overlayIdIndex_[e.toString()];return A!==void 0?A:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get(Dt.LAYERGROUP)},t.prototype.setLayers=function(e){var A=this.getLayerGroup();if(e instanceof $t){A.setLayers(e);return}var n=A.getLayers();n.clear(),n.extend(e)},t.prototype.getLayers=function(){var e=this.getLayerGroup().getLayers();return e},t.prototype.getLoading=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),A=0,n=e.length;A<n;++A){var i=e[A].layer,o=i.getSource();if(o&&o.loading)return!0}return!1},t.prototype.getPixelFromCoordinate=function(e){var A=lt(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(A)},t.prototype.getPixelFromCoordinateInternal=function(e){var A=this.frameState_;return A?_t(A.coordinateToPixelTransform,e.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get(Dt.SIZE)},t.prototype.getView=function(){return this.get(Dt.VIEW)},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getOwnerDocument=function(){var e=this.getTargetElement();return e?e.ownerDocument:document},t.prototype.getTilePriority=function(e,A,n,i){return dF(this.frameState_,e,A,n,i)},t.prototype.handleBrowserEvent=function(e,A){var n=A||e.type,i=new ur(n,this,e);this.handleMapBrowserEvent(i)},t.prototype.handleMapBrowserEvent=function(e){if(!!this.frameState_){var A=e.originalEvent,n=A.type;if(n===ho.POINTERDOWN||n===$.WHEEL||n===$.KEYDOWN){var i=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():i,a=A.target;if(this.overlayContainerStopEvent_.contains(a)||!(o===i?i.documentElement:o).contains(a))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1)for(var s=this.getInteractions().getArray().slice(),u=s.length-1;u>=0;u--){var l=s[u];if(!(l.getMap()!==this||!l.getActive()||!this.getTargetElement())){var f=l.handleEvent(e);if(!f||e.propagationStopped)break}}}},t.prototype.handlePostRender=function(){var e=this.frameState_,A=this.tileQueue_;if(!A.isEmpty()){var n=this.maxTilesLoading_,i=n;if(e){var o=e.viewHints;if(o[xt.ANIMATING]||o[xt.INTERACTING]){var a=Date.now()-e.time>8;n=a?0:8,i=a?0:2}}A.getTilesLoading()<n&&(A.reprioritize(),A.loadMoreTiles(n,i))}e&&this.hasListener(an.RENDERCOMPLETE)&&!e.animate&&!this.tileQueue_.getTilesLoading()&&!this.getLoading()&&this.renderer_.dispatchRenderEvent(an.RENDERCOMPLETE,e);for(var s=this.postRenderFunctions_,u=0,l=s.length;u<l;++u)s[u](this,e);s.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()&&(e=this.getTargetElement()),this.mapBrowserEventHandler_){for(var A=0,n=this.keyHandlerKeys_.length;A<n;++A)it(this.keyHandlerKeys_[A]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener($.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener($.WHEEL,this.boundHandleBrowserEvent_),this.handleResize_!==void 0&&(removeEventListener($.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Aa(this.viewport_)}if(!e)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{e.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new sF(this,this.moveTolerance_);for(var i in ke)this.mapBrowserEventHandler_.addEventListener(ke[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener($.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener($.WHEEL,this.boundHandleBrowserEvent_,qh?{passive:!1}:!1);var o=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[Ve(o,$.KEYDOWN,this.handleBrowserEvent,this),Ve(o,$.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener($.RESIZE,this.handleResize_,!1))}this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(it(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(it(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Ve(e,jr.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Ve(e,$.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(it),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[Ve(e,jr.PROPERTYCHANGE,this.render,this),Ve(e,$.CHANGE,this.render,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),A=0,n=e.length;A<n;++A){var i=e[A].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(e){return this.getControls().remove(e)},t.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},t.prototype.removeLayer=function(e){var A=this.getLayerGroup().getLayers();return A.remove(e)},t.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},t.prototype.renderFrame_=function(e){var A=this,n=this.getSize(),i=this.getView(),o=this.frameState_,a=null;if(n!==void 0&&Vh(n)&&i&&i.isDef()){var s=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=i.getState();if(a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:bn(u.center,u.resolution,u.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:u,viewHints:s,wantedTiles:{}},u.nextCenter&&u.nextResolution){var l=isNaN(u.nextRotation)?u.rotation:u.nextRotation;a.nextExtent=bn(u.nextCenter,u.nextResolution,l,n)}}if(this.frameState_=a,this.renderer_.renderFrame(a),a){if(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),o){var f=!this.previousExtent_||!Zi(this.previousExtent_)&&!Dn(a.extent,this.previousExtent_);f&&(this.dispatchEvent(new ba(co.MOVESTART,this,o)),this.previousExtent_=Yi(this.previousExtent_))}var h=this.previousExtent_&&!a.viewHints[xt.ANIMATING]&&!a.viewHints[xt.INTERACTING]&&!Dn(a.extent,this.previousExtent_);h&&(this.dispatchEvent(new ba(co.MOVEEND,this,a)),cc(a.extent,this.previousExtent_))}this.dispatchEvent(new ba(co.POSTRENDER,this,a)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){A.postRenderTimeoutHandle_=void 0,A.handlePostRender()},0))},t.prototype.setLayerGroup=function(e){this.set(Dt.LAYERGROUP,e)},t.prototype.setSize=function(e){this.set(Dt.SIZE,e)},t.prototype.setTarget=function(e){this.set(Dt.TARGET,e)},t.prototype.setView=function(e){if(!e||e instanceof Tr){this.set(Dt.VIEW,e);return}this.set(Dt.VIEW,new Tr);var A=this;e.then(function(n){A.setView(new Tr(n))})},t.prototype.updateSize=function(){var e=this.getTargetElement(),A=void 0;if(e){var n=getComputedStyle(e),i=e.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),o=e.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);!isNaN(i)&&!isNaN(o)&&(A=[i,o],!Vh(A)&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(A),this.updateViewportSize_()},t.prototype.updateViewportSize_=function(){var e=this.getView();if(e){var A=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(A=[parseInt(n.width,10),parseInt(n.height,10)]),e.setViewportSize(A)}},t}(SA);function UF(r){var t=null;r.keyboardEventTarget!==void 0&&(t=typeof r.keyboardEventTarget=="string"?document.getElementById(r.keyboardEventTarget):r.keyboardEventTarget);var e={},A=r.layers&&typeof r.layers.getLayers=="function"?r.layers:new lo({layers:r.layers});e[Dt.LAYERGROUP]=A,e[Dt.TARGET]=r.target,e[Dt.VIEW]=r.view instanceof Tr?r.view:new Tr;var n;r.controls!==void 0&&(Array.isArray(r.controls)?n=new $t(r.controls.slice()):(ae(typeof r.controls.getArray=="function",47),n=r.controls));var i;r.interactions!==void 0&&(Array.isArray(r.interactions)?i=new $t(r.interactions.slice()):(ae(typeof r.interactions.getArray=="function",48),i=r.interactions));var o;return r.overlays!==void 0?Array.isArray(r.overlays)?o=new $t(r.overlays.slice()):(ae(typeof r.overlays.getArray=="function",49),o=r.overlays):o=new $t,{controls:n,interactions:i,keyboardEventTarget:t,overlays:o,values:e}}var SF=IF,xF=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),TF=function(r){xF(t,r);function t(e){var A=r.call(this)||this,n=e.element;return n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),A.element=n||null,A.target_=null,A.map_=null,A.listenerKeys=[],e.render&&(A.render=e.render),e.target&&A.setTarget(e.target),A}return t.prototype.disposeInternal=function(){Aa(this.element),r.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(e){this.map_&&Aa(this.element);for(var A=0,n=this.listenerKeys.length;A<n;++A)it(this.listenerKeys[A]);if(this.listenerKeys.length=0,this.map_=e,this.map_){var i=this.target_?this.target_:e.getOverlayContainerStopEvent();i.appendChild(this.element),this.render!==Jr&&this.listenerKeys.push(Ve(e,co.POSTRENDER,this.render,this)),e.render()}},t.prototype.render=function(e){},t.prototype.setTarget=function(e){this.target_=typeof e=="string"?document.getElementById(e):e},t}(SA),Ai=TF,OF=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),RF=function(r){OF(t,r);function t(e){var A=this,n=e||{};A=r.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this,A.ulElement_=document.createElement("ul"),A.collapsed_=n.collapsed!==void 0?n.collapsed:!0,A.userCollapsed_=A.collapsed_,A.overrideCollapsible_=n.collapsible!==void 0,A.collapsible_=n.collapsible!==void 0?n.collapsible:!0,A.collapsible_||(A.collapsed_=!1);var i=n.className!==void 0?n.className:"ol-attribution",o=n.tipLabel!==void 0?n.tipLabel:"Attributions",a=n.expandClassName!==void 0?n.expandClassName:i+"-expand",s=n.collapseLabel!==void 0?n.collapseLabel:"\u203A",u=n.collapseClassName!==void 0?n.collapseClassName:i+"-collpase";typeof s=="string"?(A.collapseLabel_=document.createElement("span"),A.collapseLabel_.textContent=s,A.collapseLabel_.className=u):A.collapseLabel_=s;var l=n.label!==void 0?n.label:"i";typeof l=="string"?(A.label_=document.createElement("span"),A.label_.textContent=l,A.label_.className=a):A.label_=l;var f=A.collapsible_&&!A.collapsed_?A.collapseLabel_:A.label_;A.toggleButton_=document.createElement("button"),A.toggleButton_.setAttribute("type","button"),A.toggleButton_.setAttribute("aria-expanded",String(!A.collapsed_)),A.toggleButton_.title=o,A.toggleButton_.appendChild(f),A.toggleButton_.addEventListener($.CLICK,A.handleClick_.bind(A),!1);var h=i+" "+Mn+" "+aa+(A.collapsed_&&A.collapsible_?" "+ic:"")+(A.collapsible_?"":" ol-uncollapsible"),c=A.element;return c.className=h,c.appendChild(A.toggleButton_),c.appendChild(A.ulElement_),A.renderedAttributions_=[],A.renderedVisible_=!0,A}return t.prototype.collectSourceAttributions_=function(e){for(var A={},n=[],i=!0,o=e.layerStatesArray,a=0,s=o.length;a<s;++a){var u=o[a];if(!!Sa(u,e.viewState)){var l=u.layer.getSource();if(!!l){var f=l.getAttributions();if(!!f){var h=f(e);if(!!h)if(i=i&&l.getAttributionsCollapsible()!==!1,Array.isArray(h))for(var c=0,d=h.length;c<d;++c)h[c]in A||(n.push(h[c]),A[h[c]]=!0);else h in A||(n.push(h),A[h]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(i),n},t.prototype.updateElement_=function(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var A=this.collectSourceAttributions_(e),n=A.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!zr(A,this.renderedAttributions_)){ec(this.ulElement_);for(var i=0,o=A.length;i<o;++i){var a=document.createElement("li");a.innerHTML=A[i],this.ulElement_.appendChild(a)}this.renderedAttributions_=A}},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},t.prototype.handleToggle_=function(){this.element.classList.toggle(ic),this.collapsed_?ta(this.collapseLabel_,this.label_):ta(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.render=function(e){this.updateElement_(e.frameState)},t}(Ai),LF=RF,MF=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),PF=function(r){MF(t,r);function t(e){var A=this,n=e||{};A=r.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this;var i=n.className!==void 0?n.className:"ol-rotate",o=n.label!==void 0?n.label:"\u21E7",a=n.compassClassName!==void 0?n.compassClassName:"ol-compass";A.label_=null,typeof o=="string"?(A.label_=document.createElement("span"),A.label_.className=a,A.label_.textContent=o):(A.label_=o,A.label_.classList.add(a));var s=n.tipLabel?n.tipLabel:"Reset rotation",u=document.createElement("button");u.className=i+"-reset",u.setAttribute("type","button"),u.title=s,u.appendChild(A.label_),u.addEventListener($.CLICK,A.handleClick_.bind(A),!1);var l=i+" "+Mn+" "+aa,f=A.element;return f.className=l,f.appendChild(u),A.callResetNorth_=n.resetNorth?n.resetNorth:void 0,A.duration_=n.duration!==void 0?n.duration:250,A.autoHide_=n.autoHide!==void 0?n.autoHide:!0,A.rotation_=void 0,A.autoHide_&&A.element.classList.add(oa),A}return t.prototype.handleClick_=function(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var e=this.getMap(),A=e.getView();if(!!A){var n=A.getRotation();n!==void 0&&(this.duration_>0&&n%(2*Math.PI)!=0?A.animate({rotation:0,duration:this.duration_,easing:ti}):A.setRotation(0))}},t.prototype.render=function(e){var A=e.frameState;if(!!A){var n=A.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var o=this.element.classList.contains(oa);!o&&n===0?this.element.classList.add(oa):o&&n!==0&&this.element.classList.remove(oa)}this.label_.style.transform=i}this.rotation_=n}},t}(Ai),HF=PF,NF=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),DF=function(r){NF(t,r);function t(e){var A=this,n=e||{};A=r.call(this,{element:document.createElement("div"),target:n.target})||this;var i=n.className!==void 0?n.className:"ol-zoom",o=n.delta!==void 0?n.delta:1,a=n.zoomInClassName!==void 0?n.zoomInClassName:i+"-in",s=n.zoomOutClassName!==void 0?n.zoomOutClassName:i+"-out",u=n.zoomInLabel!==void 0?n.zoomInLabel:"+",l=n.zoomOutLabel!==void 0?n.zoomOutLabel:"\u2013",f=n.zoomInTipLabel!==void 0?n.zoomInTipLabel:"Zoom in",h=n.zoomOutTipLabel!==void 0?n.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=a,c.setAttribute("type","button"),c.title=f,c.appendChild(typeof u=="string"?document.createTextNode(u):u),c.addEventListener($.CLICK,A.handleClick_.bind(A,o),!1);var d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=h,d.appendChild(typeof l=="string"?document.createTextNode(l):l),d.addEventListener($.CLICK,A.handleClick_.bind(A,-o),!1);var p=i+" "+Mn+" "+aa,B=A.element;return B.className=p,B.appendChild(c),B.appendChild(d),A.duration_=n.duration!==void 0?n.duration:250,A}return t.prototype.handleClick_=function(e,A){A.preventDefault(),this.zoomByDelta_(e)},t.prototype.zoomByDelta_=function(e){var A=this.getMap(),n=A.getView();if(!!n){var i=n.getZoom();if(i!==void 0){var o=n.getConstrainedZoom(i+e);this.duration_>0?(n.getAnimating()&&n.cancelAnimations(),n.animate({zoom:o,duration:this.duration_,easing:ti})):n.setZoom(o)}}},t}(Ai),GF=DF,bF=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),cp=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],dp={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"},KF=function(r){bF(t,r);function t(e){var A=this,n=e||{};A=r.call(this,{element:document.createElement("div"),target:n.target})||this,A.on,A.once,A.un,A.cssClassName_=n.className!==void 0?n.className:"ol-full-screen",A.activeClassName_=n.activeClassName!==void 0?n.activeClassName.split(" "):[A.cssClassName_+"-true"],A.inactiveClassName_=n.inactiveClassName!==void 0?n.inactiveClassName.split(" "):[A.cssClassName_+"-false"];var i=n.label!==void 0?n.label:"\u2922";A.labelNode_=typeof i=="string"?document.createTextNode(i):i;var o=n.labelActive!==void 0?n.labelActive:"\xD7";A.labelActiveNode_=typeof o=="string"?document.createTextNode(o):o,A.button_=document.createElement("button");var a=n.tipLabel?n.tipLabel:"Toggle full-screen";A.setClassName_(A.button_,Rl()),A.button_.setAttribute("type","button"),A.button_.title=a,A.button_.appendChild(A.labelNode_),A.button_.addEventListener($.CLICK,A.handleClick_.bind(A),!1);var s=A.cssClassName_+" "+Mn+" "+aa+" "+(pp()?"":gB),u=A.element;return u.className=s,u.appendChild(A.button_),A.keys_=n.keys!==void 0?n.keys:!1,A.source_=n.source,A}return t.prototype.handleClick_=function(e){e.preventDefault(),this.handleFullScreen_()},t.prototype.handleFullScreen_=function(){if(!!pp()){var e=this.getMap();if(!!e)if(Rl())VF();else{var A=void 0;this.source_?A=typeof this.source_=="string"?document.getElementById(this.source_):this.source_:A=e.getTargetElement(),this.keys_?kF(A):gp(A)}}},t.prototype.handleFullScreenChange_=function(){var e=this.getMap();Rl()?(this.setClassName_(this.button_,!0),ta(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(dp.ENTERFULLSCREEN)):(this.setClassName_(this.button_,!1),ta(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(dp.LEAVEFULLSCREEN)),e&&e.updateSize()},t.prototype.setClassName_=function(e,A){var n,i,o,a=this.activeClassName_,s=this.inactiveClassName_,u=A?a:s;(n=e.classList).remove.apply(n,a),(i=e.classList).remove.apply(i,s),(o=e.classList).add.apply(o,u)},t.prototype.setMap=function(e){if(r.prototype.setMap.call(this,e),e)for(var A=0,n=cp.length;A<n;++A)this.listenerKeys.push(Ve(document,cp[A],this.handleFullScreenChange_,this))},t}(Ai);function pp(){var r=document.body;return!!(r.webkitRequestFullscreen||r.msRequestFullscreen&&document.msFullscreenEnabled||r.requestFullscreen&&document.fullscreenEnabled)}function Rl(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function gp(r){r.requestFullscreen?r.requestFullscreen():r.msRequestFullscreen?r.msRequestFullscreen():r.webkitRequestFullscreen&&r.webkitRequestFullscreen()}function kF(r){r.webkitRequestFullscreen?r.webkitRequestFullscreen():gp(r)}function VF(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}var YF=KF,XF=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Ll="projection",vp="coordinateFormat",WF=function(r){XF(t,r);function t(e){var A=this,n=e||{},i=document.createElement("div");i.className=n.className!==void 0?n.className:"ol-mouse-position",A=r.call(this,{element:i,render:n.render,target:n.target})||this,A.on,A.once,A.un,A.addChangeListener(Ll,A.handleProjectionChanged_),n.coordinateFormat&&A.setCoordinateFormat(n.coordinateFormat),n.projection&&A.setProjection(n.projection);var o=!0,a="&#160;";return"undefinedHTML"in n?(n.undefinedHTML!==void 0&&(a=n.undefinedHTML),o=!!a):"placeholder"in n&&(n.placeholder===!1?o=!1:a=String(n.placeholder)),A.placeholder_=a,A.renderOnMouseOut_=o,A.renderedHTML_=i.innerHTML,A.mapProjection_=null,A.transform_=null,A}return t.prototype.handleProjectionChanged_=function(){this.transform_=null},t.prototype.getCoordinateFormat=function(){return this.get(vp)},t.prototype.getProjection=function(){return this.get(Ll)},t.prototype.handleMouseMove=function(e){var A=this.getMap();this.updateHTML_(A.getEventPixel(e))},t.prototype.handleMouseOut=function(e){this.updateHTML_(null)},t.prototype.setMap=function(e){if(r.prototype.setMap.call(this,e),e){var A=e.getViewport();this.listenerKeys.push(Ve(A,ho.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Ve(A,ho.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}},t.prototype.setCoordinateFormat=function(e){this.set(vp,e)},t.prototype.setProjection=function(e){this.set(Ll,ze(e))},t.prototype.updateHTML_=function(e){var A=this.placeholder_;if(e&&this.mapProjection_){if(!this.transform_){var n=this.getProjection();n?this.transform_=no(this.mapProjection_,n):this.transform_=qu}var i=this.getMap(),o=i.getCoordinateFromPixelInternal(e);if(o){var a=$n();a&&(this.transform_=no(this.mapProjection_,a)),this.transform_(o,o);var s=this.getCoordinateFormat();s?A=s(o):A=o.toString()}}(!this.renderedHTML_||A!==this.renderedHTML_)&&(this.element.innerHTML=A,this.renderedHTML_=A)},t.prototype.render=function(e){var A=e.frameState;A?this.mapProjection_!=A.viewState.projection&&(this.mapProjection_=A.viewState.projection,this.transform_=null):this.mapProjection_=null},t}(Ai),jF=WF,rA={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},ZF=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Gt={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},zF=function(r){ZF(t,r);function t(e){var A=r.call(this)||this;A.on,A.once,A.un,A.options=e,A.id=e.id,A.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,A.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,A.element=document.createElement("div"),A.element.className=e.className!==void 0?e.className:"ol-overlay-container "+pB,A.element.style.position="absolute",A.element.style.pointerEvents="auto";var n=e.autoPan;return n&&typeof n!="object"&&(n={animation:e.autoPanAnimation,margin:e.autoPanMargin}),A.autoPan=n||!1,A.rendered={transform_:"",visible:!0},A.mapPostrenderListenerKey=null,A.addChangeListener(Gt.ELEMENT,A.handleElementChanged),A.addChangeListener(Gt.MAP,A.handleMapChanged),A.addChangeListener(Gt.OFFSET,A.handleOffsetChanged),A.addChangeListener(Gt.POSITION,A.handlePositionChanged),A.addChangeListener(Gt.POSITIONING,A.handlePositioningChanged),e.element!==void 0&&A.setElement(e.element),A.setOffset(e.offset!==void 0?e.offset:[0,0]),A.setPositioning(e.positioning!==void 0?e.positioning:rA.TOP_LEFT),e.position!==void 0&&A.setPosition(e.position),A}return t.prototype.getElement=function(){return this.get(Gt.ELEMENT)},t.prototype.getId=function(){return this.id},t.prototype.getMap=function(){return this.get(Gt.MAP)},t.prototype.getOffset=function(){return this.get(Gt.OFFSET)},t.prototype.getPosition=function(){return this.get(Gt.POSITION)},t.prototype.getPositioning=function(){return this.get(Gt.POSITIONING)},t.prototype.handleElementChanged=function(){ec(this.element);var e=this.getElement();e&&this.element.appendChild(e)},t.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Aa(this.element),it(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=Ve(e,co.POSTRENDER,this.render,this),this.updatePixelPosition();var A=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?A.insertBefore(this.element,A.childNodes[0]||null):A.appendChild(this.element),this.performAutoPan()}},t.prototype.render=function(){this.updatePixelPosition()},t.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},t.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},t.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},t.prototype.setElement=function(e){this.set(Gt.ELEMENT,e)},t.prototype.setMap=function(e){this.set(Gt.MAP,e)},t.prototype.setOffset=function(e){this.set(Gt.OFFSET,e)},t.prototype.setPosition=function(e){this.set(Gt.POSITION,e)},t.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},t.prototype.panIntoView=function(e){var A=this.getMap();if(!(!A||!A.getTargetElement()||!this.get(Gt.POSITION))){var n=this.getRect(A.getTargetElement(),A.getSize()),i=this.getElement(),o=this.getRect(i,[eB(i),tB(i)]),a=e||{},s=a.margin===void 0?20:a.margin;if(!GA(n,o)){var u=o[0]-n[0],l=n[2]-o[2],f=o[1]-n[1],h=n[3]-o[3],c=[0,0];if(u<0?c[0]=u-s:l<0&&(c[0]=Math.abs(l)+s),f<0?c[1]=f-s:h<0&&(c[1]=Math.abs(h)+s),c[0]!==0||c[1]!==0){var d=A.getView().getCenterInternal(),p=A.getPixelFromCoordinateInternal(d);if(!p)return;var B=[p[0]+c[0],p[1]+c[1]],g=a.animation||{};A.getView().animateInternal({center:A.getCoordinateFromPixelInternal(B),duration:g.duration,easing:g.easing})}}}},t.prototype.getRect=function(e,A){var n=e.getBoundingClientRect(),i=n.left+window.pageXOffset,o=n.top+window.pageYOffset;return[i,o,i+A[0],o+A[1]]},t.prototype.setPositioning=function(e){this.set(Gt.POSITIONING,e)},t.prototype.setVisible=function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)},t.prototype.updatePixelPosition=function(){var e=this.getMap(),A=this.getPosition();if(!e||!e.isRendered()||!A){this.setVisible(!1);return}var n=e.getPixelFromCoordinate(A),i=e.getSize();this.updateRenderedPosition(n,i)},t.prototype.updateRenderedPosition=function(e,A){var n=this.element.style,i=this.getOffset(),o=this.getPositioning();this.setVisible(!0);var a=Math.round(e[0]+i[0])+"px",s=Math.round(e[1]+i[1])+"px",u="0%",l="0%";o==rA.BOTTOM_RIGHT||o==rA.CENTER_RIGHT||o==rA.TOP_RIGHT?u="-100%":(o==rA.BOTTOM_CENTER||o==rA.CENTER_CENTER||o==rA.TOP_CENTER)&&(u="-50%"),o==rA.BOTTOM_LEFT||o==rA.BOTTOM_CENTER||o==rA.BOTTOM_RIGHT?l="-100%":(o==rA.CENTER_LEFT||o==rA.CENTER_CENTER||o==rA.CENTER_RIGHT)&&(l="-50%");var f="translate("+u+", "+l+") translate("+a+", "+s+")";this.rendered.transform_!=f&&(this.rendered.transform_=f,n.transform=f,n.msTransform=f)},t.prototype.getOptions=function(){return this.options},t}(SA),$F=zF,JF=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Ml="units",pn={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},qF=[1,2,5],Pl=25.4/.28,eQ=function(r){JF(t,r);function t(e){var A=this,n=e||{},i=n.className!==void 0?n.className:n.bar?"ol-scale-bar":"ol-scale-line";return A=r.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this,A.on,A.once,A.un,A.innerElement_=document.createElement("div"),A.innerElement_.className=i+"-inner",A.element.className=i+" "+Mn,A.element.appendChild(A.innerElement_),A.viewState_=null,A.minWidth_=n.minWidth!==void 0?n.minWidth:64,A.renderedVisible_=!1,A.renderedWidth_=void 0,A.renderedHTML_="",A.addChangeListener(Ml,A.handleUnitsChanged_),A.setUnits(n.units||pn.METRIC),A.scaleBar_=n.bar||!1,A.scaleBarSteps_=n.steps||4,A.scaleBarText_=n.text||!1,A.dpi_=n.dpi||void 0,A}return t.prototype.getUnits=function(){return this.get(Ml)},t.prototype.handleUnitsChanged_=function(){this.updateElement_()},t.prototype.setUnits=function(e){this.set(Ml,e)},t.prototype.setDpi=function(e){this.dpi_=e},t.prototype.updateElement_=function(){var e=this.viewState_;if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var A=e.center,n=e.projection,i=this.getUnits(),o=i==pn.DEGREES?pA.DEGREES:pA.METERS,a=Fa(n,e.resolution,A,o),s=this.minWidth_*(this.dpi_||Pl)/Pl,u=s*a,l="";if(i==pn.DEGREES){var f=OA[pA.DEGREES];u*=f,u<f/60?(l="\u2033",a*=3600):u<f?(l="\u2032",a*=60):l="\xB0"}else i==pn.IMPERIAL?u<.9144?(l="in",a/=.0254):u<1609.344?(l="ft",a/=.3048):(l="mi",a/=1609.344):i==pn.NAUTICAL?(a/=1852,l="nm"):i==pn.METRIC?u<.001?(l="\u03BCm",a*=1e6):u<1?(l="mm",a*=1e3):u<1e3?l="m":(l="km",a/=1e3):i==pn.US?u<.9144?(l="in",a*=39.37):u<1609.344?(l="ft",a/=.30480061):(l="mi",a/=1609.3472):ae(!1,33);for(var h=3*Math.floor(Math.log(s*a)/Math.log(10)),c,d,p;;){p=Math.floor(h/3);var B=Math.pow(10,p);if(c=qF[(h%3+3)%3]*B,d=Math.round(c/a),isNaN(d)){this.element.style.display="none",this.renderedVisible_=!1;return}else if(d>=s)break;++h}var g;this.scaleBar_?g=this.createScaleBar(d,c,l):g=c.toFixed(p<0?-p:0)+" "+l,this.renderedHTML_!=g&&(this.innerElement_.innerHTML=g,this.renderedHTML_=g),this.renderedWidth_!=d&&(this.innerElement_.style.width=d+"px",this.renderedWidth_=d),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)},t.prototype.createScaleBar=function(e,A,n){for(var i="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),o=[],a=e/this.scaleBarSteps_,s="#ffffff",u=0;u<this.scaleBarSteps_;u++)u===0&&o.push(this.createMarker("absolute",u)),o.push('<div><div class="ol-scale-singlebar" style="width: '+a+"px;background-color: "+s+';"></div>'+this.createMarker("relative",u)+(u%2==0||this.scaleBarSteps_===2?this.createStepText(u,e,!1,A,n):"")+"</div>"),u===this.scaleBarSteps_-1&&o.push(this.createStepText(u+1,e,!0,A,n)),s==="#ffffff"?s="#000000":s="#ffffff";var l;this.scaleBarText_?l='<div class="ol-scale-text" style="width: '+e+'px;">'+i+"</div>":l="";var f='<div style="display: flex;">'+l+o.join("")+"</div>";return f},t.prototype.createMarker=function(e,A){var n=e==="absolute"?3:-10;return'<div class="ol-scale-step-marker" style="position: '+e+";top: "+n+'px;"></div>'},t.prototype.createStepText=function(e,A,n,i,o){var a=e===0?0:Math.round(i/this.scaleBarSteps_*e*100)/100,s=a+(e===0?"":" "+o),u=e===0?-3:A/this.scaleBarSteps_*-1,l=e===0?0:A/this.scaleBarSteps_*2;return'<div class="ol-scale-step-text" style="margin-left: '+u+"px;text-align: "+(e===0?"left":"center")+"; min-width: "+l+"px;left: "+(n?A+"px":"unset")+';">'+s+"</div>"},t.prototype.getScaleForResolution=function(){var e=Fa(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center),A=this.dpi_||Pl,n=this.viewState_.projection.getMetersPerUnit(),i=1e3/25.4;return parseFloat(e.toString())*n*i*A},t.prototype.render=function(e){var A=e.frameState;A?this.viewState_=A.viewState:this.viewState_=null,this.updateElement_()},t}(Ai),tQ=eQ;function Bp(r){var t=r||{},e=new $t,A=t.zoom!==void 0?t.zoom:!0;A&&e.push(new GF(t.zoomOptions));var n=t.rotate!==void 0?t.rotate:!0;n&&e.push(new HF(t.rotateOptions));var i=t.attribution!==void 0?t.attribution:!0;return i&&e.push(new LF(t.attributionOptions)),e}var Hl={ACTIVE:"active"},AQ=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),rQ=function(r){AQ(t,r);function t(e){var A=r.call(this)||this;return A.on,A.once,A.un,e&&e.handleEvent&&(A.handleEvent=e.handleEvent),A.map_=null,A.setActive(!0),A}return t.prototype.getActive=function(){return this.get(Hl.ACTIVE)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(e){return!0},t.prototype.setActive=function(e){this.set(Hl.ACTIVE,e)},t.prototype.setMap=function(e){this.map_=e},t}(SA);function nQ(r,t,e){var A=r.getCenterInternal();if(A){var n=[A[0]+t[0],A[1]+t[1]];r.animateInternal({duration:e!==void 0?e:250,easing:rE,center:r.getConstrainedCenter(n)})}}function Nl(r,t,e,A){var n=r.getZoom();if(n!==void 0){var i=r.getConstrainedZoom(n+t),o=r.getResolutionForZoom(i);r.getAnimating()&&r.cancelAnimations(),r.animate({resolution:o,anchor:e,duration:A!==void 0?A:250,easing:ti})}}var po=rQ,iQ=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),oQ=function(r){iQ(t,r);function t(e){var A=r.call(this)||this,n=e||{};return A.delta_=n.delta?n.delta:1,A.duration_=n.duration!==void 0?n.duration:250,A}return t.prototype.handleEvent=function(e){var A=!1;if(e.type==ke.DBLCLICK){var n=e.originalEvent,i=e.map,o=e.coordinate,a=n.shiftKey?-this.delta_:this.delta_,s=i.getView();Nl(s,a,o,this.duration_),n.preventDefault(),A=!0}return!A},t}(po),aQ=oQ,sQ=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),uQ=function(r){sQ(t,r);function t(e){var A=this,n=e||{};return A=r.call(this,n)||this,n.handleDownEvent&&(A.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(A.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(A.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(A.handleUpEvent=n.handleUpEvent),n.stopDown&&(A.stopDown=n.stopDown),A.handlingDownUpSequence=!1,A.trackedPointers_={},A.targetPointers=[],A}return t.prototype.getPointerCount=function(){return this.targetPointers.length},t.prototype.handleDownEvent=function(e){return!1},t.prototype.handleDragEvent=function(e){},t.prototype.handleEvent=function(e){if(!e.originalEvent)return!0;var A=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==ke.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==ke.POINTERUP){var n=this.handleUpEvent(e);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(e.type==ke.POINTERDOWN){var i=this.handleDownEvent(e);this.handlingDownUpSequence=i,A=this.stopDown(i)}else e.type==ke.POINTERMOVE&&this.handleMoveEvent(e);return!A},t.prototype.handleMoveEvent=function(e){},t.prototype.handleUpEvent=function(e){return!1},t.prototype.stopDown=function(e){return e},t.prototype.updateTrackedPointers_=function(e){if(lQ(e)){var A=e.originalEvent,n=A.pointerId.toString();e.type==ke.POINTERUP?delete this.trackedPointers_[n]:e.type==ke.POINTERDOWN?this.trackedPointers_[n]=A:n in this.trackedPointers_&&(this.trackedPointers_[n]=A),this.targetPointers=tc(this.trackedPointers_)}},t}(po);function Dl(r){for(var t=r.length,e=0,A=0,n=0;n<t;n++)e+=r[n].clientX,A+=r[n].clientY;return[e/t,A/t]}function lQ(r){var t=r.type;return t===ke.POINTERDOWN||t===ke.POINTERDRAG||t===ke.POINTERUP}var gn=uQ;function Gl(r){var t=arguments;return function(e){for(var A=!0,n=0,i=t.length;n<i&&(A=A&&t[n](e),!!A);++n);return A}}var fQ=function(r){var t=r.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},hQ=function(r){var t=r.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},cQ=function(r){return r.target.getTargetElement().contains(document.activeElement)},yp=function(r){return r.map.getTargetElement().hasAttribute("tabindex")?cQ(r):!0},bl=$r,_p=function(r){var t=r.originalEvent;return t.button==0&&!($1&&J1&&t.ctrlKey)},dQ=function(r){return r.type==ke.SINGLECLICK},Kl=function(r){var t=r.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},wp=function(r){var t=r.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},mp=function(r){var t=r.originalEvent,e=t.target.tagName;return e!=="INPUT"&&e!=="SELECT"&&e!=="TEXTAREA"},kl=function(r){var t=r.originalEvent;return ae(t!==void 0,56),t.pointerType=="mouse"},Cp=function(r){var t=r.originalEvent;return ae(t!==void 0,56),t.isPrimary&&t.button===0},pQ=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),gQ=function(r){pQ(t,r);function t(e){var A=r.call(this,{stopDown:Mi})||this,n=e||{};A.kinetic_=n.kinetic,A.lastCentroid=null,A.lastPointersCount_,A.panning_=!1;var i=n.condition?n.condition:Gl(Kl,Cp);return A.condition_=n.onFocusOnly?Gl(yp,i):i,A.noKinetic_=!1,A}return t.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var A=this.targetPointers,n=Dl(A);if(A.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var i=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],o=e.map,a=o.getView();Rw(i,a.getResolution()),$u(i,a.getRotation()),a.adjustCenterInternal(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=A.length,e.originalEvent.preventDefault()},t.prototype.handleUpEvent=function(e){var A=e.map,n=A.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),a=n.getCenterInternal(),s=A.getPixelFromCoordinateInternal(a),u=A.getCoordinateFromPixelInternal([s[0]-i*Math.cos(o),s[1]-i*Math.sin(o)]);n.animateInternal({center:n.getConstrainedCenter(u),duration:500,easing:ti})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var A=e.map,n=A.getView();return this.lastCentroid=null,n.getAnimating()&&n.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},t}(gn),vQ=gQ,BQ=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),yQ=function(r){BQ(t,r);function t(e){var A=this,n=e||{};return A=r.call(this,{stopDown:Mi})||this,A.condition_=n.condition?n.condition:hQ,A.lastAngle_=void 0,A.duration_=n.duration!==void 0?n.duration:250,A}return t.prototype.handleDragEvent=function(e){if(!!kl(e)){var A=e.map,n=A.getView();if(n.getConstraints().rotation!==xl){var i=A.getSize(),o=e.pixel,a=Math.atan2(i[1]/2-o[1],o[0]-i[0]/2);if(this.lastAngle_!==void 0){var s=a-this.lastAngle_;n.adjustRotationInternal(-s)}this.lastAngle_=a}}},t.prototype.handleUpEvent=function(e){if(!kl(e))return!0;var A=e.map,n=A.getView();return n.endInteraction(this.duration_),!1},t.prototype.handleDownEvent=function(e){if(!kl(e))return!1;if(_p(e)&&this.condition_(e)){var A=e.map;return A.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},t}(gn),_Q=yQ,wQ=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),mQ=function(r){wQ(t,r);function t(e){var A=r.call(this)||this;return A.geometry_=null,A.element_=document.createElement("div"),A.element_.style.position="absolute",A.element_.style.pointerEvents="auto",A.element_.className="ol-box "+e,A.map_=null,A.startPixel_=null,A.endPixel_=null,A}return t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var e=this.startPixel_,A=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(e[0],A[0])+n,i.top=Math.min(e[1],A[1])+n,i.width=Math.abs(A[0]-e[0])+n,i.height=Math.abs(A[1]-e[1])+n},t.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var A=this.element_.style;A.left="inherit",A.top="inherit",A.width="inherit",A.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(e,A){this.startPixel_=e,this.endPixel_=A,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,A=this.endPixel_,n=[e,[e[0],A[1]],A,[A[0],e[1]]],i=n.map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new sr([i])},t.prototype.getGeometry=function(){return this.geometry_},t}(cu),CQ=mQ,Ep=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Va={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},Vl=function(r){Ep(t,r);function t(e,A,n){var i=r.call(this,e)||this;return i.coordinate=A,i.mapBrowserEvent=n,i}return t}(UA),EQ=function(r){Ep(t,r);function t(e){var A=r.call(this)||this;A.on,A.once,A.un;var n=e||{};return A.box_=new CQ(n.className||"ol-dragbox"),A.minArea_=n.minArea!==void 0?n.minArea:64,n.onBoxEnd&&(A.onBoxEnd=n.onBoxEnd),A.startPixel_=null,A.condition_=n.condition?n.condition:_p,A.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:A.defaultBoxEndCondition,A}return t.prototype.defaultBoxEndCondition=function(e,A,n){var i=n[0]-A[0],o=n[1]-A[1];return i*i+o*o>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Vl(Va.BOXDRAG,e.coordinate,e))},t.prototype.handleUpEvent=function(e){this.box_.setMap(null);var A=this.boxEndCondition_(e,this.startPixel_,e.pixel);return A&&this.onBoxEnd(e),this.dispatchEvent(new Vl(A?Va.BOXEND:Va.BOXCANCEL,e.coordinate,e)),!1},t.prototype.handleDownEvent=function(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Vl(Va.BOXSTART,e.coordinate,e)),!0):!1},t.prototype.onBoxEnd=function(e){},t}(gn),FQ=EQ,QQ=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),IQ=function(r){QQ(t,r);function t(e){var A=this,n=e||{},i=n.condition?n.condition:wp;return A=r.call(this,{condition:i,className:n.className||"ol-dragzoom",minArea:n.minArea})||this,A.duration_=n.duration!==void 0?n.duration:200,A.out_=n.out!==void 0?n.out:!1,A}return t.prototype.onBoxEnd=function(e){var A=this.getMap(),n=A.getView(),i=this.getGeometry();if(this.out_){var o=n.rotatedExtentForGeometry(i),a=n.getResolutionForExtentInternal(o),s=n.getResolution()/a;i=i.clone(),i.scale(s*s)}n.fitInternal(i,{duration:this.duration_,easing:ti})},t}(FQ),UQ=IQ,vn={LEFT:37,UP:38,RIGHT:39,DOWN:40},SQ=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),xQ=function(r){SQ(t,r);function t(e){var A=r.call(this)||this,n=e||{};return A.defaultCondition_=function(i){return Kl(i)&&mp(i)},A.condition_=n.condition!==void 0?n.condition:A.defaultCondition_,A.duration_=n.duration!==void 0?n.duration:100,A.pixelDelta_=n.pixelDelta!==void 0?n.pixelDelta:128,A}return t.prototype.handleEvent=function(e){var A=!1;if(e.type==$.KEYDOWN){var n=e.originalEvent,i=n.keyCode;if(this.condition_(e)&&(i==vn.DOWN||i==vn.LEFT||i==vn.RIGHT||i==vn.UP)){var o=e.map,a=o.getView(),s=a.getResolution()*this.pixelDelta_,u=0,l=0;i==vn.DOWN?l=-s:i==vn.LEFT?u=-s:i==vn.RIGHT?u=s:l=s;var f=[u,l];$u(f,a.getRotation()),nQ(a,f,this.duration_),n.preventDefault(),A=!0}}return!A},t}(po),TQ=xQ,OQ=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),RQ=function(r){OQ(t,r);function t(e){var A=r.call(this)||this,n=e||{};return A.condition_=n.condition?n.condition:mp,A.delta_=n.delta?n.delta:1,A.duration_=n.duration!==void 0?n.duration:100,A}return t.prototype.handleEvent=function(e){var A=!1;if(e.type==$.KEYDOWN||e.type==$.KEYPRESS){var n=e.originalEvent,i=n.charCode;if(this.condition_(e)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var o=e.map,a=i=="+".charCodeAt(0)?this.delta_:-this.delta_,s=o.getView();Nl(s,a,void 0,this.duration_),n.preventDefault(),A=!0}}return!A},t}(po),LQ=RQ,MQ=function(){function r(t,e,A){this.decay_=t,this.minVelocity_=e,this.delay_=A,this.points_=[],this.angle_=0,this.initialVelocity_=0}return r.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},r.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},r.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var A=e-3;A>0&&this.points_[A+2]>t;)A-=3;var n=this.points_[e+2]-this.points_[A+2];if(n<1e3/60)return!1;var i=this.points_[e]-this.points_[A],o=this.points_[e+1]-this.points_[A+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/n,this.initialVelocity_>this.minVelocity_},r.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},r.prototype.getAngle=function(){return this.angle_},r}(),PQ=MQ,HQ=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Yl={TRACKPAD:"trackpad",WHEEL:"wheel"},NQ=function(r){HQ(t,r);function t(e){var A=this,n=e||{};A=r.call(this,n)||this,A.totalDelta_=0,A.lastDelta_=0,A.maxDelta_=n.maxDelta!==void 0?n.maxDelta:1,A.duration_=n.duration!==void 0?n.duration:250,A.timeout_=n.timeout!==void 0?n.timeout:80,A.useAnchor_=n.useAnchor!==void 0?n.useAnchor:!0,A.constrainResolution_=n.constrainResolution!==void 0?n.constrainResolution:!1;var i=n.condition?n.condition:bl;return A.condition_=n.onFocusOnly?Gl(yp,i):i,A.lastAnchor_=null,A.startTime_=void 0,A.timeoutId_,A.mode_=void 0,A.trackpadEventGap_=400,A.trackpadTimeoutId_,A.deltaPerZoom_=300,A}return t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var e=this.getMap().getView();e.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var A=e.type;if(A!==$.WHEEL)return!0;var n=e.map,i=e.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);var o;if(e.type==$.WHEEL&&(o=i.deltaY,z1&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=Jh),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;var a=Date.now();this.startTime_===void 0&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?Yl.TRACKPAD:Yl.WHEEL);var s=n.getView();if(this.mode_===Yl.TRACKPAD&&!(s.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(s.getAnimating()&&s.cancelAnimations(),s.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),s.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=o;var u=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),u),!1},t.prototype.handleWheelZoom_=function(e){var A=e.getView();A.getAnimating()&&A.cancelAnimations();var n=-Ct(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(A.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),Nl(A,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},t}(po),DQ=NQ,GQ=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),bQ=function(r){GQ(t,r);function t(e){var A=this,n=e||{},i=n;return i.stopDown||(i.stopDown=Mi),A=r.call(this,i)||this,A.anchor_=null,A.lastAngle_=void 0,A.rotating_=!1,A.rotationDelta_=0,A.threshold_=n.threshold!==void 0?n.threshold:.3,A.duration_=n.duration!==void 0?n.duration:250,A}return t.prototype.handleDragEvent=function(e){var A=0,n=this.targetPointers[0],i=this.targetPointers[1],o=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(this.lastAngle_!==void 0){var a=o-this.lastAngle_;this.rotationDelta_+=a,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),A=a}this.lastAngle_=o;var s=e.map,u=s.getView();if(u.getConstraints().rotation!==xl){var l=s.getViewport().getBoundingClientRect(),f=Dl(this.targetPointers);f[0]-=l.left,f[1]-=l.top,this.anchor_=s.getCoordinateFromPixelInternal(f),this.rotating_&&(s.render(),u.adjustRotationInternal(A,this.anchor_))}},t.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var A=e.map,n=A.getView();return n.endInteraction(this.duration_),!1}else return!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var A=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||A.getView().beginInteraction(),!0}else return!1},t}(gn),KQ=bQ,kQ=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),VQ=function(r){kQ(t,r);function t(e){var A=this,n=e||{},i=n;return i.stopDown||(i.stopDown=Mi),A=r.call(this,i)||this,A.anchor_=null,A.duration_=n.duration!==void 0?n.duration:400,A.lastDistance_=void 0,A.lastScaleDelta_=1,A}return t.prototype.handleDragEvent=function(e){var A=1,n=this.targetPointers[0],i=this.targetPointers[1],o=n.clientX-i.clientX,a=n.clientY-i.clientY,s=Math.sqrt(o*o+a*a);this.lastDistance_!==void 0&&(A=this.lastDistance_/s),this.lastDistance_=s;var u=e.map,l=u.getView();A!=1&&(this.lastScaleDelta_=A);var f=u.getViewport().getBoundingClientRect(),h=Dl(this.targetPointers);h[0]-=f.left,h[1]-=f.top,this.anchor_=u.getCoordinateFromPixelInternal(h),u.render(),l.adjustResolutionInternal(A,this.anchor_)},t.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var A=e.map,n=A.getView(),i=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,i),!1}else return!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var A=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||A.getView().beginInteraction(),!0}else return!1},t}(gn),YQ=VQ,XQ=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Fp=function(r){XQ(t,r);function t(e,A,n){var i=r.call(this)||this;if(n!==void 0&&A===void 0)i.setFlatCoordinates(n,e);else{var o=A||0;i.setCenterAndRadius(e,o,n)}return i}return t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,A,n,i){var o=this.flatCoordinates,a=e-o[0],s=A-o[1],u=a*a+s*s;if(u<i){if(u===0)for(var l=0;l<this.stride;++l)n[l]=o[l];else{var f=this.getRadius()/Math.sqrt(u);n[0]=o[0]+f*a,n[1]=o[1]+f*s;for(var l=2;l<this.stride;++l)n[l]=o[l]}return n.length=this.stride,u}else return i},t.prototype.containsXY=function(e,A){var n=this.flatCoordinates,i=e-n[0],o=A-n[1];return i*i+o*o<=this.getRadiusSquared_()},t.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.computeExtent=function(e){var A=this.flatCoordinates,n=A[this.stride]-A[0];return AA(A[0]-n,A[1]-n,A[0]+n,A[1]+n,e)},t.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},t.prototype.getRadiusSquared_=function(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],A=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+A*A},t.prototype.getType=function(){return U.CIRCLE},t.prototype.intersectsExtent=function(e){var A=this.getExtent();if(Ht(e,A)){var n=this.getCenter();return e[0]<=n[0]&&e[2]>=n[0]||e[1]<=n[1]&&e[3]>=n[1]?!0:_u(e,this.intersectsCoordinate.bind(this))}return!1},t.prototype.setCenter=function(e){var A=this.stride,n=this.flatCoordinates[A]-this.flatCoordinates[0],i=e.slice();i[A]=i[0]+n;for(var o=1;o<A;++o)i[A+o]=e[o];this.setFlatCoordinates(this.layout,i),this.changed()},t.prototype.setCenterAndRadius=function(e,A,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,o=md(i,0,e,this.stride);i[o++]=i[0]+A;for(var a=1,s=this.stride;a<s;++a)i[o++]=i[a];i.length=o,this.changed()},t.prototype.getCoordinates=function(){return null},t.prototype.setCoordinates=function(e,A){},t.prototype.setRadius=function(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()},t.prototype.rotate=function(e,A){var n=this.getCenter(),i=this.getStride();this.setCenter(Xu(n,0,n.length,i,e,A,n)),this.changed()},t.prototype.translate=function(e,A){var n=this.getCenter(),i=this.getStride();this.setCenter(ed(n,0,n.length,i,e,A,n)),this.changed()},t}(Fr);Fp.prototype.transform;var WQ=Fp,Qp=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),$e={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},Ya={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},Xa=function(r){Qp(t,r);function t(e,A){var n=r.call(this,e)||this;return n.feature=A,n}return t}(UA),jQ=function(r){Qp(t,r);function t(e){var A=this,n=e;n.stopDown||(n.stopDown=Mi),A=r.call(this,n)||this,A.on,A.once,A.un,A.shouldHandle_=!1,A.downPx_=null,A.downTimeout_,A.lastDragTime_,A.pointerType_,A.freehand_=!1,A.source_=e.source?e.source:null,A.features_=e.features?e.features:null,A.snapTolerance_=e.snapTolerance?e.snapTolerance:12,A.type_=e.type,A.mode_=$Q(A.type_),A.stopClick_=!!e.stopClick,A.minPoints_=e.minPoints?e.minPoints:A.mode_===$e.POLYGON?3:2,A.maxPoints_=A.mode_===$e.CIRCLE?2:e.maxPoints?e.maxPoints:1/0,A.finishCondition_=e.finishCondition?e.finishCondition:$r;var i=e.geometryFunction;if(!i){var o=A.mode_;if(o===$e.CIRCLE)i=function(s,u,l){var f=u||new WQ([NaN,NaN]),h=lt(s[0]),c=zn(h,lt(s[s.length-1]));return f.setCenterAndRadius(h,Math.sqrt(c)),f};else{var a;o===$e.POINT?a=vA:o===$e.LINE_STRING?a=YA:o===$e.POLYGON&&(a=sr),i=function(s,u,l){return u?o===$e.POLYGON?s[0].length?u.setCoordinates([s[0].concat([s[0][0]])]):u.setCoordinates([]):u.setCoordinates(s):u=new a(s),u}}}return A.geometryFunction_=i,A.dragVertexDelay_=e.dragVertexDelay!==void 0?e.dragVertexDelay:500,A.finishCoordinate_=null,A.sketchFeature_=null,A.sketchPoint_=null,A.sketchCoords_=null,A.sketchLine_=null,A.sketchLineCoords_=null,A.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,A.overlay_=new hn({source:new dn({useSpatialIndex:!1,wrapX:e.wrapX?e.wrapX:!1}),style:e.style?e.style:ZQ(),updateWhileInteracting:!0}),A.geometryName_=e.geometryName,A.condition_=e.condition?e.condition:Kl,A.freehandCondition_,e.freehand?A.freehandCondition_=bl:A.freehandCondition_=e.freehandCondition?e.freehandCondition:wp,A.addChangeListener(Hl.ACTIVE,A.updateState_),A}return t.prototype.setMap=function(e){r.prototype.setMap.call(this,e),this.updateState_()},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleEvent=function(e){e.originalEvent.type===$.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!==$e.POINT&&this.freehandCondition_(e);var A=e.type===ke.POINTERMOVE,n=!0;if(!this.freehand_&&this.lastDragTime_&&e.type===ke.POINTERDRAG){var i=Date.now();i-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,A=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&e.type===ke.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(e.coordinate),n=!1):this.freehand_&&e.type===ke.POINTERDOWN?n=!1:A&&this.getPointerCount()<2?(n=e.type===ke.POINTERMOVE,n&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):(e.originalEvent.pointerType==="mouse"||e.type===ke.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(e)):e.type===ke.DBLCLICK&&(n=!1),r.prototype.handleEvent.call(this,e)&&n},t.prototype.handleDownEvent=function(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new ur(ke.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)},t.prototype.handleUpEvent=function(e){var A=!0;if(this.getPointerCount()===0)if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e),this.shouldHandle_){var n=!this.finishCoordinate_;n&&this.startDrawing_(e.coordinate),!n&&this.freehand_?this.finishDrawing():!this.freehand_&&(!n||this.mode_===$e.POINT)&&(this.atFinish_(e.pixel)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),A=!1}else this.freehand_&&this.abortDrawing();return!A&&this.stopClick_&&e.preventDefault(),A},t.prototype.handlePointerMove_=function(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var A=this.downPx_,n=e.pixel,i=A[0]-n[0],o=A[1]-n[1],a=i*i+o*o;if(this.shouldHandle_=this.freehand_?a>this.squaredClickTolerance_:a<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(e.coordinate):this.createOrUpdateSketchPoint_(e.coordinate.slice())},t.prototype.atFinish_=function(e){var A=!1;if(this.sketchFeature_){var n=!1,i=[this.finishCoordinate_],o=this.mode_;if(o===$e.POINT)A=!0;else if(o===$e.CIRCLE)A=this.sketchCoords_.length===2;else if(o===$e.LINE_STRING)n=this.sketchCoords_.length>this.minPoints_;else if(o===$e.POLYGON){var a=this.sketchCoords_;n=a[0].length>this.minPoints_,i=[a[0][0],a[0][a[0].length-2]]}if(n)for(var s=this.getMap(),u=0,l=i.length;u<l;u++){var f=i[u],h=s.getPixelFromCoordinate(f),c=e[0]-h[0],d=e[1]-h[1],p=this.freehand_?1:this.snapTolerance_;if(A=Math.sqrt(c*c+d*d)<=p,A){this.finishCoordinate_=f;break}}}return A},t.prototype.createOrUpdateSketchPoint_=function(e){if(!this.sketchPoint_)this.sketchPoint_=new ir(new vA(e)),this.updateSketchFeatures_();else{var A=this.sketchPoint_.getGeometry();A.setCoordinates(e)}},t.prototype.createOrUpdateCustomSketchLine_=function(e){this.sketchLine_||(this.sketchLine_=new ir);var A=e.getLinearRing(0),n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(A.getLayout(),A.getFlatCoordinates()),n.changed()):(n=new YA(A.getFlatCoordinates(),A.getLayout()),this.sketchLine_.setGeometry(n))},t.prototype.startDrawing_=function(e){var A=this.getMap().getView().getProjection();this.finishCoordinate_=e,this.mode_===$e.POINT?this.sketchCoords_=e.slice():this.mode_===$e.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new ir(new YA(this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_,void 0,A);this.sketchFeature_=new ir,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new Xa(Ya.DRAWSTART,this.sketchFeature_))},t.prototype.modifyDrawing_=function(e){var A=this.getMap(),n=this.sketchFeature_.getGeometry(),i=A.getView().getProjection(),o,a;if(this.mode_===$e.POINT?a=this.sketchCoords_:this.mode_===$e.POLYGON?(o=this.sketchCoords_[0],a=o[o.length-1],this.atFinish_(A.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(o=this.sketchCoords_,a=o[o.length-1]),a[0]=e[0],a[1]=e[1],this.geometryFunction_(this.sketchCoords_,n,i),this.sketchPoint_){var s=this.sketchPoint_.getGeometry();s.setCoordinates(e)}if(n.getType()===U.POLYGON&&this.mode_!==$e.POLYGON)this.createOrUpdateCustomSketchLine_(n);else if(this.sketchLineCoords_){var u=this.sketchLine_.getGeometry();u.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},t.prototype.addToDrawing_=function(e){var A=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),i,o,a=this.mode_;a===$e.LINE_STRING||a===$e.CIRCLE?(this.finishCoordinate_=e.slice(),o=this.sketchCoords_,o.length>=this.maxPoints_&&(this.freehand_?o.pop():i=!0),o.push(e.slice()),this.geometryFunction_(o,A,n)):a===$e.POLYGON&&(o=this.sketchCoords_[0],o.length>=this.maxPoints_&&(this.freehand_?o.pop():i=!0),o.push(e.slice()),i&&(this.finishCoordinate_=o[0]),this.geometryFunction_(this.sketchCoords_,A,n)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),i&&this.finishDrawing()},t.prototype.removeLastPoint=function(){if(!!this.sketchFeature_){var e=this.sketchFeature_.getGeometry(),A=this.getMap().getView().getProjection(),n,i=this.mode_;if(i===$e.LINE_STRING||i===$e.CIRCLE){if(n=this.sketchCoords_,n.splice(-2,1),n.length>=2){this.finishCoordinate_=n[n.length-2].slice();var o=this.finishCoordinate_.slice();n[n.length-1]=o,this.createOrUpdateSketchPoint_(o)}this.geometryFunction_(n,e,A),e.getType()===U.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if(i===$e.POLYGON){n=this.sketchCoords_[0],n.splice(-2,1);var a=this.sketchLine_.getGeometry();if(n.length>=2){var o=n[n.length-2].slice();n[n.length-1]=o,this.createOrUpdateSketchPoint_(o)}a.setCoordinates(n),this.geometryFunction_(this.sketchCoords_,e,A)}n.length===1&&this.abortDrawing(),this.updateSketchFeatures_()}},t.prototype.finishDrawing=function(){var e=this.abortDrawing_();if(!!e){var A=this.sketchCoords_,n=e.getGeometry(),i=this.getMap().getView().getProjection();this.mode_===$e.LINE_STRING?(A.pop(),this.geometryFunction_(A,n,i)):this.mode_===$e.POLYGON&&(A[0].pop(),this.geometryFunction_(A,n,i),A=n.getCoordinates()),this.type_===U.MULTI_POINT?e.setGeometry(new Ma([A])):this.type_===U.MULTI_LINE_STRING?e.setGeometry(new La([A])):this.type_===U.MULTI_POLYGON&&e.setGeometry(new Pa([A])),this.dispatchEvent(new Xa(Ya.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}},t.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),e},t.prototype.abortDrawing=function(){var e=this.abortDrawing_();e&&this.dispatchEvent(new Xa(Ya.DRAWABORT,e))},t.prototype.appendCoordinates=function(e){var A=this.mode_,n=!this.sketchFeature_;n&&this.startDrawing_(e[0]);var i;if(A===$e.LINE_STRING||A===$e.CIRCLE)i=this.sketchCoords_;else if(A===$e.POLYGON)i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;n&&i.shift(),i.pop();for(var o=0;o<e.length;o++)this.addToDrawing_(e[o]);var a=e[e.length-1];this.addToDrawing_(a),this.modifyDrawing_(a)},t.prototype.extend=function(e){var A=e.getGeometry(),n=A;this.sketchFeature_=e,this.sketchCoords_=n.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new ir(new vA(i)),this.updateSketchFeatures_(),this.dispatchEvent(new Xa(Ya.DRAWSTART,this.sketchFeature_))},t.prototype.updateSketchFeatures_=function(){var e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);var A=this.overlay_.getSource();A.clear(!0),A.addFeatures(e)},t.prototype.updateState_=function(){var e=this.getMap(),A=this.getActive();(!e||!A)&&this.abortDrawing(),this.overlay_.setMap(A?e:null)},t}(gn);function ZQ(){var r=Bc();return function(t,e){return r[t.getGeometry().getType()]}}function zQ(){return function(r,t,e){var A=hA([r[0],r[r.length-1]].map(function(o){return lt(o)})),n=[[Gn(A),Wi(A),ji(A),bA(A),Gn(A)]],i=t;return i?i.setCoordinates(n):i=new sr(n),i}}function $Q(r){switch(r){case U.POINT:case U.MULTI_POINT:return $e.POINT;case U.LINE_STRING:case U.MULTI_LINE_STRING:return $e.LINE_STRING;case U.POLYGON:case U.MULTI_POLYGON:return $e.POLYGON;case U.CIRCLE:return $e.CIRCLE;default:throw new Error("Invalid type: "+r)}}var Xl=jQ,Ip=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Up=0,go=1,Sp=[0,0,0,0],ri=[],Wl={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},jl=function(r){Ip(t,r);function t(e,A,n){var i=r.call(this,e)||this;return i.features=A,i.mapBrowserEvent=n,i}return t}(UA),JQ=function(r){Ip(t,r);function t(e){var A=r.call(this,e)||this;A.on,A.once,A.un,A.boundHandleFeatureChange_=A.handleFeatureChange_.bind(A),A.condition_=e.condition?e.condition:Cp,A.defaultDeleteCondition_=function(i){return fQ(i)&&dQ(i)},A.deleteCondition_=e.deleteCondition?e.deleteCondition:A.defaultDeleteCondition_,A.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:bl,A.vertexFeature_=null,A.vertexSegments_=null,A.lastPixel_=[0,0],A.ignoreNextSingleClick_=!1,A.featuresBeingModified_=null,A.rBush_=new dl,A.pixelTolerance_=e.pixelTolerance!==void 0?e.pixelTolerance:10,A.snappedToVertex_=!1,A.changingFeature_=!1,A.dragSegments_=[],A.overlay_=new hn({source:new dn({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:eI(),updateWhileAnimating:!0,updateWhileInteracting:!0}),A.SEGMENT_WRITERS_={Point:A.writePointGeometry_.bind(A),LineString:A.writeLineStringGeometry_.bind(A),LinearRing:A.writeLineStringGeometry_.bind(A),Polygon:A.writePolygonGeometry_.bind(A),MultiPoint:A.writeMultiPointGeometry_.bind(A),MultiLineString:A.writeMultiLineStringGeometry_.bind(A),MultiPolygon:A.writeMultiPolygonGeometry_.bind(A),Circle:A.writeCircleGeometry_.bind(A),GeometryCollection:A.writeGeometryCollectionGeometry_.bind(A)},A.source_=null,A.hitDetection_=null;var n;if(e.features?n=e.features:e.source&&(A.source_=e.source,n=new $t(A.source_.getFeatures()),A.source_.addEventListener(BA.ADDFEATURE,A.handleSourceAdd_.bind(A)),A.source_.addEventListener(BA.REMOVEFEATURE,A.handleSourceRemove_.bind(A))),!n)throw new Error("The modify interaction requires features, a source or a layer");return e.hitDetection&&(A.hitDetection_=e.hitDetection),A.features_=n,A.features_.forEach(A.addFeature_.bind(A)),A.features_.addEventListener(Nt.ADD,A.handleFeatureAdd_.bind(A)),A.features_.addEventListener(Nt.REMOVE,A.handleFeatureRemove_.bind(A)),A.lastPointerEvent_=null,A.delta_=[0,0],A.snapToPointer_=e.snapToPointer===void 0?!A.hitDetection_:e.snapToPointer,A}return t.prototype.addFeature_=function(e){var A=e.getGeometry();if(A){var n=this.SEGMENT_WRITERS_[A.getType()];n&&n(e,A)}var i=this.getMap();i&&i.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,i),e.addEventListener($.CHANGE,this.boundHandleFeatureChange_)},t.prototype.willModifyFeatures_=function(e,A){if(!this.featuresBeingModified_){this.featuresBeingModified_=new $t;for(var n=this.featuresBeingModified_.getArray(),i=0,o=A.length;i<o;++i)for(var a=A[i],s=0,u=a.length;s<u;++s){var l=a[s].feature;l&&n.indexOf(l)===-1&&this.featuresBeingModified_.push(l)}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new jl(Wl.MODIFYSTART,this.featuresBeingModified_,e))}},t.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener($.CHANGE,this.boundHandleFeatureChange_)},t.prototype.removeFeatureSegmentData_=function(e){var A=this.rBush_,n=[];A.forEach(function(s){e===s.feature&&n.push(s)});for(var i=n.length-1;i>=0;--i){for(var o=n[i],a=this.dragSegments_.length-1;a>=0;--a)this.dragSegments_[a][0]===o&&this.dragSegments_.splice(a,1);A.remove(o)}},t.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),r.prototype.setActive.call(this,e)},t.prototype.setMap=function(e){this.overlay_.setMap(e),r.prototype.setMap.call(this,e)},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleSourceAdd_=function(e){e.feature&&this.features_.push(e.feature)},t.prototype.handleSourceRemove_=function(e){e.feature&&this.features_.remove(e.feature)},t.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)},t.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var A=e.target;this.removeFeature_(A),this.addFeature_(A)}},t.prototype.handleFeatureRemove_=function(e){var A=e.element;this.removeFeature_(A)},t.prototype.writePointGeometry_=function(e,A){var n=A.getCoordinates(),i={feature:e,geometry:A,segment:[n,n]};this.rBush_.insert(A.getExtent(),i)},t.prototype.writeMultiPointGeometry_=function(e,A){for(var n=A.getCoordinates(),i=0,o=n.length;i<o;++i){var a=n[i],s={feature:e,geometry:A,depth:[i],index:i,segment:[a,a]};this.rBush_.insert(A.getExtent(),s)}},t.prototype.writeLineStringGeometry_=function(e,A){for(var n=A.getCoordinates(),i=0,o=n.length-1;i<o;++i){var a=n.slice(i,i+2),s={feature:e,geometry:A,index:i,segment:a};this.rBush_.insert(hA(a),s)}},t.prototype.writeMultiLineStringGeometry_=function(e,A){for(var n=A.getCoordinates(),i=0,o=n.length;i<o;++i)for(var a=n[i],s=0,u=a.length-1;s<u;++s){var l=a.slice(s,s+2),f={feature:e,geometry:A,depth:[i],index:s,segment:l};this.rBush_.insert(hA(l),f)}},t.prototype.writePolygonGeometry_=function(e,A){for(var n=A.getCoordinates(),i=0,o=n.length;i<o;++i)for(var a=n[i],s=0,u=a.length-1;s<u;++s){var l=a.slice(s,s+2),f={feature:e,geometry:A,depth:[i],index:s,segment:l};this.rBush_.insert(hA(l),f)}},t.prototype.writeMultiPolygonGeometry_=function(e,A){for(var n=A.getCoordinates(),i=0,o=n.length;i<o;++i)for(var a=n[i],s=0,u=a.length;s<u;++s)for(var l=a[s],f=0,h=l.length-1;f<h;++f){var c=l.slice(f,f+2),d={feature:e,geometry:A,depth:[s,i],index:f,segment:c};this.rBush_.insert(hA(c),d)}},t.prototype.writeCircleGeometry_=function(e,A){var n=A.getCenter(),i={feature:e,geometry:A,index:Up,segment:[n,n]},o={feature:e,geometry:A,index:go,segment:[n,n]},a=[i,o];i.featureSegments=a,o.featureSegments=a,this.rBush_.insert(ca(n),i);var s=A;this.rBush_.insert(s.getExtent(),o)},t.prototype.writeGeometryCollectionGeometry_=function(e,A){for(var n=A.getGeometriesArray(),i=0;i<n.length;++i){var o=n[i],a=this.SEGMENT_WRITERS_[o.getType()];a(e,o)}},t.prototype.createOrUpdateVertexFeature_=function(e,A,n){var i=this.vertexFeature_;if(!i)i=new ir(new vA(e)),this.vertexFeature_=i,this.overlay_.getSource().addFeature(i);else{var o=i.getGeometry();o.setCoordinates(e)}return i.set("features",A),i.set("geometries",n),i},t.prototype.handleEvent=function(e){if(!e.originalEvent)return!0;this.lastPointerEvent_=e;var A;return!e.map.getView().getInteracting()&&e.type==ke.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(e.type!=ke.SINGLECLICK||!this.ignoreNextSingleClick_?A=this.removePoint():A=!0),e.type==ke.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),r.prototype.handleEvent.call(this,e)&&!A},t.prototype.handleDragEvent=function(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_);for(var A=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],n=[],i=[],o=0,a=this.dragSegments_.length;o<a;++o){var s=this.dragSegments_[o],u=s[0],l=u.feature;n.indexOf(l)===-1&&n.push(l);var f=u.geometry;i.indexOf(f)===-1&&i.push(f);for(var h=u.depth,c=void 0,d=u.segment,p=s[1];A.length<f.getStride();)A.push(d[p][A.length]);switch(f.getType()){case U.POINT:c=A,d[0]=A,d[1]=A;break;case U.MULTI_POINT:c=f.getCoordinates(),c[u.index]=A,d[0]=A,d[1]=A;break;case U.LINE_STRING:c=f.getCoordinates(),c[u.index+p]=A,d[p]=A;break;case U.MULTI_LINE_STRING:c=f.getCoordinates(),c[h[0]][u.index+p]=A,d[p]=A;break;case U.POLYGON:c=f.getCoordinates(),c[h[0]][u.index+p]=A,d[p]=A;break;case U.MULTI_POLYGON:c=f.getCoordinates(),c[h[1]][h[0]][u.index+p]=A,d[p]=A;break;case U.CIRCLE:if(d[0]=A,d[1]=A,u.index===Up)this.changingFeature_=!0,f.setCenter(A),this.changingFeature_=!1;else{this.changingFeature_=!0;var B=e.map.getView().getProjection(),g=sd(lt(f.getCenter()),lt(A)),y=$n();if(y){var m=f.clone().transform(y,B);m.setRadius(g),g=m.transform(B,y).getRadius()}f.setRadius(g),this.changingFeature_=!1}break}c&&this.setGeometryCoordinates_(f,c)}this.createOrUpdateVertexFeature_(A,n,i)},t.prototype.handleDownEvent=function(e){if(!this.condition_(e))return!1;var A=e.coordinate;this.handlePointerAtPixel_(e.pixel,e.map,A),this.dragSegments_.length=0,this.featuresBeingModified_=null;var n=this.vertexFeature_;if(n){var i=e.map.getView().getProjection(),o=[],a=n.getGeometry().getCoordinates(),s=hA([a]),u=this.rBush_.getInExtent(s),l={};u.sort(qQ);for(var f=0,h=u.length;f<h;++f){var c=u[f],d=c.segment,p=be(c.geometry),B=c.depth;if(B&&(p+="-"+B.join("-")),l[p]||(l[p]=new Array(2)),c.geometry.getType()===U.CIRCLE&&c.index===go){var g=Tp(A,c,i);kA(g,a)&&!l[p][0]&&(this.dragSegments_.push([c,0]),l[p][0]=c);continue}if(kA(d[0],a)&&!l[p][0]){this.dragSegments_.push([c,0]),l[p][0]=c;continue}if(kA(d[1],a)&&!l[p][1]){if((c.geometry.getType()===U.LINE_STRING||c.geometry.getType()===U.MULTI_LINE_STRING)&&l[p][0]&&l[p][0].index===0)continue;this.dragSegments_.push([c,1]),l[p][1]=c;continue}be(d)in this.vertexSegments_&&!l[p][0]&&!l[p][1]&&this.insertVertexCondition_(e)&&o.push(c)}o.length&&this.willModifyFeatures_(e,[o]);for(var y=o.length-1;y>=0;--y)this.insertVertex_(o[y],a)}return!!this.vertexFeature_},t.prototype.handleUpEvent=function(e){for(var A=this.dragSegments_.length-1;A>=0;--A){var n=this.dragSegments_[A][0],i=n.geometry;if(i.getType()===U.CIRCLE){var o=i.getCenter(),a=n.featureSegments[0],s=n.featureSegments[1];a.segment[0]=o,a.segment[1]=o,s.segment[0]=o,s.segment[1]=o,this.rBush_.update(ca(o),a);var u=i,l=$n();if(l){var f=e.map.getView().getProjection();u=u.clone().transform(l,f),u=ZC(u).transform(f,l)}this.rBush_.update(u.getExtent(),s)}else this.rBush_.update(hA(n.segment),n)}return this.featuresBeingModified_&&(this.dispatchEvent(new jl(Wl.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1},t.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map,e.coordinate)},t.prototype.handlePointerAtPixel_=function(e,A,n){var i=this,o=n||A.getCoordinateFromPixel(e),a=A.getView().getProjection(),s=function(Y,b){return xp(o,Y,a)-xp(o,b,a)},u,l;if(this.hitDetection_){var f=typeof this.hitDetection_=="object"?function(Y){return Y===i.hitDetection_}:void 0;A.forEachFeatureAtPixel(e,function(Y,b,k){if(k=k||Y.getGeometry(),k.getType()===U.POINT&&oB(i.features_.getArray(),Y)){l=k;var K=k.getFlatCoordinates().slice(0,2);u=[{feature:Y,geometry:k,segment:[K,K]}]}return!0},{layerFilter:f})}if(!u){var h=gA(ca(o,Sp)),c=A.getView().getResolution()*this.pixelTolerance_,d=tl(ha(h,c,Sp));u=this.rBush_.getInExtent(d)}if(u&&u.length>0){var p=u.sort(s)[0],B=p.segment,g=Tp(o,p,a),y=A.getPixelFromCoordinate(g),m=sd(e,y);if(l||m<=this.pixelTolerance_){var _={};if(_[be(B)]=!0,this.snapToPointer_||(this.delta_[0]=g[0]-o[0],this.delta_[1]=g[1]-o[1]),p.geometry.getType()===U.CIRCLE&&p.index===go)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(g,[p.feature],[p.geometry]);else{var C=A.getPixelFromCoordinate(B[0]),F=A.getPixelFromCoordinate(B[1]),E=zn(y,C),Q=zn(y,F);m=Math.sqrt(Math.min(E,Q)),this.snappedToVertex_=m<=this.pixelTolerance_,this.snappedToVertex_&&(g=E>Q?B[1]:B[0]),this.createOrUpdateVertexFeature_(g,[p.feature],[p.geometry]);var w={};w[be(p.geometry)]=!0;for(var T=1,O=u.length;T<O;++T){var L=u[T].segment;if(kA(B[0],L[0])&&kA(B[1],L[1])||kA(B[0],L[1])&&kA(B[1],L[0])){var P=be(u[T].geometry);P in w||(w[P]=!0,_[be(L)]=!0)}else break}}this.vertexSegments_=_;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},t.prototype.insertVertex_=function(e,A){for(var n=e.segment,i=e.feature,o=e.geometry,a=e.depth,s=e.index,u;A.length<o.getStride();)A.push(0);switch(o.getType()){case U.MULTI_LINE_STRING:u=o.getCoordinates(),u[a[0]].splice(s+1,0,A);break;case U.POLYGON:u=o.getCoordinates(),u[a[0]].splice(s+1,0,A);break;case U.MULTI_POLYGON:u=o.getCoordinates(),u[a[1]][a[0]].splice(s+1,0,A);break;case U.LINE_STRING:u=o.getCoordinates(),u.splice(s+1,0,A);break;default:return}this.setGeometryCoordinates_(o,u);var l=this.rBush_;l.remove(e),this.updateSegmentIndices_(o,s,a,1);var f={segment:[n[0],A],feature:i,geometry:o,depth:a,index:s};l.insert(hA(f.segment),f),this.dragSegments_.push([f,1]);var h={segment:[A,n[1]],feature:i,geometry:o,depth:a,index:s+1};l.insert(hA(h.segment),h),this.dragSegments_.push([h,0]),this.ignoreNextSingleClick_=!0},t.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=ke.POINTERDRAG){var e=this.lastPointerEvent_;this.willModifyFeatures_(e,this.dragSegments_);var A=this.removeVertex_();return this.dispatchEvent(new jl(Wl.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null,A}return!1},t.prototype.removeVertex_=function(){var e=this.dragSegments_,A={},n=!1,i,o,a,s,u,l,f,h,c,d,p;for(u=e.length-1;u>=0;--u)a=e[u],d=a[0],p=be(d.feature),d.depth&&(p+="-"+d.depth.join("-")),p in A||(A[p]={}),a[1]===0?(A[p].right=d,A[p].index=d.index):a[1]==1&&(A[p].left=d,A[p].index=d.index+1);for(p in A){switch(c=A[p].right,f=A[p].left,l=A[p].index,h=l-1,f!==void 0?d=f:d=c,h<0&&(h=0),s=d.geometry,o=s.getCoordinates(),i=o,n=!1,s.getType()){case U.MULTI_LINE_STRING:o[d.depth[0]].length>2&&(o[d.depth[0]].splice(l,1),n=!0);break;case U.LINE_STRING:o.length>2&&(o.splice(l,1),n=!0);break;case U.MULTI_POLYGON:i=i[d.depth[1]];case U.POLYGON:i=i[d.depth[0]],i.length>4&&(l==i.length-1&&(l=0),i.splice(l,1),n=!0,l===0&&(i.pop(),i.push(i[0]),h=i.length-1));break}if(n){this.setGeometryCoordinates_(s,o);var B=[];if(f!==void 0&&(this.rBush_.remove(f),B.push(f.segment[0])),c!==void 0&&(this.rBush_.remove(c),B.push(c.segment[1])),f!==void 0&&c!==void 0){var g={depth:d.depth,feature:d.feature,geometry:d.geometry,index:h,segment:B};this.rBush_.insert(hA(g.segment),g)}this.updateSegmentIndices_(s,l,d.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.length=0}}return n},t.prototype.setGeometryCoordinates_=function(e,A){this.changingFeature_=!0,e.setCoordinates(A),this.changingFeature_=!1},t.prototype.updateSegmentIndices_=function(e,A,n,i){this.rBush_.forEachInExtent(e.getExtent(),function(o){o.geometry===e&&(n===void 0||o.depth===void 0||zr(o.depth,n))&&o.index>A&&(o.index+=i)})},t}(gn);function qQ(r,t){return r.index-t.index}function xp(r,t,e){var A=t.geometry;if(A.getType()===U.CIRCLE){var n=A;if(t.index===go){var i=$n();i&&(n=n.clone().transform(i,e));var o=zn(n.getCenter(),lt(r)),a=Math.sqrt(o)-n.getRadius();return a*a}}var s=lt(r);return ri[0]=lt(t.segment[0]),ri[1]=lt(t.segment[1]),Lw(s,ri)}function Tp(r,t,e){var A=t.geometry;if(A.getType()===U.CIRCLE&&t.index===go){var n=A,i=$n();return i&&(n=n.clone().transform(i,e)),Jn(n.getClosestPoint(lt(r)))}var o=lt(r);return ri[0]=lt(t.segment[0]),ri[1]=lt(t.segment[1]),Jn(ad(o,ri))}function eI(){var r=Bc();return function(t,e){return r[U.POINT]}}var tI=JQ;function AI(r){var t=r||{},e=new $t,A=new PQ(-.005,.05,100),n=t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0;n&&e.push(new _Q);var i=t.doubleClickZoom!==void 0?t.doubleClickZoom:!0;i&&e.push(new aQ({delta:t.zoomDelta,duration:t.zoomDuration}));var o=t.dragPan!==void 0?t.dragPan:!0;o&&e.push(new vQ({onFocusOnly:t.onFocusOnly,kinetic:A}));var a=t.pinchRotate!==void 0?t.pinchRotate:!0;a&&e.push(new KQ);var s=t.pinchZoom!==void 0?t.pinchZoom:!0;s&&e.push(new YQ({duration:t.zoomDuration}));var u=t.keyboard!==void 0?t.keyboard:!0;u&&(e.push(new TQ),e.push(new LQ({delta:t.zoomDelta,duration:t.zoomDuration})));var l=t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0;l&&e.push(new DQ({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration}));var f=t.shiftDragZoom!==void 0?t.shiftDragZoom:!0;return f&&e.push(new UQ({duration:t.zoomDuration})),e}var rI=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),nI=function(r){rI(t,r);function t(e){var A=this;return e=Ae({},e),e.controls||(e.controls=Bp()),e.interactions||(e.interactions=AI({onFocusOnly:!0})),A=r.call(this,e)||this,A}return t.prototype.createRenderer=function(){return new tF(this)},t}(SF),iI=nI,oI=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),aI=function(r){oI(t,r);function t(e,A,n,i,o,a){var s=r.call(this,e,A,a)||this;return s.crossOrigin_=i,s.src_=n,s.key=n,s.image_=new Image,i!==null&&(s.image_.crossOrigin=i),s.unlisten_=null,s.tileLoadFunction_=o,s}return t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(e){this.image_=e,this.state=re.LOADED,this.unlistenImage_(),this.changed()},t.prototype.handleImageError_=function(){this.state=re.ERROR,this.unlistenImage_(),this.image_=sI(),this.changed()},t.prototype.handleImageLoad_=function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=re.LOADED:this.state=re.EMPTY,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state==re.ERROR&&(this.state=re.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==re.IDLE&&(this.state=re.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=mu(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(ep);function sI(){var r=uA(1,1);return r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1),r.canvas}var uI=aI,lI=10,Op=.25,fI=function(){function r(t,e,A,n,i,o){this.sourceProj_=t,this.targetProj_=e;var a={},s=io(this.targetProj_,this.sourceProj_);this.transformInv_=function(m){var _=m[0]+"/"+m[1];return a[_]||(a[_]=s(m)),a[_]},this.maxSourceExtent_=n,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&st(n)==st(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?st(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?st(this.targetProj_.getExtent()):null;var u=bA(A),l=ji(A),f=Wi(A),h=Gn(A),c=this.transformInv_(u),d=this.transformInv_(l),p=this.transformInv_(f),B=this.transformInv_(h),g=lI+(o?Math.max(0,Math.ceil(K1(wu(A)/(o*o*256*256)))):0);if(this.addQuad_(u,l,f,h,c,d,p,B,g),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach(function(m,_,C){y=Math.min(y,m.source[0][0],m.source[1][0],m.source[2][0])}),this.triangles_.forEach(function(m){if(Math.max(m.source[0][0],m.source[1][0],m.source[2][0])-y>this.sourceWorldWidth_/2){var _=[[m.source[0][0],m.source[0][1]],[m.source[1][0],m.source[1][1]],[m.source[2][0],m.source[2][1]]];_[0][0]-y>this.sourceWorldWidth_/2&&(_[0][0]-=this.sourceWorldWidth_),_[1][0]-y>this.sourceWorldWidth_/2&&(_[1][0]-=this.sourceWorldWidth_),_[2][0]-y>this.sourceWorldWidth_/2&&(_[2][0]-=this.sourceWorldWidth_);var C=Math.min(_[0][0],_[1][0],_[2][0]),F=Math.max(_[0][0],_[1][0],_[2][0]);F-C<this.sourceWorldWidth_/2&&(m.source=_)}}.bind(this))}a={}}return r.prototype.addTriangle_=function(t,e,A,n,i,o){this.triangles_.push({source:[n,i,o],target:[t,e,A]})},r.prototype.addQuad_=function(t,e,A,n,i,o,a,s,u){var l=hA([i,o,a,s]),f=this.sourceWorldWidth_?st(l)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,c=this.sourceProj_.canWrapX()&&f>.5&&f<1,d=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var p=hA([t,e,A,n]),B=st(p)/this.targetWorldWidth_;d=B>Op||d}!c&&this.sourceProj_.isGlobal()&&f&&(d=f>Op||d)}if(!(!d&&this.maxSourceExtent_&&isFinite(l[0])&&isFinite(l[1])&&isFinite(l[2])&&isFinite(l[3])&&!Ht(l,this.maxSourceExtent_))){var g=0;if(!d&&(!isFinite(i[0])||!isFinite(i[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1]))){if(u>0)d=!0;else if(g=(!isFinite(i[0])||!isFinite(i[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(s[0])||!isFinite(s[1])?1:0),g!=1&&g!=2&&g!=4&&g!=8)return}if(u>0){if(!d){var y=[(t[0]+A[0])/2,(t[1]+A[1])/2],m=this.transformInv_(y),_=void 0;if(c){var C=(mr(i[0],h)+mr(a[0],h))/2;_=C-mr(m[0],h)}else _=(i[0]+a[0])/2-m[0];var F=(i[1]+a[1])/2-m[1],E=_*_+F*F;d=E>this.errorThresholdSquared_}if(d){if(Math.abs(t[0]-A[0])<=Math.abs(t[1]-A[1])){var Q=[(e[0]+A[0])/2,(e[1]+A[1])/2],w=this.transformInv_(Q),T=[(n[0]+t[0])/2,(n[1]+t[1])/2],O=this.transformInv_(T);this.addQuad_(t,e,Q,T,i,o,w,O,u-1),this.addQuad_(T,Q,A,n,O,w,a,s,u-1)}else{var L=[(t[0]+e[0])/2,(t[1]+e[1])/2],P=this.transformInv_(L),Y=[(A[0]+n[0])/2,(A[1]+n[1])/2],b=this.transformInv_(Y);this.addQuad_(t,L,Y,n,i,P,b,s,u-1),this.addQuad_(L,e,A,Y,P,o,a,b,u-1)}return}}if(c){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(g&11)==0&&this.addTriangle_(t,A,n,i,a,s),(g&14)==0&&this.addTriangle_(t,A,e,i,a,o),g&&((g&13)==0&&this.addTriangle_(e,n,t,o,s,i),(g&7)==0&&this.addTriangle_(e,n,A,o,s,a))}},r.prototype.calculateSourceExtent=function(){var t=tA();return this.triangles_.forEach(function(e,A,n){var i=e.source;Xi(t,i[0]),Xi(t,i[1]),Xi(t,i[2])}),t},r.prototype.getTriangles=function(){return this.triangles_},r}(),Rp=fI,Wa="1.3.0",Zl={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},zl;function Lp(r,t,e,A,n){r.beginPath(),r.moveTo(0,0),r.lineTo(t,e),r.lineTo(A,n),r.closePath(),r.save(),r.clip(),r.fillRect(0,0,Math.max(t,A)+1,Math.max(e,n)),r.restore()}function $l(r,t){return Math.abs(r[t*4]-210)>2||Math.abs(r[t*4+3]-.75*255)>2}function hI(){if(zl===void 0){var r=document.createElement("canvas").getContext("2d");r.globalCompositeOperation="lighter",r.fillStyle="rgba(210, 0, 0, 0.75)",Lp(r,4,5,4,0),Lp(r,4,5,0,5);var t=r.getImageData(0,0,3,3).data;zl=$l(t,0)||$l(t,4)||$l(t,8)}return zl}function ja(r,t,e,A){var n=oo(e,t,r),i=Fa(t,A,e),o=t.getMetersPerUnit();o!==void 0&&(i*=o);var a=r.getMetersPerUnit();a!==void 0&&(i/=a);var s=r.getExtent();if(!s||Vi(s,n)){var u=Fa(r,i,n)/i;isFinite(u)&&u>0&&(i/=u)}return i}function cI(r,t,e,A){var n=rr(e),i=ja(r,t,n,A);return(!isFinite(i)||i<=0)&&_u(e,function(o){return i=ja(r,t,o,A),isFinite(i)&&i>0}),i}function Mp(r,t,e,A,n,i,o,a,s,u,l,f){var h=uA(Math.round(e*r),Math.round(e*t));if(Ae(h,f),s.length===0)return h.canvas;h.scale(e,e);function c(_){return Math.round(_*e)/e}h.globalCompositeOperation="lighter";var d=tA();s.forEach(function(_,C,F){pc(d,_.extent)});var p=st(d),B=Xt(d),g=uA(Math.round(e*p/A),Math.round(e*B/A));Ae(g,f);var y=e/A;s.forEach(function(_,C,F){var E=_.extent[0]-d[0],Q=-(_.extent[3]-d[3]),w=st(_.extent),T=Xt(_.extent);_.image.width>0&&_.image.height>0&&g.drawImage(_.image,u,u,_.image.width-2*u,_.image.height-2*u,E*y,Q*y,w*y,T*y)});var m=bA(o);return a.getTriangles().forEach(function(_,C,F){var E=_.source,Q=_.target,w=E[0][0],T=E[0][1],O=E[1][0],L=E[1][1],P=E[2][0],Y=E[2][1],b=c((Q[0][0]-m[0])/i),k=c(-(Q[0][1]-m[1])/i),K=c((Q[1][0]-m[0])/i),ue=c(-(Q[1][1]-m[1])/i),ne=c((Q[2][0]-m[0])/i),he=c(-(Q[2][1]-m[1])/i),We=w,R=T;w=0,T=0,O-=We,L-=R,P-=We,Y-=R;var nt=[[O,L,0,0,K-b],[P,Y,0,0,ne-b],[0,0,O,L,ue-k],[0,0,P,Y,he-k]],ie=V1(nt);if(!!ie){if(h.save(),h.beginPath(),hI()||f===Zl){h.moveTo(K,ue);for(var je=4,dt=b-K,pt=k-ue,Pt=0;Pt<je;Pt++)h.lineTo(K+c((Pt+1)*dt/je),ue+c(Pt*pt/(je-1))),Pt!=je-1&&h.lineTo(K+c((Pt+1)*dt/je),ue+c((Pt+1)*pt/(je-1)));h.lineTo(ne,he)}else h.moveTo(K,ue),h.lineTo(b,k),h.lineTo(ne,he);h.clip(),h.transform(ie[0],ie[2],ie[1],ie[3],b,k),h.translate(d[0]-We,d[3]-R),h.scale(A/e,-A/e),h.drawImage(g.canvas,0,0),h.restore()}}),l&&(h.save(),h.globalCompositeOperation="source-over",h.strokeStyle="black",h.lineWidth=1,a.getTriangles().forEach(function(_,C,F){var E=_.target,Q=(E[0][0]-m[0])/i,w=-(E[0][1]-m[1])/i,T=(E[1][0]-m[0])/i,O=-(E[1][1]-m[1])/i,L=(E[2][0]-m[0])/i,P=-(E[2][1]-m[1])/i;h.beginPath(),h.moveTo(T,O),h.lineTo(Q,w),h.lineTo(L,P),h.closePath(),h.stroke()}),h.restore()),h.canvas}var dI=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),pI=function(r){dI(t,r);function t(e,A,n,i,o,a,s,u,l,f,h,c){var d=r.call(this,o,re.IDLE)||this;d.renderEdges_=h!==void 0?h:!1,d.contextOptions_=c,d.pixelRatio_=s,d.gutter_=u,d.canvas_=null,d.sourceTileGrid_=A,d.targetTileGrid_=i,d.wrappedTileCoord_=a||o,d.sourceTiles_=[],d.sourcesListenerKeys_=null,d.sourceZ_=0;var p=i.getTileCoordExtent(d.wrappedTileCoord_),B=d.targetTileGrid_.getExtent(),g=d.sourceTileGrid_.getExtent(),y=B?Er(p,B):p;if(wu(y)===0)return d.state=re.EMPTY,d;var m=e.getExtent();m&&(g?g=Er(g,m):g=m);var _=i.getResolution(d.wrappedTileCoord_[0]),C=cI(e,n,y,_);if(!isFinite(C)||C<=0)return d.state=re.EMPTY,d;var F=f!==void 0?f:Gd;if(d.triangulation_=new Rp(e,n,y,g,C*F,_),d.triangulation_.getTriangles().length===0)return d.state=re.EMPTY,d;d.sourceZ_=A.getZForResolution(C);var E=d.triangulation_.calculateSourceExtent();if(g&&(e.canWrapX()?(E[1]=Ct(E[1],g[1],g[3]),E[3]=Ct(E[3],g[1],g[3])):E=Er(E,g)),!wu(E))d.state=re.EMPTY;else{for(var Q=A.getTileRangeForExtentAndZ(E,d.sourceZ_),w=Q.minX;w<=Q.maxX;w++)for(var T=Q.minY;T<=Q.maxY;T++){var O=l(d.sourceZ_,w,T,s);O&&d.sourceTiles_.push(O)}d.sourceTiles_.length===0&&(d.state=re.EMPTY)}return d}return t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(l,f,h){l&&l.getState()==re.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(l.tileCoord),image:l.getImage()})}.bind(this)),this.sourceTiles_.length=0,e.length===0)this.state=re.ERROR;else{var A=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(A),i=typeof n=="number"?n:n[0],o=typeof n=="number"?n:n[1],a=this.targetTileGrid_.getResolution(A),s=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Mp(i,o,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),a,u,this.triangulation_,e,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=re.LOADED}this.changed()},t.prototype.load=function(){if(this.state==re.IDLE){this.state=re.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(A,n,i){var o=A.getState();if(o==re.IDLE||o==re.LOADING){e++;var a=Ve(A,$.CHANGE,function(s){var u=A.getState();(u==re.LOADED||u==re.ERROR||u==re.EMPTY)&&(it(a),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(a)}}.bind(this)),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(A,n,i){var o=A.getState();o==re.IDLE&&A.load()})}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(it),this.sourcesListenerKeys_=null},t}(ep),gI=pI,vI=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),BI=function(r){vI(t,r);function t(e){var A=r.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:yI,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return A.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,A.tileClass=e.tileClass!==void 0?e.tileClass:uI,A.tileCacheForProjection={},A.tileGridForProjection={},A.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,A.contextOptions_=e.imageSmoothing===!1?Zl:void 0,A.renderReprojectionEdges_=!1,A}return t.prototype.canExpireCache=function(){if(!RA)return r.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},t.prototype.expireCache=function(e,A){if(!RA){r.prototype.expireCache.call(this,e,A);return}var n=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==n?A:{});for(var i in this.tileCacheForProjection){var o=this.tileCacheForProjection[i];o.expireCache(o==n?A:{})}},t.prototype.getContextOptions=function(){return this.contextOptions_},t.prototype.getGutterForProjection=function(e){return RA&&this.getProjection()&&e&&!VA(this.getProjection(),e)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getKey=function(){return r.prototype.getKey.call(this)+(this.contextOptions_?`
`+JSON.stringify(this.contextOptions_):"")},t.prototype.getOpaque=function(e){return RA&&this.getProjection()&&e&&!VA(this.getProjection(),e)?!1:r.prototype.getOpaque.call(this,e)},t.prototype.getTileGridForProjection=function(e){if(!RA)return r.prototype.getTileGridForProjection.call(this,e);var A=this.getProjection();if(this.tileGrid&&(!A||VA(A,e)))return this.tileGrid;var n=be(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=ip(e)),this.tileGridForProjection[n]},t.prototype.getTileCacheForProjection=function(e){if(!RA)return r.prototype.getTileCacheForProjection.call(this,e);var A=this.getProjection();if(!A||VA(A,e))return this.tileCache;var n=be(e);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new np(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},t.prototype.createTile_=function(e,A,n,i,o,a){var s=[e,A,n],u=this.getTileCoordForTileUrlFunction(s,o),l=u?this.tileUrlFunction(u,i,o):void 0,f=new this.tileClass(s,l!==void 0?re.IDLE:re.EMPTY,l!==void 0?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=a,f.addEventListener($.CHANGE,this.handleTileChange.bind(this)),f},t.prototype.getTile=function(e,A,n,i,o){var a=this.getProjection();if(!RA||!a||!o||VA(a,o))return this.getTileInternal(e,A,n,i,a||o);var s=this.getTileCacheForProjection(o),u=[e,A,n],l=void 0,f=Ap(u);s.containsKey(f)&&(l=s.get(f));var h=this.getKey();if(l&&l.key==h)return l;var c=this.getTileGridForProjection(a),d=this.getTileGridForProjection(o),p=this.getTileCoordForTileUrlFunction(u,o),B=new gI(a,c,o,d,u,p,this.getTilePixelRatio(i),this.getGutter(),function(g,y,m,_){return this.getTileInternal(g,y,m,_,a)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return B.key=h,l?(B.interimTile=l,B.refreshInterimChain(),s.replace(f,B)):s.set(f,B),B},t.prototype.getTileInternal=function(e,A,n,i,o){var a=null,s=Na(e,A,n),u=this.getKey();if(!this.tileCache.containsKey(s))a=this.createTile_(e,A,n,i,o,u),this.tileCache.set(s,a);else if(a=this.tileCache.get(s),a.key!=u){var l=a;a=this.createTile_(e,A,n,i,o,u),l.getState()==re.IDLE?a.interimTile=l.interimTile:a.interimTile=l,a.refreshInterimChain(),this.tileCache.replace(s,a)}return a},t.prototype.setRenderReprojectionEdges=function(e){if(!(!RA||this.renderReprojectionEdges_==e)){this.renderReprojectionEdges_=e;for(var A in this.tileCacheForProjection)this.tileCacheForProjection[A].clear();this.changed()}},t.prototype.setTileGridForProjection=function(e,A){if(RA){var n=ze(e);if(n){var i=be(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=A)}}},t}(QE);function yI(r,t){r.getImage().src=t}var Jl=BI,_I=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),wI=function(r){_I(t,r);function t(e){var A=this,n=e||{},i=Ae({},n);return delete i.preload,delete i.useInterimTilesOnError,A=r.call(this,i)||this,A.on,A.once,A.un,A.setPreload(n.preload!==void 0?n.preload:0),A.setUseInterimTilesOnError(n.useInterimTilesOnError!==void 0?n.useInterimTilesOnError:!0),A}return t.prototype.getPreload=function(){return this.get(Ha.PRELOAD)},t.prototype.setPreload=function(e){this.set(Ha.PRELOAD,e)},t.prototype.getUseInterimTilesOnError=function(){return this.get(Ha.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setUseInterimTilesOnError=function(e){this.set(Ha.USE_INTERIM_TILES_ON_ERROR,e)},t}(xa),mI=wI,CI=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),EI=function(r){CI(t,r);function t(e){return r.call(this,e)||this}return t.prototype.createRenderer=function(){return new tE(this)},t}(mI),ni=EI;/*!
 * author: sakitam-fdd <smilefdd@gmail.com> 
 * ol-wind v1.1.1-alpha.1
 * build-time: 2021-3-30 18:18
 * LICENSE: MIT
 * (c) 2017-2021 https://github.com/sakitam-fdd/wind-layer#readme
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ql=function(r,t){return ql=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,A){e.__proto__=A}||function(e,A){for(var n in A)A.hasOwnProperty(n)&&(e[n]=A[n])},ql(r,t)};function Pp(r,t){ql(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function FI(r,t){var e=r.length;if(e!==t.length)return!1;for(var A=0;A<e;A++)if(r[A]!==t[A])return!1;return!0}/*!
 * author: sakitam-fdd <smilefdd@gmail.com> 
 * wind-core v1.1.1-alpha.1
 * build-time: 2021-3-30 18:18
 * LICENSE: MIT
 * (c) 2017-2021 https://github.com/sakitam-fdd/wind-layer#readme
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function QI(){for(var r=arguments,t=0,e=0,A=arguments.length;e<A;e++)t+=r[e].length;for(var n=Array(t),i=0,e=0;e<A;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}Array.isArray||(Array.isArray=function(r){return Object.prototype.toString.call(r)==="[object Array]"});typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(t,e){var A=arguments;if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var o=A[i];if(o!=null)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])}return n},writable:!0,configurable:!0});var II=Object.prototype.hasOwnProperty,Bn=typeof Symbol!="undefined"?Symbol.toStringTag:void 0;function UI(r){if(r===null)return r===void 0?"[object Undefined]":"[object Null]";if(!(Bn&&Bn in Object(r)))return toString.call(r);var t=II.call(r,Bn),e=r[Bn],A=!1;try{r[Bn]=void 0,A=!0}catch(i){}var n=Object.prototype.toString.call(r);return A&&(t?r[Bn]=e:delete r[Bn]),n}function vo(r){if(!SI(r))return!1;var t=UI(r);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object Proxy]"}function SI(r){var t=typeof r;return r!==null&&(t==="object"||t==="function")}function xI(r){return r==null?!1:typeof r=="string"||r.constructor!==null&&r.constructor===String}function ef(r){return Object.prototype.toString.call(r)==="[object Number]"&&!isNaN(r)}function TI(r){return Array.isArray(r)}function tf(r){for(var t=arguments,e=[],A=1;A<arguments.length;A++)e[A-1]=t[A];return Object.assign.apply(Object,QI([r],e))}function Hp(r){console.warn("wind-layer: "+r)}function OI(r,t){return r-t*Math.floor(r/t)}function jA(r){return r!=null&&!isNaN(r)}function RI(r){var t,e;if(console.time("format-data"),r.forEach(function(i){switch(i.header.parameterCategory+","+i.header.parameterNumber){case"1,2":case"2,2":t=i;break;case"1,3":case"2,3":e=i;break}}),!(!e||!t)){var A=t.header,n=new Dp({xmin:A.lo1,ymin:A.la1,xmax:A.lo2,ymax:A.la2,deltaX:A.dx,deltaY:A.dy,cols:A.nx,rows:A.ny,us:t.data,vs:e.data});return console.timeEnd("format-data"),n}}var Np=function(){function r(t,e){this.u=t,this.v=e,this.m=this.magnitude()}return r.prototype.magnitude=function(){return Math.sqrt(this.u*this.u+this.v*this.v)},r.prototype.directionTo=function(){var t=Math.atan2(this.u,this.v),e=t*(180/Math.PI);return e<0&&(e+=360),e},r.prototype.directionFrom=function(){var t=this.directionTo();return(t+180)%360},r}(),Dp=function(){function r(t){this.grid=[],this.xmin=t.xmin,this.xmax=t.xmax,this.ymin=t.ymin,this.ymax=t.ymax,this.cols=t.cols,this.rows=t.rows,this.us=t.us,this.vs=t.vs,this.deltaX=t.deltaX,this.deltaY=t.deltaY,this.deltaY<0&&this.ymin<this.ymax?console.warn("[wind-core]: The data is flipY"):(this.ymin=Math.min(t.ymax,t.ymin),this.ymax=Math.max(t.ymax,t.ymin)),this.isFields=!0;var e=Math.ceil((this.xmax-this.xmin)/t.deltaX),A=Math.ceil((this.ymax-this.ymin)/t.deltaY);(e!==this.cols||A!==this.rows)&&console.warn("[wind-core]: The data grid not equal"),this.isContinuous=Math.floor(this.cols*t.deltaX)>=360,this.wrappedX="wrappedX"in t?t.wrappedX:this.xmax>180,this.grid=this.buildGrid(),this.range=this.calculateRange()}return r.prototype.buildGrid=function(){for(var t=[],e=0,A=this,n=A.rows,i=A.cols,o=A.us,a=A.vs,s=0;s<n;s++){for(var u=[],l=0;l<i;l++,e++){var f=o[e],h=a[e],c=this.isValid(f)&&this.isValid(h);u[l]=c?new Np(f,h):null}this.isContinuous&&u.push(u[0]),t[s]=u}return t},r.prototype.release=function(){this.grid=[]},r.prototype.extent=function(){return[this.xmin,this.ymin,this.xmax,this.ymax]},r.prototype.bilinearInterpolateVector=function(t,e,A,n,i,o){var a=1-t,s=1-e,u=a*s,l=t*s,f=a*e,h=t*e,c=A.u*u+n.u*l+i.u*f+o.u*h,d=A.v*u+n.v*l+i.v*f+o.v*h;return new Np(c,d)},r.prototype.calculateRange=function(){if(!(!this.grid||!this.grid[0])){for(var t=this.grid.length,e=this.grid[0].length,A,n,i=0;i<t;i++)for(var o=0;o<e;o++){var a=this.grid[i][o];if(a!==null){var s=a.m||a.magnitude();A===void 0?A=s:n===void 0?(n=s,A=Math.min(A,n),n=Math.max(A,n)):(A=Math.min(s,A),n=Math.max(s,n))}}return[A,n]}},r.prototype.isValid=function(t){return t!=null},r.prototype.getWrappedLongitudes=function(){var t=this.xmin,e=this.xmax;return this.wrappedX&&(this.isContinuous?(t=-180,e=180):(e=this.xmax-360,t=this.xmin-360)),[t,e]},r.prototype.contains=function(t,e){var A=this.getWrappedLongitudes(),n=A[0],i=A[1],o=t>=n&&t<=i,a;return this.deltaY>=0?a=e>=this.ymin&&e<=this.ymax:a=e>=this.ymax&&e<=this.ymin,o&&a},r.prototype.getDecimalIndexes=function(t,e){var A=OI(t-this.xmin,360)/this.deltaX,n=(this.ymax-e)/this.deltaY;return[A,n]},r.prototype.valueAt=function(t,e){if(!this.contains(t,e))return null;var A=this.getDecimalIndexes(t,e),n=Math.floor(A[0]),i=Math.floor(A[1]),o=this.clampColumnIndex(n),a=this.clampRowIndex(i);return this.valueAtIndexes(o,a)},r.prototype.interpolatedValueAt=function(t,e){if(!this.contains(t,e))return null;var A=this.getDecimalIndexes(t,e),n=A[0],i=A[1];return this.interpolatePoint(n,i)},r.prototype.hasValueAt=function(t,e){var A=this.valueAt(t,e);return A!==null},r.prototype.interpolatePoint=function(t,e){var A=this.getFourSurroundingIndexes(t,e),n=A[0],i=A[1],o=A[2],a=A[3],s=this.getFourSurroundingValues(n,i,o,a);if(s){var u=s[0],l=s[1],f=s[2],h=s[3];return this.bilinearInterpolateVector(t-n,e-o,u,l,f,h)}return null},r.prototype.clampColumnIndex=function(t){var e=t;t<0&&(e=0);var A=this.cols-1;return t>A&&(e=A),e},r.prototype.clampRowIndex=function(t){var e=t;t<0&&(e=0);var A=this.rows-1;return t>A&&(e=A),e},r.prototype.getFourSurroundingIndexes=function(t,e){var A=Math.floor(t),n=A+1;this.isContinuous&&n>=this.cols&&(n=0),n=this.clampColumnIndex(n);var i=this.clampRowIndex(Math.floor(e)),o=this.clampRowIndex(i+1);return[A,n,i,o]},r.prototype.getFourSurroundingValues=function(t,e,A,n){var i;if(i=this.grid[A]){var o=i[t],a=i[e];if(this.isValid(o)&&this.isValid(a)&&(i=this.grid[n])){var s=i[t],u=i[e];if(this.isValid(s)&&this.isValid(u))return[o,a,s,u]}}return null},r.prototype.valueAtIndexes=function(t,e){return this.grid[e][t]},r.prototype.lonLatAtIndexes=function(t,e){var A=this.longitudeAtX(t),n=this.latitudeAtY(e);return[A,n]},r.prototype.longitudeAtX=function(t){var e=this.deltaX/2,A=this.xmin+e+t*this.deltaX;return this.wrappedX&&(A=A>180?A-360:A),A},r.prototype.latitudeAtY=function(t){var e=this.deltaY/2;return this.ymax-e-t*this.deltaY},r.prototype.randomize=function(t,e,A,n){t===void 0&&(t={});var i=Math.random()*(e||this.cols)|0,o=Math.random()*(A||this.rows)|0,a=n([i,o]);return a!==null?(t.x=a[0],t.y=a[1]):(t.x=this.longitudeAtX(i),t.y=this.latitudeAtY(o)),t},r.prototype.checkFields=function(){return this.isFields},r.prototype.startBatchInterpolate=function(t,e,A){},r}(),Gp={globalAlpha:.9,lineWidth:1,colorScale:"#fff",velocityScale:1/25,maxAge:90,paths:800,frameRate:20,useCoordsDraw:!0,gpet:!0};function bp(r,t,e,A){return Math.max(0,Math.min(A.length-1,Math.round((r-t)/(e-t)*(A.length-1))))}var LI=function(){function r(t,e,A){if(this.particles=[],this.generated=!1,this.ctx=t,!this.ctx)throw new Error("ctx error");this.animate=this.animate.bind(this),this.setOptions(e),A&&this.updateData(A)}return r.prototype.setOptions=function(t){this.options=Object.assign({},Gp,t);var e=this.ctx.canvas,A=e.width,n=e.height;"particleAge"in t&&!("maxAge"in t)&&ef(this.options.particleAge)&&(this.options.maxAge=this.options.particleAge),"particleMultiplier"in t&&!("paths"in t)&&ef(this.options.particleMultiplier)&&(this.options.paths=Math.round(A*n*this.options.particleMultiplier)),this.prerender()},r.prototype.getOptions=function(){return this.options},r.prototype.updateData=function(t){this.field=t,!!this.generated&&(this.particles=this.prepareParticlePaths())},r.prototype.moveParticles=function(){for(var t=this.ctx.canvas,e=t.width,A=t.height,n=this.particles,i=this.options.maxAge,o=vo(this.options.velocityScale)?this.options.velocityScale():this.options.velocityScale,a=o,s=0,u=n.length;s<u;s++){var l=n[s];l.age>i&&(l.age=0,this.field.randomize(l,e,A,this.unproject));var f=l.x,h=l.y,c=this.field.interpolatedValueAt(f,h);if(c===null)l.age=i;else{var d=f+c.u*a,p=h+c.v*a;this.field.hasValueAt(d,p)?(l.xt=d,l.yt=p,l.m=c.m):(l.x=d,l.y=p,l.age=i)}l.age++}},r.prototype.fadeIn=function(){var t=this.ctx.globalCompositeOperation;this.ctx.globalCompositeOperation="destination-in",this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.globalCompositeOperation=t},r.prototype.drawParticles=function(){var t,e=this.particles;this.fadeIn(),this.ctx.globalAlpha=this.options.globalAlpha,this.ctx.fillStyle="rgba(0, 0, 0, "+this.options.globalAlpha+")",this.ctx.lineWidth=ef(this.options.lineWidth)?this.options.lineWidth:1,this.ctx.strokeStyle=xI(this.options.colorScale)?this.options.colorScale:"#fff";var A=0,n=e.length;if(this.field&&n>0){var i=void 0,o=void 0;for(jA(this.options.minVelocity)&&jA(this.options.maxVelocity)?(i=this.options.minVelocity,o=this.options.maxVelocity):(t=this.field.range,i=t[0],o=t[1]);A<n;A++)this[this.options.useCoordsDraw?"drawCoordsParticle":"drawPixelParticle"](e[A],i,o)}},r.prototype.drawPixelParticle=function(t,e,A){var n=[t.x,t.y],i=[t.xt,t.yt];if(i&&n&&jA(i[0])&&jA(i[1])&&jA(n[0])&&jA(n[1])&&t.age<=this.options.maxAge){if(this.ctx.beginPath(),this.ctx.moveTo(n[0],n[1]),this.ctx.lineTo(i[0],i[1]),vo(this.options.colorScale))this.ctx.strokeStyle=this.options.colorScale(t.m);else if(Array.isArray(this.options.colorScale)){var o=bp(t.m,e,A,this.options.colorScale);this.ctx.strokeStyle=this.options.colorScale[o]}vo(this.options.lineWidth)&&(this.ctx.lineWidth=this.options.lineWidth(t.m)),t.x=t.xt,t.y=t.yt,this.ctx.stroke()}},r.prototype.drawCoordsParticle=function(t,e,A){var n=[t.x,t.y],i=[t.xt,t.yt];if(i&&n&&jA(i[0])&&jA(i[1])&&jA(n[0])&&jA(n[1])&&this.intersectsCoordinate(i)&&t.age<=this.options.maxAge){var o=this.project(n),a=this.project(i);if(o&&a){if(this.ctx.beginPath(),this.ctx.moveTo(o[0],o[1]),this.ctx.lineTo(a[0],a[1]),t.x=t.xt,t.y=t.yt,vo(this.options.colorScale))this.ctx.strokeStyle=this.options.colorScale(t.m);else if(Array.isArray(this.options.colorScale)){var s=bp(t.m,e,A,this.options.colorScale);this.ctx.strokeStyle=this.options.colorScale[s]}vo(this.options.lineWidth)&&(this.ctx.lineWidth=this.options.lineWidth(t.m)),this.ctx.stroke()}}},r.prototype.prepareParticlePaths=function(){var t=this.ctx.canvas,e=t.width,A=t.height,n=typeof this.options.paths=="function"?this.options.paths(this):this.options.paths,i=[];if(!this.field)return[];"startBatchInterpolate"in this.field&&this.field.startBatchInterpolate(e,A,this.unproject);for(var o=0;o<n;o++)i.push(this.field.randomize({age:this.randomize()},e,A,this.unproject));return i},r.prototype.randomize=function(){return Math.floor(Math.random()*this.options.maxAge)},r.prototype.project=function(){for(var t=arguments,e=[],A=0;A<arguments.length;A++)e[A]=t[A];throw new Error("project must be overriden")},r.prototype.unproject=function(){for(var t=arguments,e=[],A=0;A<arguments.length;A++)e[A]=t[A];throw new Error("unproject must be overriden")},r.prototype.intersectsCoordinate=function(t){throw new Error("must be overriden")},r.prototype.clearCanvas=function(){this.stop(),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.forceStop=!1},r.prototype.start=function(){this.starting=!0,this.forceStop=!1,this._then=Date.now(),this.animate()},r.prototype.stop=function(){cancelAnimationFrame(this.animationLoop),this.starting=!1,this.forceStop=!0},r.prototype.animate=function(){this.animationLoop&&cancelAnimationFrame(this.animationLoop),this.animationLoop=requestAnimationFrame(this.animate);var t=Date.now(),e=t-this._then;e>this.options.frameRate&&(this._then=t-e%this.options.frameRate,this.render())},r.prototype.prerender=function(){this.generated=!1,!!this.field&&(this.particles=this.prepareParticlePaths(),this.generated=!0,!this.starting&&!this.forceStop&&(this.starting=!0,this._then=Date.now(),this.animate()))},r.prototype.render=function(){this.moveParticles(),this.drawParticles(),this.postrender()},r.prototype.postrender=function(){},r.Field=Dp,r}(),Kp={ANIMATING:0,INTERACTING:1};function MI(r,t,e,A,n,i){for(var o=i||[],a=0,s=t;s<e;s+=A){var u=r[s],l=r[s+1];o[a++]=n[0]*u+n[2]*l+n[4],o[a++]=n[1]*u+n[3]*l+n[5]}return i&&o.length!=a&&(o.length=a),o}var PI=function(){function r(){this.executors={},this.renderedTransform_=xA()}return r.prototype.execute=function(t,e,A,n,i,o,a){if(this.executors[e]){var s=this.executors[e];s.project=this.getPixelFromCoordinateInternal.bind(this,A,n),s.unproject=this.getCoordinateFromPixel.bind(this,A),s.intersectsCoordinate=this.intersectsCoordinate.bind(this,A),s.prerender(),s.render()}else{var s=new LI(t,o,a);this.executors[e]=s,s.project=this.getPixelFromCoordinateInternal.bind(this,A,n),s.unproject=this.getCoordinateFromPixel.bind(this,A),s.intersectsCoordinate=this.intersectsCoordinate.bind(this,A),s.postrender=function(){},s.prerender()}},r.prototype.setOptions=function(t){var e=this;Object.keys(this.executors).forEach(function(A){var n=e.executors[A];n&&n.setOptions(t)})},r.prototype.setData=function(t){var e=this;Object.keys(this.executors).forEach(function(A){var n=e.executors[A];n&&n.updateData(t)})},r.prototype.repeatWorld=function(t,e,A){var n;return e&&FI(A,this.renderedTransform_)?n=e:(e||(e=[]),n=MI(t,0,t.length,2,A,e),$c(this.renderedTransform_,A)),n},r.prototype.getPixelFromCoordinateInternal=function(t,e,A){var n=t.viewState,i=t.pixelRatio,o=oo(A,"EPSG:4326",n.projection),a=lt(o,n.projection);if(t){var s=_t(t.coordinateToPixelTransform,a.slice(0,2)),u=this.repeatWorld(a.slice(0,2),s,e);return[u[0]*i,u[1]*i]}else return null},r.prototype.getCoordinateFromPixel=function(t,e){var A=t.viewState;if(t){var n=_t(t.pixelToCoordinateTransform,e.slice(0,2)),i=Jn(n,A.projection),o=oo(i,A.projection,"EPSG:4326");return[o[0],o[1]]}else return null},r.prototype.intersectsCoordinate=function(t,e){var A=t.viewState,n=oo(e,"EPSG:4326",A.projection),i=lt(n,A.projection);return Vi(t.extent,i.slice(0,2))},r}(),HI=function(r){Pp(t,r);function t(e){var A=r.call(this,e)||this;return A.oRender=new PI,A}return t.prototype.useContainer=function(e,A,n){r.prototype.useContainer.call(this,null,A,n)},t.prototype.prepareFrame=function(e){var A=e.layerStatesArray[e.layerIndex],n=e.viewState,i=e.viewHints,o=e.extent;if(A.extent!==void 0&&(o=Er(o,gA(A.extent,n.projection))),!i[Kp.ANIMATING]&&!e.animate&&!i[Kp.INTERACTING]&&!Zi(o))return!0;var a=this.getLayer();return a.get("forceRender")},t.prototype.renderFrame=function(e,A){var n=e.layerStatesArray[e.layerIndex],i=e.pixelRatio,o=e.viewState,a=o.projection,s=e.size,u=Math.round(s[0]*i),l=Math.round(s[1]*i);Jc(this.pixelTransform,1/i,1/i),Ao(this.inversePixelTransform,this.pixelTransform);var f=wa(this.pixelTransform);this.useContainer(A,f,n.opacity);var h=this.context,c=h.canvas;c.width!=u||c.height!=l?(c.width=u,c.height=l,c.style.transform!==f&&(c.style.transform=f)):this.containerReused||h.clearRect(0,0,u,l),this.preRender(h,e);var d=!1;if(n.extent){var p=gA(n.extent,o.projection);d=!GA(p,e.extent)&&Ht(p,e.extent),d&&this.clipUnrotated(h,e,p)}e.extent;var B=o.center,g=o.resolution,y=o.rotation;a.getExtent();var m=this.getLayer(),_=m.getWindOptions(),C=m.getData(),F=this.getRenderTransform(B,g,y,i,u,l,0);this.oRender.execute(this.context,0,e,F,F,_,C),d&&h.restore(),this.postRender(h,e);var E=n.opacity,Q=this.container;return Q!==null&&E!==parseFloat(Q.style.opacity)&&(Q.style.opacity=E===1?"":E),this.container},t}(Ra),NI={forceRender:!0,windOptions:{}},DI=function(r){Pp(t,r);function t(e,A){var n=this,i=tf({},NI,A);return n=r.call(this,i)||this,n.field=null,n.options=i,n.pickWindOptions(),n._map=i.map||null,e&&n.setData(e),n}return t.prototype.render=function(e,A){var n=this.getRenderer();if(n.prepareFrame(e))return n.renderFrame(e,A)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.getWrapX=function(){return this.get("wrapX")},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return new HI(this)},t.prototype.pickWindOptions=function(){var e=this;Object.keys(Gp).forEach(function(A){A in e.options&&(e.options.windOptions===void 0&&(e.options.windOptions={}),e.options.windOptions[A]=e.options[A])})},t.prototype.getData=function(){return this.field},t.prototype.setData=function(e){e&&e.checkFields&&e.checkFields()?this.field=e:TI(e)?this.field=RI(e):console.error("Illegal data");var A=this.getRenderer();return A&&A.oRender&&A.oRender.setData(e),this},t.prototype.updateParams=function(e){return e===void 0&&(e={}),Hp("will move to setWindOptions"),this.setWindOptions(e),this},t.prototype.getParams=function(){return Hp("will move to getWindOptions"),this.getWindOptions()},t.prototype.setWindOptions=function(e){var A=this.options.windOptions||{};this.options=tf(this.options,{windOptions:tf(A,e||{})});var n=this.getRenderer();if(n&&n.oRender){var i=this.options.windOptions;n.oRender.setOptions(i)}},t.prototype.getWindOptions=function(){return this.options.windOptions||{}},t}(xa);class GI{constructor(t){zo(this,"data",{gridVector:null,gridSource:null,windLayer:null,allgrid:{},gridOverlay:null,windClick:null,gridPointerMove:null,featureOverlay:null,hightdDraw:null});this.map=t,this.olMap=pa()}addGridData(t,e,A){const{VectorSource:n,VectorLayer:i,Feature:o,Polygon:a,Draw:s,popup:u}=this.olMap;this.initPopup(u),this.clearGridData();let l=[];const f=t.datasets;let h=t.longitudeStart;t.longitudeEnd;let c=t.latitudeStart;t.latitudeEnd;const d=t.latitudeSpan,p=t.longitudeSpan,B=t.latitudeSpan/2,g=t.longitudeNum,y=t.latitudeNum,m=t.longitudeStart;for(let E=0;E<y;E++)for(let Q=0;Q<g;Q++)E===0&&Q>0?h=h+p:E>0&&Q===0?(h=m,c=c+d):E>0&&Q>0&&(h=h+p),l.push(new o({geometry:new a([[[h-B,c+B],[h+B,c+B],[h+B,c-B],[h-B,c-B],[h-B,c+B]]]),attributes:{value:f[E][Q]}}));this.data.featureOverlay=new i({source:new n,style:ry}),this.map.addLayer(this.data.featureOverlay);let _,C;this.data.gridSource=new n({features:l}),this.data.gridVector=new i({source:this.data.gridSource,style:function(E){return Ay(E,e)}}),this.map.addLayer(this.data.gridVector);function F(E){return C=E.toString(),ny(C)}this.data.gridPointerMove=A!=="EDA10"?this.map.on("pointermove",E=>{const Q=this.map.getFeaturesAtPixel(E.pixel)[0];this.map.hasFeatureAtPixel(E.pixel)&&Q.getGeometry()instanceof a?(C=Q.get("attributes").value,Q!==_&&(_&&this.data.featureOverlay.getSource().removeFeature(_),this.data.featureOverlay.getSource().addFeature(Q),this.data.hightdDraw&&this.map.removeInteraction(this.data.hightdDraw),this.data.hightdDraw=new s({source:this.data.featureOverlay.getSource(),type:"Point",style:function(w){return F(C)}}),this.map.addInteraction(this.data.hightdDraw),_=Q)):(_&&this.data.featureOverlay.getSource().removeFeature(_),_=null,C="")}):null,A==="EDA10"&&this.addWind(t,e,u)}clearGridData(){this.data.hightdDraw&&this.map.removeInteraction(this.data.hightdDraw),this.data.gridPointerMove&&this.map.un(this.data.gridPointerMove.type,this.data.gridPointerMove.listener),this.data.gridSource&&this.data.gridSource.clear(),this.data.gridVector&&this.map.removeLayer(this.data.gridVector),this.data.featureOverlay&&this.map.removeLayer(this.data.featureOverlay),this.clearGridWindData()}addWind(t,e,A){this.changeWindData(t);const n=[],i={header:{dx:t.latitudeSpan,dy:t.longitudeSpan,la1:t.latitudeStart,la2:t.latitudeEnd,lo1:t.longitudeStart,lo2:t.longitudeEnd,numberPoints:t.longitudeNum*t.latitudeNum,ny:t.latitudeNum,nx:t.longitudeNum,parameterCategory:2,parameterNumber:2,parameterUnit:"m.s-1",parameterNumberName:"eastward_wind"},data:t.windSpeed.flat()},o={header:{dx:t.latitudeSpan,dy:t.longitudeSpan,la1:t.latitudeStart,la2:t.latitudeEnd,lo1:t.longitudeStart,lo2:t.longitudeEnd,numberPoints:t.longitudeNum*t.latitudeNum,ny:t.latitudeNum,nx:t.longitudeNum,parameterCategory:2,parameterNumber:3,parameterUnit:"m.s-1",parameterNumberName:"eastward_wind"},data:t.windDir.flat()};n.push(i),n.push(o),this.analysisWindyData(n),this.data.windLayer=new DI(n,{forceRender:!1,windOptions:{velocityScale:1/70,paths:5e3,maxAge:80,colorScale:a=>{let s;for(let u=0;u<e.length-1;u++){const l=e[u].value,f=e[u+1].value;if(a>=l&&a<f){s=e[u].r+","+e[u].g+","+e[u].b+",0.5";break}else if(a>=e[e.length-1].value){s=e[e.length-1].r+","+e[e.length-1].g+","+e[e.length-1].b+",0.5";break}}return"rgba("+s+")"},lineWidth:a=>{if(a>0&&a<=.9)return 1;if(a>1&&a<=1.9)return 1.5;if(a>2&&a<=3.9)return 2;if(a>4&&a<=5.9)return 2.5;if(a>6&&a<=7.9)return 3;if(a>8&&a<=9.9)return 3.5;if(a>10&&a<=11.9)return 4;if(a>=12)return 4.5},generateParticleOption:!1}}),this.map.addLayer(this.data.windLayer),this.data.windClick=this.map.on("singleclick",a=>{var s=iy(a.coordinate,this.data.allgrid);if(s){const u=A.childNodes[1];u.innerHTML="<span>\u98CE\u5411:"+s.direction+`
 \u98CE\u7EA7:`+s.level+`
 \u98CE\u901F:`+s.speed+"</span>",this.data.gridOverlay.setPosition(a.coordinate)}else this.closeOverly()})}initPopup(t){const{Overlay:e,popupCloser:A}=this.olMap;this.data.gridOverlay=new e({element:t,autoPan:!0,autoPanAnimation:{duration:250}}),this.map.addOverlay(this.data.gridOverlay),A.value.onclick=()=>(this.closeOverly(),A.value.blur(),!1)}closeOverly(){this.data.gridOverlay&&this.data.gridOverlay.setPosition(void 0)}clearGridWindData(){this.closeOverly(),this.data.windClick&&this.map.un(this.data.windClick.type,this.data.windClick.listener),this.data.windLayer&&this.map.removeLayer(this.data.windLayer)}changeWindData(t){const e=[],A=[],n=t.windSpeed,i=t.windDir;for(let o=0;o<n.length;o++)e.unshift(n[o]),A.unshift(i[o]);t.windSpeed=e,t.windDir=A}analysisWindyData(t){var e=0,A=[],n,i;t[0].header.parameterNumberName=="eastward_wind"?(n=t[0],i=t[1]):(n=t[1],i=t[0]);for(var o=0;o<i.header.ny;o++){for(var a=[],s=0;s<i.header.nx;s++,e++)a[s]=[n.data[e],i.data[e]];A[o]=a}this.data.allgrid.data=A,this.data.allgrid.header=t[0].header}}var bI=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",grid:GI});const kp=qt(qt({},lm),bI);const KI="https://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer",kI="https://webrd01.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",Vp={arcgisUrl:KI,gaodeMapUrl:kI};var VI=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),YI=function(r){VI(t,r);function t(e){var A=this,n=e||{},i=n.projection!==void 0?n.projection:"EPSG:3857",o=n.tileGrid!==void 0?n.tileGrid:vE({extent:Cl(i),maxResolution:n.maxResolution,maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return A=r.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,imageSmoothing:n.imageSmoothing,opaque:n.opaque,projection:i,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:n.wrapX!==void 0?n.wrapX:!0,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this,A}return t}(Jl),Af=YI,XI=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),WI=function(r){XI(t,r);function t(e,A,n,i,o,a,s){var u=this,l=e.getExtent(),f=A.getExtent(),h=f?Er(n,f):n,c=rr(h),d=ja(e,A,c,i),p=Gd,B=new Rp(e,A,h,l,d*p,i),g=B.calculateSourceExtent(),y=a(g,d,o),m=y?de.IDLE:de.EMPTY,_=y?y.getPixelRatio():1;return u=r.call(this,n,i,_,m)||this,u.targetProj_=A,u.maxSourceExtent_=l,u.triangulation_=B,u.targetResolution_=i,u.targetExtent_=n,u.sourceImage_=y,u.sourcePixelRatio_=_,u.contextOptions_=s,u.canvas_=null,u.sourceListenerKey_=null,u}return t.prototype.disposeInternal=function(){this.state==de.LOADING&&this.unlistenSource_(),r.prototype.disposeInternal.call(this)},t.prototype.getImage=function(){return this.canvas_},t.prototype.getProjection=function(){return this.targetProj_},t.prototype.reproject_=function(){var e=this.sourceImage_.getState();if(e==de.LOADED){var A=st(this.targetExtent_)/this.targetResolution_,n=Xt(this.targetExtent_)/this.targetResolution_;this.canvas_=Mp(A,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.contextOptions_)}this.state=e,this.changed()},t.prototype.load=function(){if(this.state==de.IDLE){this.state=de.LOADING,this.changed();var e=this.sourceImage_.getState();e==de.LOADED||e==de.ERROR?this.reproject_():(this.sourceListenerKey_=Ve(this.sourceImage_,$.CHANGE,function(A){var n=this.sourceImage_.getState();(n==de.LOADED||n==de.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},t.prototype.unlistenSource_=function(){it(this.sourceListenerKey_),this.sourceListenerKey_=null},t}(hc),jI=WI,Yp=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),rf={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},nf=function(r){Yp(t,r);function t(e,A){var n=r.call(this,e)||this;return n.image=A,n}return t}(UA),ZI=function(r){Yp(t,r);function t(e){var A=r.call(this,{attributions:e.attributions,projection:e.projection,state:e.state})||this;return A.on,A.once,A.un,A.resolutions_=e.resolutions!==void 0?e.resolutions:null,A.reprojectedImage_=null,A.reprojectedRevision_=0,A.contextOptions_=e.imageSmoothing===!1?Zl:void 0,A}return t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getContextOptions=function(){return this.contextOptions_},t.prototype.findNearestResolution=function(e){if(this.resolutions_){var A=ra(this.resolutions_,e,0);e=this.resolutions_[A]}return e},t.prototype.getImage=function(e,A,n,i){var o=this.getProjection();if(!RA||!o||!i||VA(o,i))return o&&(i=o),this.getImageInternal(e,A,n,i);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&VA(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==A&&Dn(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new jI(o,i,e,A,n,function(a,s,u){return this.getImageInternal(a,s,u,o)}.bind(this),this.contextOptions_),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_},t.prototype.getImageInternal=function(e,A,n,i){return Z()},t.prototype.handleImageChange=function(e){var A=e.target;switch(A.getState()){case de.LOADING:this.loading=!0,this.dispatchEvent(new nf(rf.IMAGELOADSTART,A));break;case de.LOADED:this.loading=!1,this.dispatchEvent(new nf(rf.IMAGELOADEND,A));break;case de.ERROR:this.loading=!1,this.dispatchEvent(new nf(rf.IMAGELOADERROR,A));break}},t}(pl);function zI(r,t){r.getImage().src=t}var $I=ZI;function Bo(r,t){var e=[];Object.keys(t).forEach(function(n){t[n]!==null&&t[n]!==void 0&&e.push(n+"="+encodeURIComponent(t[n]))});var A=e.join("&");return r=r.replace(/[?&]$/,""),r=r.indexOf("?")===-1?r+"?":r+"&",r+A}var Za={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"},JI=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),Xp=[101,101],qI=function(r){JI(t,r);function t(e){var A=this,n=e||{};return A=r.call(this,{attributions:n.attributions,imageSmoothing:n.imageSmoothing,projection:n.projection,resolutions:n.resolutions})||this,A.crossOrigin_=n.crossOrigin!==void 0?n.crossOrigin:null,A.url_=n.url,A.imageLoadFunction_=n.imageLoadFunction!==void 0?n.imageLoadFunction:zI,A.params_=n.params||{},A.v13_=!0,A.updateV13_(),A.serverType_=n.serverType,A.hidpi_=n.hidpi!==void 0?n.hidpi:!0,A.image_=null,A.imageSize_=[0,0],A.renderedRevision_=0,A.ratio_=n.ratio!==void 0?n.ratio:1.5,A}return t.prototype.getFeatureInfoUrl=function(e,A,n,i){if(this.url_!==void 0){var o=ze(n),a=this.getProjection();a&&a!==o&&(A=ja(a,o,e,A),e=oo(e,o,a));var s=bn(e,A,0,Xp),u={SERVICE:"WMS",VERSION:Wa,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Ae(u,this.params_,i);var l=Math.floor((e[0]-s[0])/A),f=Math.floor((s[3]-e[1])/A);return u[this.v13_?"I":"X"]=l,u[this.v13_?"J":"Y"]=f,this.getRequestUrl_(s,Xp,1,a||o,u)}},t.prototype.getLegendUrl=function(e,A){if(this.url_!==void 0){var n={SERVICE:"WMS",VERSION:Wa,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(A===void 0||A.LAYER===void 0){var i=this.params_.LAYERS,o=!Array.isArray(i)||i.length===1;if(!o)return;n.LAYER=i}if(e!==void 0){var a=this.getProjection()?this.getProjection().getMetersPerUnit():1,s=28e-5;n.SCALE=e*a/s}return Ae(n,A),Bo(this.url_,n)}},t.prototype.getParams=function(){return this.params_},t.prototype.getImageInternal=function(e,A,n,i){if(this.url_===void 0)return null;A=this.findNearestResolution(A),n!=1&&(!this.hidpi_||this.serverType_===void 0)&&(n=1);var o=A/n,a=rr(e),s=Math.ceil(st(e)/o),u=Math.ceil(Xt(e)/o),l=bn(a,o,0,[s,u]),f=Math.ceil(this.ratio_*st(e)/o),h=Math.ceil(this.ratio_*Xt(e)/o),c=bn(a,o,0,[f,h]),d=this.image_;if(d&&this.renderedRevision_==this.getRevision()&&d.getResolution()==A&&d.getPixelRatio()==n&&GA(d.getExtent(),l))return d;var p={SERVICE:"WMS",VERSION:Wa,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Ae(p,this.params_),this.imageSize_[0]=Math.round(st(c)/o),this.imageSize_[1]=Math.round(Xt(c)/o);var B=this.getRequestUrl_(c,this.imageSize_,n,i,p);return this.image_=new bB(c,A,n,B,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener($.CHANGE,this.handleImageChange.bind(this)),this.image_},t.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},t.prototype.getRequestUrl_=function(e,A,n,i,o){if(ae(this.url_!==void 0,9),o[this.v13_?"CRS":"SRS"]=i.getCode(),"STYLES"in this.params_||(o.STYLES=""),n!=1)switch(this.serverType_){case Za.GEOSERVER:var a=90*n+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+a:o.FORMAT_OPTIONS="dpi:"+a;break;case Za.MAPSERVER:o.MAP_RESOLUTION=90*n;break;case Za.CARMENTA_SERVER:case Za.QGIS:o.DPI=90*n;break;default:ae(!1,8);break}o.WIDTH=A[0],o.HEIGHT=A[1];var s=i.getAxisOrientation(),u;return this.v13_&&s.substr(0,2)=="ne"?u=[e[1],e[0],e[3],e[2]]:u=e,o.BBOX=u.join(","),Bo(this.url_,o)},t.prototype.getUrl=function(){return this.url_},t.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},t.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},t.prototype.updateParams=function(e){Ae(this.params_,e),this.updateV13_(),this.image_=null,this.changed()},t.prototype.updateV13_=function(){var e=this.params_.VERSION||Wa;this.v13_=Sw(e,"1.3")>=0},t}($I),eU=qI,tU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),AU='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',rU=function(r){tU(t,r);function t(e){var A=this,n=e||{},i;n.attributions!==void 0?i=n.attributions:i=[AU];var o=n.crossOrigin!==void 0?n.crossOrigin:"anonymous",a=n.url!==void 0?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return A=r.call(this,{attributions:i,attributionsCollapsible:!1,cacheSize:n.cacheSize,crossOrigin:o,imageSmoothing:n.imageSmoothing,maxZoom:n.maxZoom!==void 0?n.maxZoom:19,opaque:n.opaque!==void 0?n.opaque:!0,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,transition:n.transition,url:a,wrapX:n.wrapX,zDirection:n.zDirection})||this,A}return t}(Af),nU=rU,iU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),oU=function(r){iU(t,r);function t(e){var A=this,n=e||{};return A=r.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,imageSmoothing:n.imageSmoothing,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction,url:n.url,urls:n.urls,wrapX:n.wrapX!==void 0?n.wrapX:!0,transition:n.transition,zDirection:n.zDirection})||this,A.params_=n.params||{},A.hidpi_=n.hidpi!==void 0?n.hidpi:!0,A.tmpExtent_=tA(),A.setKey(A.getKeyForParams_()),A}return t.prototype.getKeyForParams_=function(){var e=0,A=[];for(var n in this.params_)A[e++]=n+"-"+this.params_[n];return A.join("/")},t.prototype.getParams=function(){return this.params_},t.prototype.getRequestUrl_=function(e,A,n,i,o,a){var s=this.urls;if(!!s){var u=o.getCode().split(/:(?=\d+$)/).pop();a.SIZE=A[0]+","+A[1],a.BBOX=n.join(","),a.BBOXSR=u,a.IMAGESR=u,a.DPI=Math.round(a.DPI?a.DPI*i:90*i);var l;if(s.length==1)l=s[0];else{var f=mr(rp(e),s.length);l=s[f]}var h=l.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return Bo(h,a)}},t.prototype.getTilePixelRatio=function(e){return this.hidpi_?e:1},t.prototype.updateParams=function(e){Ae(this.params_,e),this.setKey(this.getKeyForParams_())},t.prototype.tileUrlFunction=function(e,A,n){var i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(n)),!(i.getResolutions().length<=e[0])){A!=1&&!this.hidpi_&&(A=1);var o=i.getTileCoordExtent(e,this.tmpExtent_),a=eA(i.getTileSize(e[0]),this.tmpSize);A!=1&&(a=Yh(a,A,this.tmpSize));var s={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Ae(s,this.params_),this.getRequestUrl_(e,a,o,A,n,s)}},t}(Jl),aU=oU,za={KVP:"KVP",REST:"REST"},sU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),uU=function(r){sU(t,r);function t(e){var A=r.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})||this;return A.matrixIds_=e.matrixIds,A}return t.prototype.getMatrixId=function(e){return this.matrixIds_[e]},t.prototype.getMatrixIds=function(){return this.matrixIds_},t}(Da),Wp=uU,lU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),fU=function(r){lU(t,r);function t(e){var A=this,n=e.requestEncoding!==void 0?e.requestEncoding:za.KVP,i=e.tileGrid,o=e.urls;return o===void 0&&e.url!==void 0&&(o=sp(e.url)),A=r.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:o,wrapX:e.wrapX!==void 0?e.wrapX:!1,transition:e.transition,zDirection:e.zDirection})||this,A.version_=e.version!==void 0?e.version:"1.0.0",A.format_=e.format!==void 0?e.format:"image/jpeg",A.dimensions_=e.dimensions!==void 0?e.dimensions:{},A.layer_=e.layer,A.matrixSet_=e.matrixSet,A.style_=e.style,A.requestEncoding_=n,A.setKey(A.getKeyForDimensions_()),o&&o.length>0&&(A.tileUrlFunction=El(o.map(A.createFromWMTSTemplate.bind(A)))),A}return t.prototype.setUrls=function(e){this.urls=e;var A=e.join(`
`);this.setTileUrlFunction(El(e.map(this.createFromWMTSTemplate.bind(this))),A)},t.prototype.getDimensions=function(){return this.dimensions_},t.prototype.getFormat=function(){return this.format_},t.prototype.getLayer=function(){return this.layer_},t.prototype.getMatrixSet=function(){return this.matrixSet_},t.prototype.getRequestEncoding=function(){return this.requestEncoding_},t.prototype.getStyle=function(){return this.style_},t.prototype.getVersion=function(){return this.version_},t.prototype.getKeyForDimensions_=function(){var e=0,A=[];for(var n in this.dimensions_)A[e++]=n+"-"+this.dimensions_[n];return A.join("/")},t.prototype.updateDimensions=function(e){Ae(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())},t.prototype.createFromWMTSTemplate=function(e){var A=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};A==za.KVP&&Ae(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=A==za.KVP?Bo(e,n):e.replace(/\{(\w+?)\}/g,function(a,s){return s.toLowerCase()in n?n[s.toLowerCase()]:a});var i=this.tileGrid,o=this.dimensions_;return function(a,s,u){if(a){var l={TileMatrix:i.getMatrixId(a[0]),TileCol:a[1],TileRow:a[2]};Ae(l,o);var f=e;return A==za.KVP?f=Bo(f,l):f=f.replace(/\{(\w+?)\}/g,function(h,c){return l[c]}),f}else return}},t}(Jl),jp=fU,of="http://www.w3.org/2001/XMLSchema-instance";function le(r,t){return $p().createElementNS(r,t)}function yo(r,t){return Zp(r,t,[]).join("")}function Zp(r,t,e){if(r.nodeType==Node.CDATA_SECTION_NODE||r.nodeType==Node.TEXT_NODE)t?e.push(String(r.nodeValue).replace(/(\r\n|\r|\n)/g,"")):e.push(r.nodeValue);else{var A=void 0;for(A=r.firstChild;A;A=A.nextSibling)Zp(A,t,e)}return e}function ii(r){return"documentElement"in r}function hU(r,t,e){return r.getAttributeNS(t,e)||""}function oi(r){return new DOMParser().parseFromString(r,"application/xml")}function se(r,t){return function(e,A){var n=r.call(t!==void 0?t:this,e,A);if(n!==void 0){var i=A[A.length-1];i.push(n)}}}function J(r,t){return function(e,A){var n=r.call(t!==void 0?t:this,e,A);n!==void 0&&(A[A.length-1]=n)}}function LA(r,t,e){return function(A,n){var i=r.call(e!==void 0?e:this,A,n);if(i!==void 0){var o=n[n.length-1],a=t!==void 0?t:A.localName;o[a]=i}}}function x(r,t){return function(e,A,n){r.call(t!==void 0?t:this,e,A,n);var i=n[n.length-1],o=i.node;o.appendChild(e)}}function nA(r,t){var e=r;return function(A,n,i){var o=n[n.length-1],a=o.node,s=e;s===void 0&&(s=i);var u=t!==void 0?t:a.namespaceURI;return le(u,s)}}var zp=nA();function yn(r,t,e,A){var n;for(n=t.firstElementChild;n;n=n.nextElementSibling){var i=r[n.namespaceURI];if(i!==void 0){var o=i[n.localName];o!==void 0&&o.call(A,n,e)}}}function At(r,t,e,A,n){return A.push(r),yn(t,e,A,n),A.pop()}function cU(r,t,e,A,n,i){for(var o=(n!==void 0?n:e).length,a,s,u=0;u<o;++u)a=e[u],a!==void 0&&(s=t.call(i!==void 0?i:this,a,A,n!==void 0?n[u]:void 0),s!==void 0&&r[s.namespaceURI][s.localName].call(i,s,a,A))}function Bt(r,t,e,A,n,i,o){return n.push(r),cU(t,e,A,n,i,o),n.pop()}var af=void 0;function dU(){return af===void 0&&typeof XMLSerializer!="undefined"&&(af=new XMLSerializer),af}var sf=void 0;function $p(){return sf===void 0&&typeof document!="undefined"&&(sf=document.implementation.createDocument("","",null)),sf}var pU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),gU=function(r){pU(t,r);function t(){var e=r.call(this)||this;return e.xmlSerializer_=dU(),e}return t.prototype.getType=function(){return cn.XML},t.prototype.readFeature=function(e,A){if(e)if(typeof e=="string"){var n=oi(e);return this.readFeatureFromDocument(n,A)}else return ii(e)?this.readFeatureFromDocument(e,A):this.readFeatureFromNode(e,A);else return null},t.prototype.readFeatureFromDocument=function(e,A){var n=this.readFeaturesFromDocument(e,A);return n.length>0?n[0]:null},t.prototype.readFeatureFromNode=function(e,A){return null},t.prototype.readFeatures=function(e,A){if(e)if(typeof e=="string"){var n=oi(e);return this.readFeaturesFromDocument(n,A)}else return ii(e)?this.readFeaturesFromDocument(e,A):this.readFeaturesFromNode(e,A);else return[]},t.prototype.readFeaturesFromDocument=function(e,A){for(var n=[],i=e.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&lA(n,this.readFeaturesFromNode(i,A));return n},t.prototype.readFeaturesFromNode=function(e,A){return Z()},t.prototype.readGeometry=function(e,A){if(e)if(typeof e=="string"){var n=oi(e);return this.readGeometryFromDocument(n,A)}else return ii(e)?this.readGeometryFromDocument(e,A):this.readGeometryFromNode(e,A);else return null},t.prototype.readGeometryFromDocument=function(e,A){return null},t.prototype.readGeometryFromNode=function(e,A){return null},t.prototype.readProjection=function(e){if(e)if(typeof e=="string"){var A=oi(e);return this.readProjectionFromDocument(A)}else return ii(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e);else return null},t.prototype.readProjectionFromDocument=function(e){return this.dataProjection},t.prototype.readProjectionFromNode=function(e){return this.dataProjection},t.prototype.writeFeature=function(e,A){var n=this.writeFeatureNode(e,A);return this.xmlSerializer_.serializeToString(n)},t.prototype.writeFeatureNode=function(e,A){return null},t.prototype.writeFeatures=function(e,A){var n=this.writeFeaturesNode(e,A);return this.xmlSerializer_.serializeToString(n)},t.prototype.writeFeaturesNode=function(e,A){return null},t.prototype.writeGeometry=function(e,A){var n=this.writeGeometryNode(e,A);return this.xmlSerializer_.serializeToString(n)},t.prototype.writeGeometryNode=function(e,A){return null},t}(Kd),Jp=gU,vU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),lr="http://www.opengis.net/gml",BU=/^[\s\xa0]*$/,yt=function(r){vU(t,r);function t(e){var A=r.call(this)||this,n=e||{};return A.featureType=n.featureType,A.featureNS=n.featureNS,A.srsName=n.srsName,A.schemaLocation="",A.FEATURE_COLLECTION_PARSERS={},A.FEATURE_COLLECTION_PARSERS[A.namespace]={featureMember:se(A.readFeaturesInternal),featureMembers:J(A.readFeaturesInternal)},A.supportedMediaTypes=["application/gml+xml"],A}return t.prototype.readFeaturesInternal=function(e,A){var n=e.localName,i=null;if(n=="FeatureCollection")i=At([],this.FEATURE_COLLECTION_PARSERS,e,A,this);else if(n=="featureMembers"||n=="featureMember"||n=="member"){var o=A[0],a=o.featureType,s=o.featureNS,u="p",l="p0";if(!a&&e.childNodes){a=[],s={};for(var f=0,h=e.childNodes.length;f<h;++f){var c=e.childNodes[f];if(c.nodeType===1){var d=c.nodeName.split(":").pop();if(a.indexOf(d)===-1){var p="",B=0,g=c.namespaceURI;for(var y in s){if(s[y]===g){p=y;break}++B}p||(p=u+B,s[p]=g),a.push(p+":"+d)}}}n!="featureMember"&&(o.featureType=a,o.featureNS=s)}if(typeof s=="string"){var m=s;s={},s[l]=m}var _={},C=Array.isArray(a)?a:[a];for(var F in s){for(var E={},f=0,h=C.length;f<h;++f){var Q=C[f].indexOf(":")===-1?l:C[f].split(":")[0];Q===F&&(E[C[f].split(":").pop()]=n=="featureMembers"?se(this.readFeatureElement,this):J(this.readFeatureElement,this))}_[s[F]]=E}n=="featureMember"||n=="member"?i=At(void 0,_,e,A):i=At([],_,e,A)}return i===null&&(i=[]),i},t.prototype.readGeometryElement=function(e,A){var n=A[0];n.srsName=e.firstElementChild.getAttribute("srsName"),n.srsDimension=e.firstElementChild.getAttribute("srsDimension");var i=At(null,this.GEOMETRY_PARSERS,e,A,this);if(i)return Array.isArray(i)?vl(i,n):fo(i,!1,n)},t.prototype.readFeatureElementInternal=function(e,A,n){for(var i,o={},a=e.firstElementChild;a;a=a.nextElementSibling){var s=void 0,u=a.localName;a.childNodes.length===0||a.childNodes.length===1&&(a.firstChild.nodeType===3||a.firstChild.nodeType===4)?(s=yo(a,!1),BU.test(s)&&(s=void 0)):(n&&(s=this.readGeometryElement(a,A)),s?u!=="boundedBy"&&(i=u):s=this.readFeatureElementInternal(a,A,!1)),o[u]?(o[u]instanceof Array||(o[u]=[o[u]]),o[u].push(s)):o[u]=s;var l=a.attributes.length;if(l>0){o[u]={_content_:o[u]};for(var f=0;f<l;f++){var h=a.attributes[f].name;o[u][h]=a.attributes[f].value}}}if(n){var c=new ir(o);i&&c.setGeometryName(i);var d=e.getAttribute("fid")||hU(e,this.namespace,"id");return d&&c.setId(d),c}else return o},t.prototype.readFeatureElement=function(e,A){return this.readFeatureElementInternal(e,A,!0)},t.prototype.readPoint=function(e,A){var n=this.readFlatCoordinatesFromNode(e,A);if(n)return new vA(n,ot.XYZ)},t.prototype.readMultiPoint=function(e,A){var n=At([],this.MULTIPOINT_PARSERS,e,A,this);if(n)return new Ma(n)},t.prototype.readMultiLineString=function(e,A){var n=At([],this.MULTILINESTRING_PARSERS,e,A,this);if(n)return new La(n)},t.prototype.readMultiPolygon=function(e,A){var n=At([],this.MULTIPOLYGON_PARSERS,e,A,this);if(n)return new Pa(n)},t.prototype.pointMemberParser=function(e,A){yn(this.POINTMEMBER_PARSERS,e,A,this)},t.prototype.lineStringMemberParser=function(e,A){yn(this.LINESTRINGMEMBER_PARSERS,e,A,this)},t.prototype.polygonMemberParser=function(e,A){yn(this.POLYGONMEMBER_PARSERS,e,A,this)},t.prototype.readLineString=function(e,A){var n=this.readFlatCoordinatesFromNode(e,A);if(n){var i=new YA(n,ot.XYZ);return i}else return},t.prototype.readFlatLinearRing=function(e,A){var n=At(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,A,this);if(n)return n},t.prototype.readLinearRing=function(e,A){var n=this.readFlatCoordinatesFromNode(e,A);if(n)return new Bl(n,ot.XYZ)},t.prototype.readPolygon=function(e,A){var n=At([null],this.FLAT_LINEAR_RINGS_PARSERS,e,A,this);if(n&&n[0]){var i=n[0],o=[i.length],a=void 0,s=void 0;for(a=1,s=n.length;a<s;++a)lA(i,n[a]),o.push(i.length);return new sr(i,ot.XYZ,o)}else return},t.prototype.readFlatCoordinatesFromNode=function(e,A){return At(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,A,this)},t.prototype.readGeometryFromNode=function(e,A){var n=this.readGeometryElement(e,[this.getReadOptions(e,A||{})]);return n||null},t.prototype.readFeaturesFromNode=function(e,A){var n={featureType:this.featureType,featureNS:this.featureNS};A&&Ae(n,this.getReadOptions(e,A));var i=this.readFeaturesInternal(e,[n]);return i||[]},t.prototype.readProjectionFromNode=function(e){return ze(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))},t}(Jp);yt.prototype.namespace=lr;yt.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}};yt.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}};yt.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}};yt.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:se(yt.prototype.pointMemberParser),pointMembers:se(yt.prototype.pointMemberParser)}};yt.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:se(yt.prototype.lineStringMemberParser),lineStringMembers:se(yt.prototype.lineStringMemberParser)}};yt.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:se(yt.prototype.polygonMemberParser),polygonMembers:se(yt.prototype.polygonMemberParser)}};yt.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:se(yt.prototype.readFlatCoordinatesFromNode)}};yt.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:se(yt.prototype.readLineString)}};yt.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:se(yt.prototype.readPolygon)}};yt.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:J(yt.prototype.readFlatLinearRing)}};var Ge=yt;function ai(r){var t=yo(r,!1);return si(t)}function si(r){var t=/^\s*(\d+)\s*$/.exec(r);if(t)return parseInt(t[1],10)}function Et(r,t){r.appendChild($p().createTextNode(t))}var yU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),_U=lr+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",wU={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Xe=function(r){yU(t,r);function t(e){var A=this,n=e||{};return A=r.call(this,n)||this,A.FEATURE_COLLECTION_PARSERS[lr].featureMember=se(A.readFeaturesInternal),A.schemaLocation=n.schemaLocation?n.schemaLocation:_U,A}return t.prototype.readFlatCoordinates=function(e,A){var n=yo(e,!1).replace(/^\s*|\s*$/g,""),i=A[0],o=i.srsName,a="enu";if(o){var s=ze(o);s&&(a=s.getAxisOrientation())}for(var u=n.trim().split(/\s+/),l=[],f=0,h=u.length;f<h;f++){var c=u[f].split(/,+/),d=parseFloat(c[0]),p=parseFloat(c[1]),B=c.length===3?parseFloat(c[2]):0;a.substr(0,2)==="en"?l.push(d,p,B):l.push(p,d,B)}return l},t.prototype.readBox=function(e,A){var n=At([null],this.BOX_PARSERS_,e,A,this);return AA(n[1][0],n[1][1],n[1][3],n[1][4])},t.prototype.innerBoundaryIsParser=function(e,A){var n=At(void 0,this.RING_PARSERS,e,A,this);if(n){var i=A[A.length-1];i.push(n)}},t.prototype.outerBoundaryIsParser=function(e,A){var n=At(void 0,this.RING_PARSERS,e,A,this);if(n){var i=A[A.length-1];i[0]=n}},t.prototype.GEOMETRY_NODE_FACTORY_=function(e,A,n){var i=A[A.length-1],o=i.multiSurface,a=i.surface,s=i.multiCurve,u;return Array.isArray(e)?u="Envelope":(u=e.getType(),u==="MultiPolygon"&&o===!0?u="MultiSurface":u==="Polygon"&&a===!0?u="Surface":u==="MultiLineString"&&s===!0&&(u="MultiCurve")),le("http://www.opengis.net/gml",u)},t.prototype.writeFeatureElement=function(e,A,n){var i=A.getId();i&&e.setAttribute("fid",i);var o=n[n.length-1],a=o.featureNS,s=A.getGeometryName();o.serializers||(o.serializers={},o.serializers[a]={});var u=[],l=[];if(A.hasProperties()){var f=A.getProperties();for(var h in f){var c=f[h];c!==null&&(u.push(h),l.push(c),h==s||typeof c.getSimplifiedGeometry=="function"?h in o.serializers[a]||(o.serializers[a][h]=x(this.writeGeometryElement,this)):h in o.serializers[a]||(o.serializers[a][h]=x(Et)))}}var d=Ae({},o);d.node=e,Bt(d,o.serializers,nA(void 0,a),l,n,u)},t.prototype.writeCurveOrLineString=function(e,A,n){var i=n[n.length-1],o=i.srsName;if(e.nodeName!=="LineStringSegment"&&o&&e.setAttribute("srsName",o),e.nodeName==="LineString"||e.nodeName==="LineStringSegment"){var a=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(a),this.writeCoordinates_(a,A,n)}else if(e.nodeName==="Curve"){var s=le(e.namespaceURI,"segments");e.appendChild(s),this.writeCurveSegments_(s,A,n)}},t.prototype.writeLineStringOrCurveMember=function(e,A,n){var i=this.GEOMETRY_NODE_FACTORY_(A,n);i&&(e.appendChild(i),this.writeCurveOrLineString(i,A,n))},t.prototype.writeMultiCurveOrLineString=function(e,A,n){var i=n[n.length-1],o=i.hasZ,a=i.srsName,s=i.curve;a&&e.setAttribute("srsName",a);var u=A.getLineStrings();Bt({node:e,hasZ:o,srsName:a,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,u,n,void 0,this)},t.prototype.writeGeometryElement=function(e,A,n){var i=n[n.length-1],o=Ae({},i);o.node=e;var a;Array.isArray(A)?a=vl(A,i):a=fo(A,!0,i),Bt(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[a],n,void 0,this)},t.prototype.createCoordinatesNode_=function(e){var A=le(e,"coordinates");return A.setAttribute("decimal","."),A.setAttribute("cs",","),A.setAttribute("ts"," "),A},t.prototype.writeCoordinates_=function(e,A,n){for(var i=n[n.length-1],o=i.hasZ,a=i.srsName,s=A.getCoordinates(),u=s.length,l=new Array(u),f=0;f<u;++f){var h=s[f];l[f]=this.getCoords_(h,a,o)}Et(e,l.join(" "))},t.prototype.writeCurveSegments_=function(e,A,n){var i=le(e.namespaceURI,"LineStringSegment");e.appendChild(i),this.writeCurveOrLineString(i,A,n)},t.prototype.writeSurfaceOrPolygon=function(e,A,n){var i=n[n.length-1],o=i.hasZ,a=i.srsName;if(e.nodeName!=="PolygonPatch"&&a&&e.setAttribute("srsName",a),e.nodeName==="Polygon"||e.nodeName==="PolygonPatch"){var s=A.getLinearRings();Bt({node:e,hasZ:o,srsName:a},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,s,n,void 0,this)}else if(e.nodeName==="Surface"){var u=le(e.namespaceURI,"patches");e.appendChild(u),this.writeSurfacePatches_(u,A,n)}},t.prototype.RING_NODE_FACTORY_=function(e,A,n){var i=A[A.length-1],o=i.node,a=i.exteriorWritten;return a===void 0&&(i.exteriorWritten=!0),le(o.namespaceURI,a!==void 0?"innerBoundaryIs":"outerBoundaryIs")},t.prototype.writeSurfacePatches_=function(e,A,n){var i=le(e.namespaceURI,"PolygonPatch");e.appendChild(i),this.writeSurfaceOrPolygon(i,A,n)},t.prototype.writeRing=function(e,A,n){var i=le(e.namespaceURI,"LinearRing");e.appendChild(i),this.writeLinearRing(i,A,n)},t.prototype.getCoords_=function(e,A,n){var i="enu";A&&(i=ze(A).getAxisOrientation());var o=i.substr(0,2)==="en"?e[0]+","+e[1]:e[1]+","+e[0];if(n){var a=e[2]||0;o+=","+a}return o},t.prototype.writePoint=function(e,A,n){var i=n[n.length-1],o=i.hasZ,a=i.srsName;a&&e.setAttribute("srsName",a);var s=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(s);var u=A.getCoordinates(),l=this.getCoords_(u,a,o);Et(s,l)},t.prototype.writeMultiPoint=function(e,A,n){var i=n[n.length-1],o=i.hasZ,a=i.srsName;a&&e.setAttribute("srsName",a);var s=A.getPoints();Bt({node:e,hasZ:o,srsName:a},this.POINTMEMBER_SERIALIZERS,nA("pointMember"),s,n,void 0,this)},t.prototype.writePointMember=function(e,A,n){var i=le(e.namespaceURI,"Point");e.appendChild(i),this.writePoint(i,A,n)},t.prototype.writeLinearRing=function(e,A,n){var i=n[n.length-1],o=i.srsName;o&&e.setAttribute("srsName",o);var a=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(a),this.writeCoordinates_(a,A,n)},t.prototype.writeMultiSurfaceOrPolygon=function(e,A,n){var i=n[n.length-1],o=i.hasZ,a=i.srsName,s=i.surface;a&&e.setAttribute("srsName",a);var u=A.getPolygons();Bt({node:e,hasZ:o,srsName:a,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,u,n,void 0,this)},t.prototype.writeSurfaceOrPolygonMember=function(e,A,n){var i=this.GEOMETRY_NODE_FACTORY_(A,n);i&&(e.appendChild(i),this.writeSurfaceOrPolygon(i,A,n))},t.prototype.writeEnvelope=function(e,A,n){var i=n[n.length-1],o=i.srsName;o&&e.setAttribute("srsName",o);var a=["lowerCorner","upperCorner"],s=[A[0]+" "+A[1],A[2]+" "+A[3]];Bt({node:e},this.ENVELOPE_SERIALIZERS,zp,s,n,a,this)},t.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,A,n){var i=A[A.length-1].node;return le("http://www.opengis.net/gml",wU[i.nodeName])},t}(Ge);Xe.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:J(Xe.prototype.readFlatCoordinates)}};Xe.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:Xe.prototype.innerBoundaryIsParser,outerBoundaryIs:Xe.prototype.outerBoundaryIsParser}};Xe.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:se(Xe.prototype.readFlatCoordinates)}};Xe.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:J(Ge.prototype.readPoint),MultiPoint:J(Ge.prototype.readMultiPoint),LineString:J(Ge.prototype.readLineString),MultiLineString:J(Ge.prototype.readMultiLineString),LinearRing:J(Ge.prototype.readLinearRing),Polygon:J(Ge.prototype.readPolygon),MultiPolygon:J(Ge.prototype.readMultiPolygon),Box:J(Xe.prototype.readBox)}};Xe.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:x(Xe.prototype.writeCurveOrLineString),MultiCurve:x(Xe.prototype.writeMultiCurveOrLineString),Point:x(Xe.prototype.writePoint),MultiPoint:x(Xe.prototype.writeMultiPoint),LineString:x(Xe.prototype.writeCurveOrLineString),MultiLineString:x(Xe.prototype.writeMultiCurveOrLineString),LinearRing:x(Xe.prototype.writeLinearRing),Polygon:x(Xe.prototype.writeSurfaceOrPolygon),MultiPolygon:x(Xe.prototype.writeMultiSurfaceOrPolygon),Surface:x(Xe.prototype.writeSurfaceOrPolygon),MultiSurface:x(Xe.prototype.writeMultiSurfaceOrPolygon),Envelope:x(Xe.prototype.writeEnvelope)}};Xe.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:x(Xe.prototype.writeLineStringOrCurveMember),curveMember:x(Xe.prototype.writeLineStringOrCurveMember)}};Xe.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:x(Xe.prototype.writeRing),innerBoundaryIs:x(Xe.prototype.writeRing)}};Xe.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:x(Xe.prototype.writePointMember)}};Xe.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:x(Xe.prototype.writeSurfaceOrPolygonMember),polygonMember:x(Xe.prototype.writeSurfaceOrPolygonMember)}};Xe.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:x(Et),upperCorner:x(Et)}};var _o=Xe,mU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),CU=lr+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",EU={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},X=function(r){mU(t,r);function t(e){var A=this,n=e||{};return A=r.call(this,n)||this,A.surface_=n.surface!==void 0?n.surface:!1,A.curve_=n.curve!==void 0?n.curve:!1,A.multiCurve_=n.multiCurve!==void 0?n.multiCurve:!0,A.multiSurface_=n.multiSurface!==void 0?n.multiSurface:!0,A.schemaLocation=n.schemaLocation?n.schemaLocation:CU,A.hasZ=n.hasZ!==void 0?n.hasZ:!1,A}return t.prototype.readMultiCurve=function(e,A){var n=At([],this.MULTICURVE_PARSERS,e,A,this);if(n){var i=new La(n);return i}else return},t.prototype.readMultiSurface=function(e,A){var n=At([],this.MULTISURFACE_PARSERS,e,A,this);if(n)return new Pa(n)},t.prototype.curveMemberParser=function(e,A){yn(this.CURVEMEMBER_PARSERS,e,A,this)},t.prototype.surfaceMemberParser=function(e,A){yn(this.SURFACEMEMBER_PARSERS,e,A,this)},t.prototype.readPatch=function(e,A){return At([null],this.PATCHES_PARSERS,e,A,this)},t.prototype.readSegment=function(e,A){return At([null],this.SEGMENTS_PARSERS,e,A,this)},t.prototype.readPolygonPatch=function(e,A){return At([null],this.FLAT_LINEAR_RINGS_PARSERS,e,A,this)},t.prototype.readLineStringSegment=function(e,A){return At([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,A,this)},t.prototype.interiorParser=function(e,A){var n=At(void 0,this.RING_PARSERS,e,A,this);if(n){var i=A[A.length-1];i.push(n)}},t.prototype.exteriorParser=function(e,A){var n=At(void 0,this.RING_PARSERS,e,A,this);if(n){var i=A[A.length-1];i[0]=n}},t.prototype.readSurface=function(e,A){var n=At([null],this.SURFACE_PARSERS,e,A,this);if(n&&n[0]){var i=n[0],o=[i.length],a=void 0,s=void 0;for(a=1,s=n.length;a<s;++a)lA(i,n[a]),o.push(i.length);return new sr(i,ot.XYZ,o)}else return},t.prototype.readCurve=function(e,A){var n=At([null],this.CURVE_PARSERS,e,A,this);if(n){var i=new YA(n,ot.XYZ);return i}else return},t.prototype.readEnvelope=function(e,A){var n=At([null],this.ENVELOPE_PARSERS,e,A,this);return AA(n[1][0],n[1][1],n[2][0],n[2][1])},t.prototype.readFlatPos=function(e,A){for(var n=yo(e,!1),i=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,o=[],a;a=i.exec(n);)o.push(parseFloat(a[1])),n=n.substr(a[0].length);if(n===""){var s=A[0],u=s.srsName,l="enu";if(u){var f=ze(u);l=f.getAxisOrientation()}if(l==="neu"){var h=void 0,c=void 0;for(h=0,c=o.length;h<c;h+=3){var d=o[h],p=o[h+1];o[h]=p,o[h+1]=d}}var B=o.length;if(B==2&&o.push(0),B!==0)return o}},t.prototype.readFlatPosList=function(e,A){var n=yo(e,!1).replace(/^\s*|\s*$/g,""),i=A[0],o=i.srsName,a=i.srsDimension,s="enu";if(o){var u=ze(o);s=u.getAxisOrientation()}var l=n.split(/\s+/),f=2;e.getAttribute("srsDimension")?f=si(e.getAttribute("srsDimension")):e.getAttribute("dimension")?f=si(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?f=si(e.parentNode.getAttribute("srsDimension")):a&&(f=si(a));for(var h,c,d,p=[],B=0,g=l.length;B<g;B+=f)h=parseFloat(l[B]),c=parseFloat(l[B+1]),d=f===3?parseFloat(l[B+2]):0,s.substr(0,2)==="en"?p.push(h,c,d):p.push(c,h,d);return p},t.prototype.writePos_=function(e,A,n){var i=n[n.length-1],o=i.hasZ,a=o?"3":"2";e.setAttribute("srsDimension",a);var s=i.srsName,u="enu";s&&(u=ze(s).getAxisOrientation());var l=A.getCoordinates(),f;if(u.substr(0,2)==="en"?f=l[0]+" "+l[1]:f=l[1]+" "+l[0],o){var h=l[2]||0;f+=" "+h}Et(e,f)},t.prototype.getCoords_=function(e,A,n){var i="enu";A&&(i=ze(A).getAxisOrientation());var o=i.substr(0,2)==="en"?e[0]+" "+e[1]:e[1]+" "+e[0];if(n){var a=e[2]||0;o+=" "+a}return o},t.prototype.writePosList_=function(e,A,n){var i=n[n.length-1],o=i.hasZ,a=o?"3":"2";e.setAttribute("srsDimension",a);for(var s=i.srsName,u=A.getCoordinates(),l=u.length,f=new Array(l),h,c=0;c<l;++c)h=u[c],f[c]=this.getCoords_(h,s,o);Et(e,f.join(" "))},t.prototype.writePoint=function(e,A,n){var i=n[n.length-1],o=i.srsName;o&&e.setAttribute("srsName",o);var a=le(e.namespaceURI,"pos");e.appendChild(a),this.writePos_(a,A,n)},t.prototype.writeEnvelope=function(e,A,n){var i=n[n.length-1],o=i.srsName;o&&e.setAttribute("srsName",o);var a=["lowerCorner","upperCorner"],s=[A[0]+" "+A[1],A[2]+" "+A[3]];Bt({node:e},this.ENVELOPE_SERIALIZERS,zp,s,n,a,this)},t.prototype.writeLinearRing=function(e,A,n){var i=n[n.length-1],o=i.srsName;o&&e.setAttribute("srsName",o);var a=le(e.namespaceURI,"posList");e.appendChild(a),this.writePosList_(a,A,n)},t.prototype.RING_NODE_FACTORY_=function(e,A,n){var i=A[A.length-1],o=i.node,a=i.exteriorWritten;return a===void 0&&(i.exteriorWritten=!0),le(o.namespaceURI,a!==void 0?"interior":"exterior")},t.prototype.writeSurfaceOrPolygon=function(e,A,n){var i=n[n.length-1],o=i.hasZ,a=i.srsName;if(e.nodeName!=="PolygonPatch"&&a&&e.setAttribute("srsName",a),e.nodeName==="Polygon"||e.nodeName==="PolygonPatch"){var s=A.getLinearRings();Bt({node:e,hasZ:o,srsName:a},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,s,n,void 0,this)}else if(e.nodeName==="Surface"){var u=le(e.namespaceURI,"patches");e.appendChild(u),this.writeSurfacePatches_(u,A,n)}},t.prototype.writeCurveOrLineString=function(e,A,n){var i=n[n.length-1],o=i.srsName;if(e.nodeName!=="LineStringSegment"&&o&&e.setAttribute("srsName",o),e.nodeName==="LineString"||e.nodeName==="LineStringSegment"){var a=le(e.namespaceURI,"posList");e.appendChild(a),this.writePosList_(a,A,n)}else if(e.nodeName==="Curve"){var s=le(e.namespaceURI,"segments");e.appendChild(s),this.writeCurveSegments_(s,A,n)}},t.prototype.writeMultiSurfaceOrPolygon=function(e,A,n){var i=n[n.length-1],o=i.hasZ,a=i.srsName,s=i.surface;a&&e.setAttribute("srsName",a);var u=A.getPolygons();Bt({node:e,hasZ:o,srsName:a,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,u,n,void 0,this)},t.prototype.writeMultiPoint=function(e,A,n){var i=n[n.length-1],o=i.srsName,a=i.hasZ;o&&e.setAttribute("srsName",o);var s=A.getPoints();Bt({node:e,hasZ:a,srsName:o},this.POINTMEMBER_SERIALIZERS,nA("pointMember"),s,n,void 0,this)},t.prototype.writeMultiCurveOrLineString=function(e,A,n){var i=n[n.length-1],o=i.hasZ,a=i.srsName,s=i.curve;a&&e.setAttribute("srsName",a);var u=A.getLineStrings();Bt({node:e,hasZ:o,srsName:a,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,u,n,void 0,this)},t.prototype.writeRing=function(e,A,n){var i=le(e.namespaceURI,"LinearRing");e.appendChild(i),this.writeLinearRing(i,A,n)},t.prototype.writeSurfaceOrPolygonMember=function(e,A,n){var i=this.GEOMETRY_NODE_FACTORY_(A,n);i&&(e.appendChild(i),this.writeSurfaceOrPolygon(i,A,n))},t.prototype.writePointMember=function(e,A,n){var i=le(e.namespaceURI,"Point");e.appendChild(i),this.writePoint(i,A,n)},t.prototype.writeLineStringOrCurveMember=function(e,A,n){var i=this.GEOMETRY_NODE_FACTORY_(A,n);i&&(e.appendChild(i),this.writeCurveOrLineString(i,A,n))},t.prototype.writeSurfacePatches_=function(e,A,n){var i=le(e.namespaceURI,"PolygonPatch");e.appendChild(i),this.writeSurfaceOrPolygon(i,A,n)},t.prototype.writeCurveSegments_=function(e,A,n){var i=le(e.namespaceURI,"LineStringSegment");e.appendChild(i),this.writeCurveOrLineString(i,A,n)},t.prototype.writeGeometryElement=function(e,A,n){var i=n[n.length-1],o=Ae({},i);o.node=e;var a;Array.isArray(A)?a=vl(A,i):a=fo(A,!0,i),Bt(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[a],n,void 0,this)},t.prototype.writeFeatureElement=function(e,A,n){var i=A.getId();i&&e.setAttribute("fid",i);var o=n[n.length-1],a=o.featureNS,s=A.getGeometryName();o.serializers||(o.serializers={},o.serializers[a]={});var u=[],l=[];if(A.hasProperties()){var f=A.getProperties();for(var h in f){var c=f[h];c!==null&&(u.push(h),l.push(c),h==s||typeof c.getSimplifiedGeometry=="function"?h in o.serializers[a]||(o.serializers[a][h]=x(this.writeGeometryElement,this)):h in o.serializers[a]||(o.serializers[a][h]=x(Et)))}}var d=Ae({},o);d.node=e,Bt(d,o.serializers,nA(void 0,a),l,n,u)},t.prototype.writeFeatureMembers_=function(e,A,n){var i=n[n.length-1],o=i.featureType,a=i.featureNS,s={};s[a]={},s[a][o]=x(this.writeFeatureElement,this);var u=Ae({},i);u.node=e,Bt(u,s,nA(o,a),A,n)},t.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,A,n){var i=A[A.length-1].node;return le(this.namespace,EU[i.nodeName])},t.prototype.GEOMETRY_NODE_FACTORY_=function(e,A,n){var i=A[A.length-1],o=i.multiSurface,a=i.surface,s=i.curve,u=i.multiCurve,l;return Array.isArray(e)?l="Envelope":(l=e.getType(),l==="MultiPolygon"&&o===!0?l="MultiSurface":l==="Polygon"&&a===!0?l="Surface":l==="LineString"&&s===!0?l="Curve":l==="MultiLineString"&&u===!0&&(l="MultiCurve")),le(this.namespace,l)},t.prototype.writeGeometryNode=function(e,A){A=this.adaptOptions(A);var n=le(this.namespace,"geom"),i={node:n,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return A&&Ae(i,A),this.writeGeometryElement(n,e,[i]),n},t.prototype.writeFeaturesNode=function(e,A){A=this.adaptOptions(A);var n=le(this.namespace,"featureMembers");n.setAttributeNS(of,"xsi:schemaLocation",this.schemaLocation);var i={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return A&&Ae(i,A),this.writeFeatureMembers_(n,e,[i]),n},t}(Ge);X.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:J(X.prototype.readFlatPos),posList:J(X.prototype.readFlatPosList),coordinates:J(_o.prototype.readFlatCoordinates)}};X.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:X.prototype.interiorParser,exterior:X.prototype.exteriorParser}};X.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:J(Ge.prototype.readPoint),MultiPoint:J(Ge.prototype.readMultiPoint),LineString:J(Ge.prototype.readLineString),MultiLineString:J(Ge.prototype.readMultiLineString),LinearRing:J(Ge.prototype.readLinearRing),Polygon:J(Ge.prototype.readPolygon),MultiPolygon:J(Ge.prototype.readMultiPolygon),Surface:J(X.prototype.readSurface),MultiSurface:J(X.prototype.readMultiSurface),Curve:J(X.prototype.readCurve),MultiCurve:J(X.prototype.readMultiCurve),Envelope:J(X.prototype.readEnvelope)}};X.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:se(X.prototype.curveMemberParser),curveMembers:se(X.prototype.curveMemberParser)}};X.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:se(X.prototype.surfaceMemberParser),surfaceMembers:se(X.prototype.surfaceMemberParser)}};X.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:se(Ge.prototype.readLineString),Curve:se(X.prototype.readCurve)}};X.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:se(Ge.prototype.readPolygon),Surface:se(X.prototype.readSurface)}};X.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:J(X.prototype.readPatch)}};X.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:J(X.prototype.readSegment)}};X.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:se(X.prototype.readFlatPosList),upperCorner:se(X.prototype.readFlatPosList)}};X.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:J(X.prototype.readPolygonPatch)}};X.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:J(X.prototype.readLineStringSegment)}};X.prototype.writeFeatures;X.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:x(X.prototype.writeRing),interior:x(X.prototype.writeRing)}};X.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:x(Et),upperCorner:x(Et)}};X.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:x(X.prototype.writeSurfaceOrPolygonMember),polygonMember:x(X.prototype.writeSurfaceOrPolygonMember)}};X.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:x(X.prototype.writePointMember)}};X.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:x(X.prototype.writeLineStringOrCurveMember),curveMember:x(X.prototype.writeLineStringOrCurveMember)}};X.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:x(X.prototype.writeCurveOrLineString),MultiCurve:x(X.prototype.writeMultiCurveOrLineString),Point:x(X.prototype.writePoint),MultiPoint:x(X.prototype.writeMultiPoint),LineString:x(X.prototype.writeCurveOrLineString),MultiLineString:x(X.prototype.writeMultiCurveOrLineString),LinearRing:x(X.prototype.writeLinearRing),Polygon:x(X.prototype.writeSurfaceOrPolygon),MultiPolygon:x(X.prototype.writeMultiSurfaceOrPolygon),Surface:x(X.prototype.writeSurfaceOrPolygon),MultiSurface:x(X.prototype.writeMultiSurfaceOrPolygon),Envelope:x(X.prototype.writeEnvelope)}};var fe=X,FU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),qe=function(r){FU(t,r);function t(e){var A=this,n=e||{};return A=r.call(this,n)||this,A.schemaLocation=n.schemaLocation?n.schemaLocation:A.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd",A}return t}(fe);qe.prototype.namespace="http://www.opengis.net/gml/3.2";qe.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:J(fe.prototype.readFlatPos),posList:J(fe.prototype.readFlatPosList),coordinates:J(_o.prototype.readFlatCoordinates)}};qe.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:fe.prototype.interiorParser,exterior:fe.prototype.exteriorParser}};qe.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:J(Ge.prototype.readPoint),MultiPoint:J(Ge.prototype.readMultiPoint),LineString:J(Ge.prototype.readLineString),MultiLineString:J(Ge.prototype.readMultiLineString),LinearRing:J(Ge.prototype.readLinearRing),Polygon:J(Ge.prototype.readPolygon),MultiPolygon:J(Ge.prototype.readMultiPolygon),Surface:J(qe.prototype.readSurface),MultiSurface:J(fe.prototype.readMultiSurface),Curve:J(qe.prototype.readCurve),MultiCurve:J(fe.prototype.readMultiCurve),Envelope:J(qe.prototype.readEnvelope)}};qe.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:se(fe.prototype.curveMemberParser),curveMembers:se(fe.prototype.curveMemberParser)}};qe.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:se(fe.prototype.surfaceMemberParser),surfaceMembers:se(fe.prototype.surfaceMemberParser)}};qe.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:se(Ge.prototype.readLineString),Curve:se(fe.prototype.readCurve)}};qe.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:se(Ge.prototype.readPolygon),Surface:se(fe.prototype.readSurface)}};qe.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:J(fe.prototype.readPatch)}};qe.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:J(fe.prototype.readSegment)}};qe.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:se(fe.prototype.readFlatPosList),upperCorner:se(fe.prototype.readFlatPosList)}};qe.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:J(fe.prototype.readPolygonPatch)}};qe.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:J(fe.prototype.readLineStringSegment)}};qe.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:se(Ge.prototype.pointMemberParser),pointMembers:se(Ge.prototype.pointMemberParser)}};qe.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:se(Ge.prototype.lineStringMemberParser),lineStringMembers:se(Ge.prototype.lineStringMemberParser)}};qe.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:se(Ge.prototype.polygonMemberParser),polygonMembers:se(Ge.prototype.polygonMemberParser)}};qe.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:se(Ge.prototype.readFlatCoordinatesFromNode)}};qe.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:se(Ge.prototype.readLineString)}};qe.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:se(Ge.prototype.readPolygon)}};qe.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:J(Ge.prototype.readFlatLinearRing)}};qe.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:x(fe.prototype.writeRing),interior:x(fe.prototype.writeRing)}};qe.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:x(Et),upperCorner:x(Et)}};qe.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:x(fe.prototype.writeSurfaceOrPolygonMember),polygonMember:x(fe.prototype.writeSurfaceOrPolygonMember)}};qe.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:x(fe.prototype.writePointMember)}};qe.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:x(fe.prototype.writeLineStringOrCurveMember),curveMember:x(fe.prototype.writeLineStringOrCurveMember)}};qe.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:x(fe.prototype.writeCurveOrLineString),MultiCurve:x(fe.prototype.writeMultiCurveOrLineString),Point:x(qe.prototype.writePoint),MultiPoint:x(fe.prototype.writeMultiPoint),LineString:x(fe.prototype.writeCurveOrLineString),MultiLineString:x(fe.prototype.writeMultiCurveOrLineString),LinearRing:x(fe.prototype.writeLinearRing),Polygon:x(fe.prototype.writeSurfaceOrPolygon),MultiPolygon:x(fe.prototype.writeMultiSurfaceOrPolygon),Surface:x(fe.prototype.writeSurfaceOrPolygon),MultiSurface:x(fe.prototype.writeMultiSurfaceOrPolygon),Envelope:x(fe.prototype.writeEnvelope)}};var uf=qe,QU=function(){function r(t){this.tagName_=t}return r.prototype.getTagName=function(){return this.tagName_},r}(),qp=QU,IU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),UU=function(r){IU(t,r);function t(e,A){var n=r.call(this,e)||this;return n.conditions=A,ae(n.conditions.length>=2,57),n}return t}(qp),SU=UU,xU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),TU=function(r){xU(t,r);function t(e){return r.call(this,"And",Array.prototype.slice.call(arguments))||this}return t}(SU),OU=TU,RU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),LU=function(r){RU(t,r);function t(e,A,n){var i=r.call(this,"BBOX")||this;if(i.geometryName=e,i.extent=A,A.length!==4)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return i.srsName=n,i}return t}(qp),MU=LU;function PU(r){var t=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(OU,t))}function HU(r,t,e){return new MU(r,t,e)}var NU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}(),eg={"http://www.opengis.net/gml":{boundedBy:LA(Ge.prototype.readGeometryElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:se(Ge.prototype.readFeaturesInternal)}},DU={"http://www.opengis.net/wfs":{totalInserted:LA(ai),totalUpdated:LA(ai),totalDeleted:LA(ai)},"http://www.opengis.net/wfs/2.0":{totalInserted:LA(ai),totalUpdated:LA(ai),totalDeleted:LA(ai)}},GU={"http://www.opengis.net/wfs":{TransactionSummary:LA(ng,"transactionSummary"),InsertResults:LA(og,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:LA(ng,"transactionSummary"),InsertResults:LA(og,"insertIds")}},bU={"http://www.opengis.net/wfs":{PropertyName:x(Et)},"http://www.opengis.net/wfs/2.0":{PropertyName:x(Et)}},tg={"http://www.opengis.net/wfs":{Insert:x(ag),Update:x(lg),Delete:x(ug),Property:x(fg),Native:x(hg)},"http://www.opengis.net/wfs/2.0":{Insert:x(ag),Update:x(lg),Delete:x(ug),Property:x(fg),Native:x(hg)}},Ag="feature",lf="http://www.w3.org/2000/xmlns/",ff={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},hf={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},cf={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},rg={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},df={"2.0.0":uf,"1.1.0":fe,"1.0.0":_o},KU="1.1.0",kU=function(r){NU(t,r);function t(e){var A=r.call(this)||this,n=e||{};return A.version_=n.version?n.version:KU,A.featureType_=n.featureType,A.featureNS_=n.featureNS,A.gmlFormat_=n.gmlFormat?n.gmlFormat:new df[A.version_],A.schemaLocation_=n.schemaLocation?n.schemaLocation:rg[A.version_],A}return t.prototype.getFeatureType=function(){return this.featureType_},t.prototype.setFeatureType=function(e){this.featureType_=e},t.prototype.readFeaturesFromNode=function(e,A){var n={node:e};Ae(n,{featureType:this.featureType_,featureNS:this.featureNS_}),Ae(n,this.getReadOptions(e,A||{}));var i=[n],o;this.version_==="2.0.0"?o=eg:o=this.gmlFormat_.FEATURE_COLLECTION_PARSERS;var a=At([],o,e,i,this.gmlFormat_);return a||(a=[]),a},t.prototype.readTransactionResponse=function(e){if(e)if(typeof e=="string"){var A=oi(e);return this.readTransactionResponseFromDocument(A)}else return ii(e)?this.readTransactionResponseFromDocument(e):this.readTransactionResponseFromNode(e);else return},t.prototype.readFeatureCollectionMetadata=function(e){if(e)if(typeof e=="string"){var A=oi(e);return this.readFeatureCollectionMetadataFromDocument(A)}else return ii(e)?this.readFeatureCollectionMetadataFromDocument(e):this.readFeatureCollectionMetadataFromNode(e);else return},t.prototype.readFeatureCollectionMetadataFromDocument=function(e){for(var A=e.firstChild;A;A=A.nextSibling)if(A.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(A)},t.prototype.readFeatureCollectionMetadataFromNode=function(e){var A={},n=si(e.getAttribute("numberOfFeatures"));return A.numberOfFeatures=n,At(A,eg,e,[],this.gmlFormat_)},t.prototype.readTransactionResponseFromDocument=function(e){for(var A=e.firstChild;A;A=A.nextSibling)if(A.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(A)},t.prototype.readTransactionResponseFromNode=function(e){return At({},GU,e,[])},t.prototype.writeGetFeature=function(e){var A=this,n=le(hf[this.version_],"GetFeature");n.setAttribute("service","WFS"),n.setAttribute("version",this.version_),e.handle&&n.setAttribute("handle",e.handle),e.outputFormat&&n.setAttribute("outputFormat",e.outputFormat),e.maxFeatures!==void 0&&n.setAttribute("maxFeatures",String(e.maxFeatures)),e.resultType&&n.setAttribute("resultType",e.resultType),e.startIndex!==void 0&&n.setAttribute("startIndex",String(e.startIndex)),e.count!==void 0&&n.setAttribute("count",String(e.count)),e.viewParams!==void 0&&n.setAttribute("viewParams",e.viewParams),n.setAttributeNS(of,"xsi:schemaLocation",this.schemaLocation_);var i={node:n};if(Ae(i,{version:this.version_,srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,propertyNames:e.propertyNames?e.propertyNames:[]}),ae(Array.isArray(e.featureTypes),11),typeof e.featureTypes[0]=="string"){var o=e.filter;e.bbox&&(ae(e.geometryName,12),o=this.combineBboxAndFilter(e.geometryName,e.bbox,e.srsName,o)),Ae(i,{geometryName:e.geometryName,filter:o}),mg(n,e.featureTypes,[i])}else e.featureTypes.forEach(function(a){var s=A.combineBboxAndFilter(a.geometryName,a.bbox,e.srsName,e.filter);Ae(i,{geometryName:a.geometryName,filter:s}),mg(n,[a.name],[i])});return n},t.prototype.combineBboxAndFilter=function(e,A,n,i){var o=HU(e,A,n);return i?PU(i,o):o},t.prototype.writeTransaction=function(e,A,n,i){var o=[],a=i.version?i.version:this.version_,s=le(hf[a],"Transaction");s.setAttribute("service","WFS"),s.setAttribute("version",a);var u;i&&(u=i.gmlOptions?i.gmlOptions:{},i.handle&&s.setAttribute("handle",i.handle)),s.setAttributeNS(of,"xsi:schemaLocation",rg[a]);var l=VU(s,u,a,i);return e&&$a("Insert",e,o,l),A&&$a("Update",A,o,l),n&&$a("Delete",n,o,l),i.nativeElements&&$a("Native",i.nativeElements,o,l),s},t.prototype.readProjectionFromDocument=function(e){for(var A=e.firstChild;A;A=A.nextSibling)if(A.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(A);return null},t.prototype.readProjectionFromNode=function(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild){e=e.firstElementChild.firstElementChild;for(var A=e.firstElementChild;A;A=A.nextElementSibling)if(!(A.childNodes.length===0||A.childNodes.length===1&&A.firstChild.nodeType===3)){var n=[{}];return this.gmlFormat_.readGeometryElement(A,n),ze(n.pop().srsName)}}return null},t}(Jp);function VU(r,t,e,A){var n=A.featurePrefix?A.featurePrefix:Ag,i;e==="1.0.0"?i=2:e==="1.1.0"?i=3:e==="2.0.0"&&(i=3.2);var o=Ae({node:r},{version:e,featureNS:A.featureNS,featureType:A.featureType,featurePrefix:n,gmlVersion:i,hasZ:A.hasZ,srsName:A.srsName},t);return o}function $a(r,t,e,A){Bt(A,tg,nA(r),t,e)}function ng(r,t){return At({},DU,r,t)}var YU={"http://www.opengis.net/ogc":{FeatureId:se(function(r,t){return r.getAttribute("fid")})},"http://www.opengis.net/ogc/1.1":{FeatureId:se(function(r,t){return r.getAttribute("fid")})}};function ig(r,t){yn(YU,r,t)}var XU={"http://www.opengis.net/wfs":{Feature:ig},"http://www.opengis.net/wfs/2.0":{Feature:ig}};function og(r,t){return At([],XU,r,t)}function ag(r,t,e){var A=e[e.length-1],n=A.featureType,i=A.featureNS,o=A.gmlVersion,a=le(i,n);r.appendChild(a),o===2?_o.prototype.writeFeatureElement(a,t,e):o===3?fe.prototype.writeFeatureElement(a,t,e):uf.prototype.writeFeatureElement(a,t,e)}function sg(r,t,e){var A=e[e.length-1],n=A.version,i=ff[n],o=le(i,"Filter"),a=le(i,"FeatureId");o.appendChild(a),a.setAttribute("fid",t),r.appendChild(o)}function pf(r,t){r=r||Ag;var e=r+":";return t.indexOf(e)===0?t:e+t}function ug(r,t,e){var A=e[e.length-1];ae(t.getId()!==void 0,26);var n=A.featureType,i=A.featurePrefix,o=A.featureNS,a=pf(i,n);r.setAttribute("typeName",a),r.setAttributeNS(lf,"xmlns:"+i,o);var s=t.getId();s!==void 0&&sg(r,s,e)}function lg(r,t,e){var A=e[e.length-1];ae(t.getId()!==void 0,27);var n=A.version,i=A.featureType,o=A.featurePrefix,a=A.featureNS,s=pf(o,i),u=t.getGeometryName();r.setAttribute("typeName",s),r.setAttributeNS(lf,"xmlns:"+o,a);var l=t.getId();if(l!==void 0){for(var f=t.getKeys(),h=[],c=0,d=f.length;c<d;c++){var p=t.get(f[c]);if(p!==void 0){var B=f[c];p&&typeof p.getSimplifiedGeometry=="function"&&(B=u),h.push({name:B,value:p})}}Bt({version:n,gmlVersion:A.gmlVersion,node:r,hasZ:A.hasZ,srsName:A.srsName},tg,nA("Property"),h,e),sg(r,l,e)}}function fg(r,t,e){var A=e[e.length-1],n=A.version,i=hf[n],o=le(i,"Name"),a=A.gmlVersion;if(r.appendChild(o),Et(o,t.name),t.value!==void 0&&t.value!==null){var s=le(i,"Value");r.appendChild(s),t.value&&typeof t.value.getSimplifiedGeometry=="function"?a===2?_o.prototype.writeGeometryElement(s,t.value,e):a===3?fe.prototype.writeGeometryElement(s,t.value,e):uf.prototype.writeGeometryElement(s,t.value,e):Et(s,t.value)}}function hg(r,t,e){t.vendorId&&r.setAttribute("vendorId",t.vendorId),t.safeToIgnore!==void 0&&r.setAttribute("safeToIgnore",String(t.safeToIgnore)),t.value!==void 0&&Et(r,t.value)}var Ja={"http://www.opengis.net/wfs":{Query:x(cg)},"http://www.opengis.net/wfs/2.0":{Query:x(cg)},"http://www.opengis.net/ogc":{During:x(gg),And:x(qa),Or:x(qa),Not:x(vg),BBOX:x(dg),Contains:x(Or),Intersects:x(Or),Within:x(Or),DWithin:x(pg),PropertyIsEqualTo:x(yA),PropertyIsNotEqualTo:x(yA),PropertyIsLessThan:x(yA),PropertyIsLessThanOrEqualTo:x(yA),PropertyIsGreaterThan:x(yA),PropertyIsGreaterThanOrEqualTo:x(yA),PropertyIsNull:x(Bg),PropertyIsBetween:x(yg),PropertyIsLike:x(_g)},"http://www.opengis.net/fes/2.0":{During:x(gg),And:x(qa),Or:x(qa),Not:x(vg),BBOX:x(dg),Contains:x(Or),Disjoint:x(Or),Intersects:x(Or),ResourceId:x(jU),Within:x(Or),DWithin:x(pg),PropertyIsEqualTo:x(yA),PropertyIsNotEqualTo:x(yA),PropertyIsLessThan:x(yA),PropertyIsLessThanOrEqualTo:x(yA),PropertyIsGreaterThan:x(yA),PropertyIsGreaterThanOrEqualTo:x(yA),PropertyIsNull:x(Bg),PropertyIsBetween:x(yg),PropertyIsLike:x(_g)}};function cg(r,t,e){var A=e[e.length-1],n=A.version,i=A.featurePrefix,o=A.featureNS,a=A.propertyNames,s=A.srsName,u;i?u=pf(i,t):u=t;var l;n==="2.0.0"?l="typeNames":l="typeName",r.setAttribute(l,u),s&&r.setAttribute("srsName",s),o&&r.setAttributeNS(lf,"xmlns:"+i,o);var f=Ae({},A);f.node=r,Bt(f,bU,nA("PropertyName"),a,e);var h=A.filter;if(h){var c=le(As(n),"Filter");r.appendChild(c),WU(c,h,e)}}function WU(r,t,e){var A=e[e.length-1],n={node:r};Ae(n,{context:A}),Bt(n,Ja,nA(t.getTagName()),[t],e)}function dg(r,t,e){var A=e[e.length-1],n=A.context,i=n.version;A.srsName=t.srsName;var o=df[i];ui(i,r,t.geometryName),o.prototype.writeGeometryElement(r,t.extent,e)}function jU(r,t,e){r.setAttribute("rid",t.rid)}function Or(r,t,e){var A=e[e.length-1],n=A.context,i=n.version;A.srsName=t.srsName;var o=df[i];ui(i,r,t.geometryName),o.prototype.writeGeometryElement(r,t.geometry,e)}function pg(r,t,e){var A=e[e.length-1],n=A.context,i=n.version;Or(r,t,e);var o=le(As(i),"Distance");Et(o,t.distance.toString()),i==="2.0.0"?o.setAttribute("uom",t.unit):o.setAttribute("units",t.unit),r.appendChild(o)}function gg(r,t,e){var A=e[e.length-1],n=A.context,i=n.version;es(cf[i],"ValueReference",r,t.propertyName);var o=le(lr,"TimePeriod");r.appendChild(o);var a=le(lr,"begin");o.appendChild(a),wg(a,t.begin);var s=le(lr,"end");o.appendChild(s),wg(s,t.end)}function qa(r,t,e){var A=e[e.length-1],n=A.context,i={node:r};Ae(i,{context:n});for(var o=t.conditions,a=0,s=o.length;a<s;++a){var u=o[a];Bt(i,Ja,nA(u.getTagName()),[u],e)}}function vg(r,t,e){var A=e[e.length-1],n=A.context,i={node:r};Ae(i,{context:n});var o=t.condition;Bt(i,Ja,nA(o.getTagName()),[o],e)}function yA(r,t,e){var A=e[e.length-1],n=A.context,i=n.version;t.matchCase!==void 0&&r.setAttribute("matchCase",t.matchCase.toString()),ui(i,r,t.propertyName),ts(i,r,""+t.expression)}function Bg(r,t,e){var A=e[e.length-1],n=A.context,i=n.version;ui(i,r,t.propertyName)}function yg(r,t,e){var A=e[e.length-1],n=A.context,i=n.version,o=As(i);ui(i,r,t.propertyName);var a=le(o,"LowerBoundary");r.appendChild(a),ts(i,a,""+t.lowerBoundary);var s=le(o,"UpperBoundary");r.appendChild(s),ts(i,s,""+t.upperBoundary)}function _g(r,t,e){var A=e[e.length-1],n=A.context,i=n.version;r.setAttribute("wildCard",t.wildCard),r.setAttribute("singleChar",t.singleChar),r.setAttribute("escapeChar",t.escapeChar),t.matchCase!==void 0&&r.setAttribute("matchCase",t.matchCase.toString()),ui(i,r,t.propertyName),ts(i,r,""+t.pattern)}function es(r,t,e,A){var n=le(r,t);Et(n,A),e.appendChild(n)}function ts(r,t,e){es(As(r),"Literal",t,e)}function ui(r,t,e){r==="2.0.0"?es(cf[r],"ValueReference",t,e):es(ff[r],"PropertyName",t,e)}function wg(r,t){var e=le(lr,"TimeInstant");r.appendChild(e);var A=le(lr,"timePosition");e.appendChild(A),Et(A,t)}function mg(r,t,e){var A=e[e.length-1],n=Ae({},A);n.node=r,Bt(n,Ja,nA("Query"),t,e)}function As(r){var t;return r==="2.0.0"?t=cf[r]:t=ff[r],t}var ZU=kU;class zU extends iI{constructor(t){const e=new ni({visible:!1,source:new nU,properties:{name:"openstreetmap"}}),A=new ni({visible:!0,source:new aU({url:Vp.arcgisUrl}),properties:{name:"arcgismap"}}),n=new ni({visible:!1,source:new Af({url:Vp.gaodeMapUrl}),properties:{name:"gaodemap"}}),i=new lo({layers:[e,A,n]});super({target:t,logo:!1,controls:Bp({attribution:!1,rotate:!1,zoom:!1}),layers:[i],view:new Tr({projection:"EPSG:4326",center:[106.26667,37.06667],minZoom:1,zoom:7})});zo(this,"data",{vector:null,vectorDraw:null,source:null,sourceDraw:null,draw:null,drawTool:null,modify:null,stationVector:null,stationSource:null,gridVector:null,gridSource:null,windLayer:null,allgrid:{},gridOverlay:null,windClick:null,gridPointerMove:null,featureOverlay:null,hightdDraw:null,drawType:["Point","LineString","LinearRing","Polygon","MultiPoint","MultiLineString","MultiPolygon","GeometryCollection","Circle","Squre","Hand"]});this.olMap={VectorSource:dn,VectorLayer:hn,Feature:ir,Point:vA,GeoJSON:Il,Polygon:sr,Draw:Xl,Overlay:$F},qB(this.olMap)}clearMap(){this.getTargetElement().style.cursor="",this.clearDrawTool(),this.clearMeasureTool()}clearMeasureTool(){this.data.modify&&this.removeInteraction(this.data.modify),this.data.draw&&this.removeInteraction(this.data.draw),this.data.source&&this.data.source.clear(),this.data.vector&&this.removeLayer(this.data.vector)}clearDrawTool(){this.data.drawTool&&this.removeInteraction(this.data.drawTool),this.data.sourceDraw&&this.data.sourceDraw.clear(),this.data.vectorDraw&&this.removeLayer(this.data.vectorDraw)}initControl(t){this.mousePositionControl=new jF({coordinateFormat:Tw(4),projection:"EPSG:4326",className:"custom-mouse-position",target:t.value,undefinedHTML:"&nbsp"}),this.fullScreenControl=new YF,this.scaleLineControl=new tQ({units:"metric",bar:!1}),this.addControl(this.fullScreenControl),this.addControl(this.scaleLineControl),this.addControl(this.mousePositionControl)}changeControl(t,e){switch(t){case"fullscreen":e?this.addControl(this.fullScreenControl):e||this.removeControl(this.fullScreenControl);break;case"scaleline":e?this.addControl(this.scaleLineControl):e||this.removeControl(this.scaleLineControl);break;case"mousePosition":e?this.addControl(this.mousePositionControl):e||this.removeControl(this.mousePositionControl);break}}changeBaseMap(t){this.getLayerGroup().getLayers().forEach(function(A,n){A instanceof lo&&n===0&&A.getLayers().forEach(function(i,o){i.setVisible(i.getProperties().name===t)})})}formatLength(t){const e=id(t,{projection:"EPSG:4326"});let A;return e>100?A=Math.round(e/1e3*100)/100+" km":A=Math.round(e*100)/100+" m",A}formatArea(t){const e=od(t,{projection:"EPSG:4326"});let A;return e>1e4?A=Math.round(e/1e6*100)/100+" km\xB2":A=Math.round(e*100)/100+" m\xB2",A}measureTool(t){const e=[Fc];this.data.source&&this.data.source.clear(),this.data.source=new dn,this.data.modify&&this.removeInteraction(this.data.modify),this.data.modify=new tI({source:this.data.source,style:Fu});let A;const n=this;function i(a,s,u,l){const f=[hy],h=a.getGeometry(),c=h.getType();let d,p,B;if((!u||u===c)&&(c==="Polygon"?(d=h.getInteriorPoint(),p=n.formatArea(h),B=new YA(h.getCoordinates()[0])):c==="LineString"&&(d=new vA(h.getLastCoordinate()),p=n.formatLength(h),B=h)),s&&B){let g=0;B.forEachSegment(function(y,m){const _=new YA([y,m]),C=n.formatLength(_);e.length-1<g&&e.push(Fc.clone());const F=new vA(_.getCoordinateAt(.5));e[g].setGeometry(F),e[g].getText().setText(C),f.push(e[g]),g++})}return p&&(Eu.setGeometry(d),Eu.getText().setText(p),f.push(Eu)),l&&c==="Point"&&!n.data.modify.getOverlay().getSource().getFeatures().length&&(A=h,Ec.getText().setText(l),f.push(Ec)),f}this.data.vector&&this.removeLayer(this.data.vector),this.data.vector=new hn({source:this.data.source,style:function(a){return i(a,!0)}}),this.addLayer(this.data.vector),this.addInteraction(this.data.modify);function o(){const a=t,s="\u5355\u51FB\u7EE7\u7EED\u7ED8\u5236"+(a==="Polygon"?"\u591A\u8FB9\u5F62":"\u7EBF"),u="\u5355\u51FB\u5F00\u59CB\u6D4B\u91CF";let l=u;n.data.draw=new Xl({source:n.data.source,type:a,style:function(f){return i(f,!0,a,l)}}),n.data.draw.on("drawstart",function(){n.getTargetElement().style.cursor="pointer",n.data.source.clear(),n.data.modify.setActive(!1),l=s}),n.data.draw.on("drawend",function(){n.getTargetElement().style.cursor="",Fu.setGeometry(A),n.data.modify.setActive(!0),n.once("pointermove",function(){Fu.setGeometry()}),l=u}),n.data.modify.setActive(!0),n.addInteraction(n.data.draw)}this.data.draw&&this.removeInteraction(this.data.draw),this.data.drawTool&&this.removeInteraction(this.data.drawTool),o()}drawTool(t){if(this.data.draw&&this.removeInteraction(this.data.draw),!this.data.drawType.includes(t)){console.error("\u4F20\u5165\u4E86\u4E0D\u7B26\u5408\u89C4\u8303\u7684\u7ED8\u56FE\u7C7B\u578B");return}this.data.sourceDraw&&this.data.sourceDraw.clear(),this.data.sourceDraw=new dn,this.data.vectorDraw&&this.removeLayer(this.data.vectorDraw),this.data.vectorDraw=new hn({source:this.data.sourceDraw}),this.addLayer(this.data.vectorDraw),this.data.drawTool&&this.removeInteraction(this.data.drawTool),this.data.drawTool=new Xl({source:this.data.sourceDraw,type:t==="Hand"?"LineString":t==="Squre"?"Circle":t,style:cy,freehand:t==="Hand",snapTolerance:50,geometryFunction:t==="Squre"?zQ():void 0}),this.addInteraction(this.data.drawTool)}clearLastDraw(){if(!this.data.drawTool)return;const t=()=>{const e=this.data.sourceDraw.getFeatures();e.length!==0&&this.data.sourceDraw.removeFeature(e[e.length-1])};this.data.drawTool.finishCoordinate_?(this.data.drawTool.removeLastPoint(),this.data.drawTool.finishCoordinate_||t()):t()}async printMap(){this.clearMap();const t=this;return this.getTargetElement().style.cursor="crosshair",this.drawTool("Squre"),{dataUrl:await(()=>new Promise((n,i)=>{this.data.drawTool.on("drawend",function(o){t.clearMap(),t.getTargetElement().style.cursor="";var a=o.feature,s=a.getGeometry().getExtent(),u=[s[0],s[3]],l=t.getPixelFromCoordinate(u),f=[s[2],s[1]],h=t.getPixelFromCoordinate(f),c=Math.abs(h[0]-l[0]),d=Math.abs(h[1]-l[1]),p=l[0]<=h[0]?l[0]:h[0],B=l[1]<=h[1]?l[1]:h[1];t.once("rendercomplete",function(){const g=document.createElement("canvas"),y=document.querySelectorAll(".ol-layer canvas");g.width=y[0].clientWidth,g.height=y[0].clientHeight,document.body.appendChild(g);var m=new bd;const _=g.getContext("2d");Array.prototype.forEach.call(document.querySelectorAll(".ol-layer canvas"),function(F){if(F.width>0){const E=F.parentNode.style.opacity;_.globalAlpha=E===""?1:Number(E);const w=F.style.transform.match(/^matrix\(([^\(]*)\)$/)[1].split(",").map(Number);CanvasRenderingContext2D.prototype.setTransform.apply(_,w),_.drawImage(F,0,0)}}),m.src=g.toDataURL("image/png");let C;m.onload=function(){var F=document.createElement("canvas");return document.body.appendChild(F),F.width=c,F.height=d,F.getContext("2d").drawImage(m,p,B,c,d,0,0,c,d),C=F.toDataURL(),document.body.removeChild(g),document.body.removeChild(F),n(C)}})})}))()}}}const $U=Yr({name:"Map",props:{msg:{type:String,default:"\u6B22\u8FCE\u6765\u5230vue3+ol+vite"}},setup(r){const{proxy:t,ctx:e}=Nh();let A=t,n=oe(null),i=oe(null),o=oe(null),a=oe(null);return Jo(()=>{n=new zU(n.value),A.map=n,kh.initOlApp(A),JB(n),n.initControl(i);const s=pa();s.mousePositionDom=i.value,s.popup=o.value,s.popupCloser=a}),{msg:r.msg,mousePositionDom:i,popup:o,popupCloser:a,map:n}}}),JU=r=>(Ph("data-v-b6049382"),r=r(),Hh(),r),qU={id:"map",ref:"map",class:"map-div"},e2={id:"mouse-position",ref:"mousePositionDom"},t2={ref:"popup",class:"ol-popup"},A2={href:"#",ref:"popupCloser",class:"ol-popup-closer"},r2=JU(()=>ee("div",{id:"popup-content"},null,-1));function n2(r,t,e,A,n,i){return Je(),gt("div",null,[ee("div",qU,null,512),ee("div",e2,null,512),ee("div",t2,[ee("a",A2,null,512),r2],512)])}var i2=yr($U,[["render",n2],["__scopeId","data-v-b6049382"]]);const o2=[{name:"OS\u5730\u56FE",value:"openstreetmap"},{name:"ArcGIS\u5730\u56FE",value:"arcgismap"},{name:"\u9AD8\u5FB7\u5730\u56FE",value:"gaodemap"}],a2=[{name:"\u5168\u5C4F",value:"fullscreen"},{name:"\u6BD4\u4F8B\u5C3A",value:"scaleline"},{name:"\u9F20\u6807\u4F4D\u7F6E",value:"mousePosition"}];/*!
 * html2canvas 1.3.3 <https://html2canvas.hertzen.com>
 * Copyright (c) 2021 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gf=function(r,t){return gf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,A){e.__proto__=A}||function(e,A){for(var n in A)Object.prototype.hasOwnProperty.call(A,n)&&(e[n]=A[n])},gf(r,t)};function MA(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");gf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var vf=function(){return vf=Object.assign||function(t){for(var e,A=1,n=arguments.length;A<n;A++){e=arguments[A];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vf.apply(this,arguments)};function Wt(r,t,e,A){function n(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(l){try{u(A.next(l))}catch(f){o(f)}}function s(l){try{u(A.throw(l))}catch(f){o(f)}}function u(l){l.done?i(l.value):n(l.value).then(a,s)}u((A=A.apply(r,t||[])).next())})}function bt(r,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},A,n,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return s([u,l])}}function s(u){if(A)throw new TypeError("Generator is already executing.");for(;e;)try{if(A=1,n&&(i=u[0]&2?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,n=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){e.label=u[1];break}if(u[0]===6&&e.label<i[1]){e.label=i[1],i=u;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(u);break}i[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(r,e)}catch(l){u=[6,l],n=0}finally{A=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function rs(r,t,e){if(e||arguments.length===2)for(var A=0,n=t.length,i;A<n;A++)(i||!(A in t))&&(i||(i=Array.prototype.slice.call(t,0,A)),i[A]=t[A]);return r.concat(i||t)}var fr=function(){function r(t,e,A,n){this.left=t,this.top=e,this.width=A,this.height=n}return r.prototype.add=function(t,e,A,n){return new r(this.left+t,this.top+e,this.width+A,this.height+n)},r.fromClientRect=function(t,e){return new r(e.left+t.windowBounds.left,e.top+t.windowBounds.top,e.width,e.height)},r.fromDOMRectList=function(t,e){var A=e[0];return A?new r(A.x+t.windowBounds.left,A.y+t.windowBounds.top,A.width,A.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r}(),ns=function(r,t){return fr.fromClientRect(r,t.getBoundingClientRect())},s2=function(r){var t=r.body,e=r.documentElement;if(!t||!e)throw new Error("Unable to get document size");var A=Math.max(Math.max(t.scrollWidth,e.scrollWidth),Math.max(t.offsetWidth,e.offsetWidth),Math.max(t.clientWidth,e.clientWidth)),n=Math.max(Math.max(t.scrollHeight,e.scrollHeight),Math.max(t.offsetHeight,e.offsetHeight),Math.max(t.clientHeight,e.clientHeight));return new fr(0,0,A,n)},is=function(r){for(var t=[],e=0,A=r.length;e<A;){var n=r.charCodeAt(e++);if(n>=55296&&n<=56319&&e<A){var i=r.charCodeAt(e++);(i&64512)==56320?t.push(((n&1023)<<10)+(i&1023)+65536):(t.push(n),e--)}else t.push(n)}return t},wt=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var e=r.length;if(!e)return"";for(var A=[],n=-1,i="";++n<e;){var o=r[n];o<=65535?A.push(o):(o-=65536,A.push((o>>10)+55296,o%1024+56320)),(n+1===e||A.length>16384)&&(i+=String.fromCharCode.apply(String,A),A.length=0)}return i},Cg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wo=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var os=0;os<Cg.length;os++)wo[Cg.charCodeAt(os)]=os;var u2=function(r){var t=r.length*.75,e=r.length,A,n=0,i,o,a,s;r[r.length-1]==="="&&(t--,r[r.length-2]==="="&&t--);var u=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(t):new Array(t),l=Array.isArray(u)?u:new Uint8Array(u);for(A=0;A<e;A+=4)i=wo[r.charCodeAt(A)],o=wo[r.charCodeAt(A+1)],a=wo[r.charCodeAt(A+2)],s=wo[r.charCodeAt(A+3)],l[n++]=i<<2|o>>4,l[n++]=(o&15)<<4|a>>2,l[n++]=(a&3)<<6|s&63;return u},l2=function(r){for(var t=r.length,e=[],A=0;A<t;A+=2)e.push(r[A+1]<<8|r[A]);return e},f2=function(r){for(var t=r.length,e=[],A=0;A<t;A+=4)e.push(r[A+3]<<24|r[A+2]<<16|r[A+1]<<8|r[A]);return e},_n=5,Bf=6+5,yf=2,h2=Bf-_n,Eg=65536>>_n,c2=1<<_n,_f=c2-1,d2=1024>>_n,p2=Eg+d2,g2=p2,v2=2048>>6,B2=g2+v2,y2=65536>>Bf,_2=1<<h2,w2=_2-1,Fg=function(r,t,e){return r.slice?r.slice(t,e):new Uint16Array(Array.prototype.slice.call(r,t,e))},m2=function(r,t,e){return r.slice?r.slice(t,e):new Uint32Array(Array.prototype.slice.call(r,t,e))},C2=function(r){var t=u2(r),e=Array.isArray(t)?f2(t):new Uint32Array(t),A=Array.isArray(t)?l2(t):new Uint16Array(t),n=24,i=Fg(A,n/2,e[4]/2),o=e[5]===2?Fg(A,(n+e[4])/2):m2(e,Math.ceil((n+e[4])/4));return new E2(e[0],e[1],e[2],e[3],i,o)},E2=function(){function r(t,e,A,n,i,o){this.initialValue=t,this.errorValue=e,this.highStart=A,this.highValueIndex=n,this.index=i,this.data=o}return r.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=this.index[t>>_n],e=(e<<yf)+(t&_f),this.data[e];if(t<=65535)return e=this.index[Eg+(t-55296>>_n)],e=(e<<yf)+(t&_f),this.data[e];if(t<this.highStart)return e=B2-y2+(t>>Bf),e=this.index[e],e+=t>>_n&w2,e=this.index[e],e=(e<<yf)+(t&_f),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),F2="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Qg=50,Q2=1,Ig=2,Ug=3,I2=4,U2=5,Sg=7,xg=8,Tg=9,Rr=10,wf=11,Og=12,mf=13,S2=14,mo=15,Cf=16,as=17,Co=18,x2=19,Rg=20,Ef=21,Eo=22,Ff=23,li=24,iA=25,Fo=26,Qo=27,fi=28,T2=29,wn=30,O2=31,ss=32,us=33,Qf=34,If=35,Uf=36,Io=37,Sf=38,ls=39,fs=40,xf=41,Lg=42,R2=43,L2=[9001,65288],Mg="!",Ye="\xD7",hs="\xF7",Tf=C2(F2),hr=[wn,Uf],Of=[Q2,Ig,Ug,U2],Pg=[Rr,xg],Hg=[Qo,Fo],M2=Of.concat(Pg),Ng=[Sf,ls,fs,Qf,If],P2=[mo,mf],H2=function(r,t){t===void 0&&(t="strict");var e=[],A=[],n=[];return r.forEach(function(i,o){var a=Tf.get(i);if(a>Qg?(n.push(!0),a-=Qg):n.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return A.push(o),e.push(Cf);if(a===I2||a===wf){if(o===0)return A.push(o),e.push(wn);var s=e[o-1];return M2.indexOf(s)===-1?(A.push(A[o-1]),e.push(s)):(A.push(o),e.push(wn))}if(A.push(o),a===O2)return e.push(t==="strict"?Ef:Io);if(a===Lg||a===T2)return e.push(wn);if(a===R2)return i>=131072&&i<=196605||i>=196608&&i<=262141?e.push(Io):e.push(wn);e.push(a)}),[A,e,n]},Rf=function(r,t,e,A){var n=A[e];if(Array.isArray(r)?r.indexOf(n)!==-1:r===n)for(var i=e;i<=A.length;){i++;var o=A[i];if(o===t)return!0;if(o!==Rr)break}if(n===Rr)for(var i=e;i>0;){i--;var a=A[i];if(Array.isArray(r)?r.indexOf(a)!==-1:r===a)for(var s=e;s<=A.length;){s++;var o=A[s];if(o===t)return!0;if(o!==Rr)break}if(a!==Rr)break}return!1},Dg=function(r,t){for(var e=r;e>=0;){var A=t[e];if(A===Rr)e--;else return A}return 0},N2=function(r,t,e,A,n){if(e[A]===0)return Ye;var i=A-1;if(Array.isArray(n)&&n[i]===!0)return Ye;var o=i-1,a=i+1,s=t[i],u=o>=0?t[o]:0,l=t[a];if(s===Ig&&l===Ug)return Ye;if(Of.indexOf(s)!==-1)return Mg;if(Of.indexOf(l)!==-1||Pg.indexOf(l)!==-1)return Ye;if(Dg(i,t)===xg)return hs;if(Tf.get(r[i])===wf||(s===ss||s===us)&&Tf.get(r[a])===wf||s===Sg||l===Sg||s===Tg||[Rr,mf,mo].indexOf(s)===-1&&l===Tg||[as,Co,x2,li,fi].indexOf(l)!==-1||Dg(i,t)===Eo||Rf(Ff,Eo,i,t)||Rf([as,Co],Ef,i,t)||Rf(Og,Og,i,t))return Ye;if(s===Rr)return hs;if(s===Ff||l===Ff)return Ye;if(l===Cf||s===Cf)return hs;if([mf,mo,Ef].indexOf(l)!==-1||s===S2||u===Uf&&P2.indexOf(s)!==-1||s===fi&&l===Uf||l===Rg||hr.indexOf(l)!==-1&&s===iA||hr.indexOf(s)!==-1&&l===iA||s===Qo&&[Io,ss,us].indexOf(l)!==-1||[Io,ss,us].indexOf(s)!==-1&&l===Fo||hr.indexOf(s)!==-1&&Hg.indexOf(l)!==-1||Hg.indexOf(s)!==-1&&hr.indexOf(l)!==-1||[Qo,Fo].indexOf(s)!==-1&&(l===iA||[Eo,mo].indexOf(l)!==-1&&t[a+1]===iA)||[Eo,mo].indexOf(s)!==-1&&l===iA||s===iA&&[iA,fi,li].indexOf(l)!==-1)return Ye;if([iA,fi,li,as,Co].indexOf(l)!==-1)for(var f=i;f>=0;){var h=t[f];if(h===iA)return Ye;if([fi,li].indexOf(h)!==-1)f--;else break}if([Qo,Fo].indexOf(l)!==-1)for(var f=[as,Co].indexOf(s)!==-1?o:i;f>=0;){var h=t[f];if(h===iA)return Ye;if([fi,li].indexOf(h)!==-1)f--;else break}if(Sf===s&&[Sf,ls,Qf,If].indexOf(l)!==-1||[ls,Qf].indexOf(s)!==-1&&[ls,fs].indexOf(l)!==-1||[fs,If].indexOf(s)!==-1&&l===fs||Ng.indexOf(s)!==-1&&[Rg,Fo].indexOf(l)!==-1||Ng.indexOf(l)!==-1&&s===Qo||hr.indexOf(s)!==-1&&hr.indexOf(l)!==-1||s===li&&hr.indexOf(l)!==-1||hr.concat(iA).indexOf(s)!==-1&&l===Eo&&L2.indexOf(r[a])===-1||hr.concat(iA).indexOf(l)!==-1&&s===Co)return Ye;if(s===xf&&l===xf){for(var c=e[i],d=1;c>0&&(c--,t[c]===xf);)d++;if(d%2!=0)return Ye}return s===ss&&l===us?Ye:hs},D2=function(r,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var e=H2(r,t.lineBreak),A=e[0],n=e[1],i=e[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(n=n.map(function(a){return[iA,wn,Lg].indexOf(a)!==-1?Io:a}));var o=t.wordBreak==="keep-all"?i.map(function(a,s){return a&&r[s]>=19968&&r[s]<=40959}):void 0;return[A,n,o]},G2=function(){function r(t,e,A,n){this.codePoints=t,this.required=e===Mg,this.start=A,this.end=n}return r.prototype.slice=function(){return wt.apply(void 0,this.codePoints.slice(this.start,this.end))},r}(),b2=function(r,t){var e=is(r),A=D2(e,t),n=A[0],i=A[1],o=A[2],a=e.length,s=0,u=0;return{next:function(){if(u>=a)return{done:!0,value:null};for(var l=Ye;u<a&&(l=N2(e,i,n,++u,o))===Ye;);if(l!==Ye||u===a){var f=new G2(e,l,s,u);return s=u,{value:f,done:!1}}return{done:!0,value:null}}}},K2=1<<0,k2=1<<1,Uo=1<<2,Gg=1<<3,cs=10,bg=47,So=92,V2=9,Y2=32,ds=34,xo=61,X2=35,W2=36,j2=37,ps=39,gs=40,To=41,Z2=95,Jt=45,z2=33,$2=60,J2=62,q2=64,eS=91,tS=93,AS=61,rS=123,vs=63,nS=125,Kg=124,iS=126,oS=128,kg=65533,Lf=42,mn=43,aS=44,sS=58,uS=59,Oo=46,lS=0,fS=8,hS=11,cS=14,dS=31,pS=127,ZA=-1,Vg=48,Yg=97,Xg=101,gS=102,vS=117,BS=122,Wg=65,jg=69,Zg=70,yS=85,_S=90,Kt=function(r){return r>=Vg&&r<=57},wS=function(r){return r>=55296&&r<=57343},hi=function(r){return Kt(r)||r>=Wg&&r<=Zg||r>=Yg&&r<=gS},mS=function(r){return r>=Yg&&r<=BS},CS=function(r){return r>=Wg&&r<=_S},ES=function(r){return mS(r)||CS(r)},FS=function(r){return r>=oS},Bs=function(r){return r===cs||r===V2||r===Y2},ys=function(r){return ES(r)||FS(r)||r===Z2},zg=function(r){return ys(r)||Kt(r)||r===Jt},QS=function(r){return r>=lS&&r<=fS||r===hS||r>=cS&&r<=dS||r===pS},Lr=function(r,t){return r!==So?!1:t!==cs},_s=function(r,t,e){return r===Jt?ys(t)||Lr(t,e):ys(r)?!0:!!(r===So&&Lr(r,t))},Mf=function(r,t,e){return r===mn||r===Jt?Kt(t)?!0:t===Oo&&Kt(e):Kt(r===Oo?t:r)},IS=function(r){var t=0,e=1;(r[t]===mn||r[t]===Jt)&&(r[t]===Jt&&(e=-1),t++);for(var A=[];Kt(r[t]);)A.push(r[t++]);var n=A.length?parseInt(wt.apply(void 0,A),10):0;r[t]===Oo&&t++;for(var i=[];Kt(r[t]);)i.push(r[t++]);var o=i.length,a=o?parseInt(wt.apply(void 0,i),10):0;(r[t]===jg||r[t]===Xg)&&t++;var s=1;(r[t]===mn||r[t]===Jt)&&(r[t]===Jt&&(s=-1),t++);for(var u=[];Kt(r[t]);)u.push(r[t++]);var l=u.length?parseInt(wt.apply(void 0,u),10):0;return e*(n+a*Math.pow(10,-o))*Math.pow(10,s*l)},US={type:2},SS={type:3},xS={type:4},TS={type:13},OS={type:8},RS={type:21},LS={type:9},MS={type:10},PS={type:11},HS={type:12},NS={type:14},ws={type:23},DS={type:1},GS={type:25},bS={type:24},KS={type:26},kS={type:27},VS={type:28},YS={type:29},XS={type:31},Pf={type:32},$g=function(){function r(){this._value=[]}return r.prototype.write=function(t){this._value=this._value.concat(is(t))},r.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==Pf;)t.push(e),e=this.consumeToken();return t},r.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case ds:return this.consumeStringToken(ds);case X2:var e=this.peekCodePoint(0),A=this.peekCodePoint(1),n=this.peekCodePoint(2);if(zg(e)||Lr(A,n)){var i=_s(e,A,n)?k2:K2,o=this.consumeName();return{type:5,value:o,flags:i}}break;case W2:if(this.peekCodePoint(0)===xo)return this.consumeCodePoint(),TS;break;case ps:return this.consumeStringToken(ps);case gs:return US;case To:return SS;case Lf:if(this.peekCodePoint(0)===xo)return this.consumeCodePoint(),NS;break;case mn:if(Mf(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case aS:return xS;case Jt:var a=t,s=this.peekCodePoint(0),u=this.peekCodePoint(1);if(Mf(a,s,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(_s(a,s,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(s===Jt&&u===J2)return this.consumeCodePoint(),this.consumeCodePoint(),bS;break;case Oo:if(Mf(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case bg:if(this.peekCodePoint(0)===Lf)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===Lf&&(l=this.consumeCodePoint(),l===bg))return this.consumeToken();if(l===ZA)return this.consumeToken()}break;case sS:return KS;case uS:return kS;case $2:if(this.peekCodePoint(0)===z2&&this.peekCodePoint(1)===Jt&&this.peekCodePoint(2)===Jt)return this.consumeCodePoint(),this.consumeCodePoint(),GS;break;case q2:var f=this.peekCodePoint(0),h=this.peekCodePoint(1),c=this.peekCodePoint(2);if(_s(f,h,c)){var o=this.consumeName();return{type:7,value:o}}break;case eS:return VS;case So:if(Lr(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case tS:return YS;case AS:if(this.peekCodePoint(0)===xo)return this.consumeCodePoint(),OS;break;case rS:return PS;case nS:return HS;case vS:case yS:var d=this.peekCodePoint(0),p=this.peekCodePoint(1);return d===mn&&(hi(p)||p===vs)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case Kg:if(this.peekCodePoint(0)===xo)return this.consumeCodePoint(),LS;if(this.peekCodePoint(0)===Kg)return this.consumeCodePoint(),RS;break;case iS:if(this.peekCodePoint(0)===xo)return this.consumeCodePoint(),MS;break;case ZA:return Pf}return Bs(t)?(this.consumeWhiteSpace(),XS):Kt(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):ys(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:wt(t)}},r.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t=="undefined"?-1:t},r.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},r.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},r.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();hi(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var A=!1;e===vs&&t.length<6;)t.push(e),e=this.consumeCodePoint(),A=!0;if(A){var n=parseInt(wt.apply(void 0,t.map(function(s){return s===vs?Vg:s})),16),i=parseInt(wt.apply(void 0,t.map(function(s){return s===vs?Zg:s})),16);return{type:30,start:n,end:i}}var o=parseInt(wt.apply(void 0,t),16);if(this.peekCodePoint(0)===Jt&&hi(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var a=[];hi(e)&&a.length<6;)a.push(e),e=this.consumeCodePoint();var i=parseInt(wt.apply(void 0,a),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},r.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===gs?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===gs?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},r.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ZA)return{type:22,value:""};var e=this.peekCodePoint(0);if(e===ps||e===ds){var A=this.consumeStringToken(this.consumeCodePoint());return A.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ZA||this.peekCodePoint(0)===To)?(this.consumeCodePoint(),{type:22,value:A.value}):(this.consumeBadUrlRemnants(),ws)}for(;;){var n=this.consumeCodePoint();if(n===ZA||n===To)return{type:22,value:wt.apply(void 0,t)};if(Bs(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ZA||this.peekCodePoint(0)===To?(this.consumeCodePoint(),{type:22,value:wt.apply(void 0,t)}):(this.consumeBadUrlRemnants(),ws);if(n===ds||n===ps||n===gs||QS(n))return this.consumeBadUrlRemnants(),ws;if(n===So)if(Lr(n,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ws;else t.push(n)}},r.prototype.consumeWhiteSpace=function(){for(;Bs(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===To||t===ZA)return;Lr(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(t){for(var e=6e4,A="";t>0;){var n=Math.min(e,t);A+=wt.apply(void 0,this._value.splice(0,n)),t-=n}return this._value.shift(),A},r.prototype.consumeStringToken=function(t){var e="",A=0;do{var n=this._value[A];if(n===ZA||n===void 0||n===t)return e+=this.consumeStringSlice(A),{type:0,value:e};if(n===cs)return this._value.splice(0,A),DS;if(n===So){var i=this._value[A+1];i!==ZA&&i!==void 0&&(i===cs?(e+=this.consumeStringSlice(A),A=-1,this._value.shift()):Lr(n,i)&&(e+=this.consumeStringSlice(A),e+=wt(this.consumeEscapedCodePoint()),A=-1))}A++}while(!0)},r.prototype.consumeNumber=function(){var t=[],e=Uo,A=this.peekCodePoint(0);for((A===mn||A===Jt)&&t.push(this.consumeCodePoint());Kt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());A=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(A===Oo&&Kt(n))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Gg;Kt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());A=this.peekCodePoint(0),n=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((A===jg||A===Xg)&&((n===mn||n===Jt)&&Kt(i)||Kt(n)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Gg;Kt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[IS(t),e]},r.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],A=t[1],n=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(_s(n,i,o)){var a=this.consumeName();return{type:15,number:e,flags:A,unit:a}}return n===j2?(this.consumeCodePoint(),{type:16,number:e,flags:A}):{type:17,number:e,flags:A}},r.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(hi(t)){for(var e=wt(t);hi(this.peekCodePoint(0))&&e.length<6;)e+=wt(this.consumeCodePoint());Bs(this.peekCodePoint(0))&&this.consumeCodePoint();var A=parseInt(e,16);return A===0||wS(A)||A>1114111?kg:A}return t===ZA?kg:t},r.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(zg(e))t+=wt(e);else if(Lr(e,this.peekCodePoint(0)))t+=wt(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(e),t}},r}(),Jg=function(){function r(t){this._tokens=t}return r.create=function(t){var e=new $g;return e.write(t),new r(e.read())},r.parseValue=function(t){return r.create(t).parseComponentValue()},r.parseValues=function(t){return r.create(t).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(e.type===32)return t;t.push(e),t.push()}},r.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},r.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},A=this.consumeToken();;){if(A.type===32||jS(A,t))return e;this.reconsumeToken(A),e.values.push(this.consumeComponentValue()),A=this.consumeToken()}},r.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var A=this.consumeToken();if(A.type===32||A.type===3)return e;this.reconsumeToken(A),e.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t=="undefined"?Pf:t},r.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},r}(),Ro=function(r){return r.type===15},ci=function(r){return r.type===17},rt=function(r){return r.type===20},WS=function(r){return r.type===0},Hf=function(r,t){return rt(r)&&r.value===t},qg=function(r){return r.type!==31},di=function(r){return r.type!==31&&r.type!==4},zA=function(r){var t=[],e=[];return r.forEach(function(A){if(A.type===4){if(e.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(e),e=[];return}A.type!==31&&e.push(A)}),e.length&&t.push(e),t},jS=function(r,t){return t===11&&r.type===12||t===28&&r.type===29?!0:t===2&&r.type===3},Mr=function(r){return r.type===17||r.type===15},Ft=function(r){return r.type===16||Mr(r)},e0=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},Lt={type:17,number:0,flags:Uo},Nf={type:16,number:50,flags:Uo},Pr={type:16,number:100,flags:Uo},Lo=function(r,t,e){var A=r[0],n=r[1];return[ut(A,t),ut(typeof n!="undefined"?n:A,e)]},ut=function(r,t){if(r.type===16)return r.number/100*t;if(Ro(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},t0="deg",A0="grad",r0="rad",n0="turn",ms={name:"angle",parse:function(r,t){if(t.type===15)switch(t.unit){case t0:return Math.PI*t.number/180;case A0:return Math.PI/200*t.number;case r0:return t.number;case n0:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},i0=function(r){return r.type===15&&(r.unit===t0||r.unit===A0||r.unit===r0||r.unit===n0)},o0=function(r){var t=r.filter(rt).map(function(e){return e.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Lt,Lt];case"to top":case"bottom":return _A(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Lt,Pr];case"to right":case"left":return _A(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Pr,Pr];case"to bottom":case"top":return _A(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Pr,Lt];case"to left":case"right":return _A(270)}return 0},_A=function(r){return Math.PI*r/180},Hr={name:"color",parse:function(r,t){if(t.type===18){var e=ZS[t.name];if(typeof e=="undefined")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return e(r,t.values)}if(t.type===5){if(t.value.length===3){var A=t.value.substring(0,1),n=t.value.substring(1,2),i=t.value.substring(2,3);return Dr(parseInt(A+A,16),parseInt(n+n,16),parseInt(i+i,16),1)}if(t.value.length===4){var A=t.value.substring(0,1),n=t.value.substring(1,2),i=t.value.substring(2,3),o=t.value.substring(3,4);return Dr(parseInt(A+A,16),parseInt(n+n,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(t.value.length===6){var A=t.value.substring(0,2),n=t.value.substring(2,4),i=t.value.substring(4,6);return Dr(parseInt(A,16),parseInt(n,16),parseInt(i,16),1)}if(t.value.length===8){var A=t.value.substring(0,2),n=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8);return Dr(parseInt(A,16),parseInt(n,16),parseInt(i,16),parseInt(o,16)/255)}}if(t.type===20){var a=cr[t.value.toUpperCase()];if(typeof a!="undefined")return a}return cr.TRANSPARENT}},Nr=function(r){return(255&r)==0},Tt=function(r){var t=255&r,e=255&r>>8,A=255&r>>16,n=255&r>>24;return t<255?"rgba("+n+","+A+","+e+","+t/255+")":"rgb("+n+","+A+","+e+")"},Dr=function(r,t,e,A){return(r<<24|t<<16|e<<8|Math.round(A*255)<<0)>>>0},a0=function(r,t){if(r.type===17)return r.number;if(r.type===16){var e=t===3?1:255;return t===3?r.number/100*e:Math.round(r.number/100*e)}return 0},s0=function(r,t){var e=t.filter(di);if(e.length===3){var A=e.map(a0),n=A[0],i=A[1],o=A[2];return Dr(n,i,o,1)}if(e.length===4){var a=e.map(a0),n=a[0],i=a[1],o=a[2],s=a[3];return Dr(n,i,o,s)}return 0};function Df(r,t,e){return e<0&&(e+=1),e>=1&&(e-=1),e<1/6?(t-r)*e*6+r:e<1/2?t:e<2/3?(t-r)*6*(2/3-e)+r:r}var u0=function(r,t){var e=t.filter(di),A=e[0],n=e[1],i=e[2],o=e[3],a=(A.type===17?_A(A.number):ms.parse(r,A))/(Math.PI*2),s=Ft(n)?n.number/100:0,u=Ft(i)?i.number/100:0,l=typeof o!="undefined"&&Ft(o)?ut(o,1):1;if(s===0)return Dr(u*255,u*255,u*255,1);var f=u<=.5?u*(s+1):u+s-u*s,h=u*2-f,c=Df(h,f,a+1/3),d=Df(h,f,a),p=Df(h,f,a-1/3);return Dr(c*255,d*255,p*255,l)},ZS={hsl:u0,hsla:u0,rgb:s0,rgba:s0},Mo=function(r,t){return Hr.parse(r,Jg.create(t).parseComponentValue())},cr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},zS={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,t){return t.map(function(e){if(rt(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},$S={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Cs=function(r,t){var e=Hr.parse(r,t[0]),A=t[1];return A&&Ft(A)?{color:e,stop:A}:{color:e,stop:null}},l0=function(r,t){var e=r[0],A=r[r.length-1];e.stop===null&&(e.stop=Lt),A.stop===null&&(A.stop=Pr);for(var n=[],i=0,o=0;o<r.length;o++){var a=r[o].stop;if(a!==null){var s=ut(a,t);s>i?n.push(s):n.push(i),i=s}else n.push(null)}for(var u=null,o=0;o<n.length;o++){var l=n[o];if(l===null)u===null&&(u=o);else if(u!==null){for(var f=o-u,h=n[u-1],c=(l-h)/(f+1),d=1;d<=f;d++)n[u+d-1]=c*d;u=null}}return r.map(function(p,B){var g=p.color;return{color:g,stop:Math.max(Math.min(1,n[B]/t),0)}})},JS=function(r,t,e){var A=t/2,n=e/2,i=ut(r[0],t)-A,o=n-ut(r[1],e);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},qS=function(r,t,e){var A=typeof r=="number"?r:JS(r,t,e),n=Math.abs(t*Math.sin(A))+Math.abs(e*Math.cos(A)),i=t/2,o=e/2,a=n/2,s=Math.sin(A-Math.PI/2)*a,u=Math.cos(A-Math.PI/2)*a;return[n,i-u,i+u,o-s,o+s]},PA=function(r,t){return Math.sqrt(r*r+t*t)},f0=function(r,t,e,A,n){var i=[[0,0],[0,t],[r,0],[r,t]];return i.reduce(function(o,a){var s=a[0],u=a[1],l=PA(e-s,A-u);return(n?l<o.optimumDistance:l>o.optimumDistance)?{optimumCorner:a,optimumDistance:l}:o},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},ex=function(r,t,e,A,n){var i=0,o=0;switch(r.size){case 0:r.shape===0?i=o=Math.min(Math.abs(t),Math.abs(t-A),Math.abs(e),Math.abs(e-n)):r.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-A)),o=Math.min(Math.abs(e),Math.abs(e-n)));break;case 2:if(r.shape===0)i=o=Math.min(PA(t,e),PA(t,e-n),PA(t-A,e),PA(t-A,e-n));else if(r.shape===1){var a=Math.min(Math.abs(e),Math.abs(e-n))/Math.min(Math.abs(t),Math.abs(t-A)),s=f0(A,n,t,e,!0),u=s[0],l=s[1];i=PA(u-t,(l-e)/a),o=a*i}break;case 1:r.shape===0?i=o=Math.max(Math.abs(t),Math.abs(t-A),Math.abs(e),Math.abs(e-n)):r.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-A)),o=Math.max(Math.abs(e),Math.abs(e-n)));break;case 3:if(r.shape===0)i=o=Math.max(PA(t,e),PA(t,e-n),PA(t-A,e),PA(t-A,e-n));else if(r.shape===1){var a=Math.max(Math.abs(e),Math.abs(e-n))/Math.max(Math.abs(t),Math.abs(t-A)),f=f0(A,n,t,e,!1),u=f[0],l=f[1];i=PA(u-t,(l-e)/a),o=a*i}break}return Array.isArray(r.size)&&(i=ut(r.size[0],A),o=r.size.length===2?ut(r.size[1],n):i),[i,o]},tx=function(r,t){var e=_A(180),A=[];return zA(t).forEach(function(n,i){if(i===0){var o=n[0];if(o.type===20&&o.value==="to"){e=o0(n);return}else if(i0(o)){e=ms.parse(r,o);return}}var a=Cs(r,n);A.push(a)}),{angle:e,stops:A,type:1}},Es=function(r,t){var e=_A(180),A=[];return zA(t).forEach(function(n,i){if(i===0){var o=n[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){e=o0(n);return}else if(i0(o)){e=(ms.parse(r,o)+_A(270))%_A(360);return}}var a=Cs(r,n);A.push(a)}),{angle:e,stops:A,type:1}},Ax=function(r,t){var e=_A(180),A=[],n=1,i=0,o=3,a=[];return zA(t).forEach(function(s,u){var l=s[0];if(u===0){if(rt(l)&&l.value==="linear"){n=1;return}else if(rt(l)&&l.value==="radial"){n=2;return}}if(l.type===18){if(l.name==="from"){var f=Hr.parse(r,l.values[0]);A.push({stop:Lt,color:f})}else if(l.name==="to"){var f=Hr.parse(r,l.values[0]);A.push({stop:Pr,color:f})}else if(l.name==="color-stop"){var h=l.values.filter(di);if(h.length===2){var f=Hr.parse(r,h[1]),c=h[0];ci(c)&&A.push({stop:{type:16,number:c.number*100,flags:c.flags},color:f})}}}}),n===1?{angle:(e+_A(180))%_A(360),stops:A,type:n}:{size:o,shape:i,stops:A,position:a,type:n}},h0="closest-side",c0="farthest-side",d0="closest-corner",p0="farthest-corner",g0="circle",v0="ellipse",B0="cover",y0="contain",rx=function(r,t){var e=0,A=3,n=[],i=[];return zA(t).forEach(function(o,a){var s=!0;if(a===0){var u=!1;s=o.reduce(function(f,h){if(u)if(rt(h))switch(h.value){case"center":return i.push(Nf),f;case"top":case"left":return i.push(Lt),f;case"right":case"bottom":return i.push(Pr),f}else(Ft(h)||Mr(h))&&i.push(h);else if(rt(h))switch(h.value){case g0:return e=0,!1;case v0:return e=1,!1;case"at":return u=!0,!1;case h0:return A=0,!1;case B0:case c0:return A=1,!1;case y0:case d0:return A=2,!1;case p0:return A=3,!1}else if(Mr(h)||Ft(h))return Array.isArray(A)||(A=[]),A.push(h),!1;return f},s)}if(s){var l=Cs(r,o);n.push(l)}}),{size:A,shape:e,stops:n,position:i,type:2}},Fs=function(r,t){var e=0,A=3,n=[],i=[];return zA(t).forEach(function(o,a){var s=!0;if(a===0?s=o.reduce(function(l,f){if(rt(f))switch(f.value){case"center":return i.push(Nf),!1;case"top":case"left":return i.push(Lt),!1;case"right":case"bottom":return i.push(Pr),!1}else if(Ft(f)||Mr(f))return i.push(f),!1;return l},s):a===1&&(s=o.reduce(function(l,f){if(rt(f))switch(f.value){case g0:return e=0,!1;case v0:return e=1,!1;case y0:case h0:return A=0,!1;case c0:return A=1,!1;case d0:return A=2,!1;case B0:case p0:return A=3,!1}else if(Mr(f)||Ft(f))return Array.isArray(A)||(A=[]),A.push(f),!1;return l},s)),s){var u=Cs(r,o);n.push(u)}}),{size:A,shape:e,stops:n,position:i,type:2}},nx=function(r){return r.type===1},ix=function(r){return r.type===2},Gf={name:"image",parse:function(r,t){if(t.type===22){var e={url:t.value,type:0};return r.cache.addImage(t.value),e}if(t.type===18){var A=_0[t.name];if(typeof A=="undefined")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return A(r,t.values)}throw new Error("Unsupported image type "+t.type)}};function ox(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!_0[r.name])}var _0={"linear-gradient":tx,"-moz-linear-gradient":Es,"-ms-linear-gradient":Es,"-o-linear-gradient":Es,"-webkit-linear-gradient":Es,"radial-gradient":rx,"-moz-radial-gradient":Fs,"-ms-radial-gradient":Fs,"-o-radial-gradient":Fs,"-webkit-radial-gradient":Fs,"-webkit-gradient":Ax},ax={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,t){if(t.length===0)return[];var e=t[0];return e.type===20&&e.value==="none"?[]:t.filter(function(A){return di(A)&&ox(A)}).map(function(A){return Gf.parse(r,A)})}},sx={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,t){return t.map(function(e){if(rt(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ux={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,t){return zA(t).map(function(e){return e.filter(Ft)}).map(e0)}},lx={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,t){return zA(t).map(function(e){return e.filter(rt).map(function(A){return A.value}).join(" ")}).map(fx)}},fx=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},pi;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(pi||(pi={}));var hx={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,t){return zA(t).map(function(e){return e.filter(cx)})}},cx=function(r){return rt(r)||Ft(r)},Qs=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},dx=Qs("top"),px=Qs("right"),gx=Qs("bottom"),vx=Qs("left"),Is=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return e0(e.filter(Ft))}}},Bx=Is("top-left"),yx=Is("top-right"),_x=Is("bottom-right"),wx=Is("bottom-left"),Us=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},mx=Us("top"),Cx=Us("right"),Ex=Us("bottom"),Fx=Us("left"),Ss=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Ro(e)?e.number:0}}},Qx=Ss("top"),Ix=Ss("right"),Ux=Ss("bottom"),Sx=Ss("left"),xx={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Tx={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},Ox={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,t){return t.filter(rt).reduce(function(e,A){return e|Rx(A.value)},0)}},Rx=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Lx={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Mx={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},xs;(function(r){r.NORMAL="normal",r.STRICT="strict"})(xs||(xs={}));var Px={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"strict":return xs.STRICT;case"normal":default:return xs.NORMAL}}},Hx={name:"line-height",initialValue:"normal",prefix:!1,type:4},w0=function(r,t){return rt(r)&&r.value==="normal"?1.2*t:r.type===17?t*r.number:Ft(r)?ut(r,t):t},Nx={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,t){return t.type===20&&t.value==="none"?null:Gf.parse(r,t)}},Dx={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},bf={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Ts=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},Gx=Ts("top"),bx=Ts("right"),Kx=Ts("bottom"),kx=Ts("left"),Vx={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,t){return t.filter(rt).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Yx={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Os=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Xx=Os("top"),Wx=Os("right"),jx=Os("bottom"),Zx=Os("left"),zx={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},$x={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Jx={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,t){return t.length===1&&Hf(t[0],"none")?[]:zA(t).map(function(e){for(var A={color:cr.TRANSPARENT,offsetX:Lt,offsetY:Lt,blur:Lt},n=0,i=0;i<e.length;i++){var o=e[i];Mr(o)?(n===0?A.offsetX=o:n===1?A.offsetY=o:A.blur=o,n++):A.color=Hr.parse(r,o)}return A})}},qx={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},eT={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var e=rT[t.name];if(typeof e=="undefined")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return e(t.values)}return null}},tT=function(r){var t=r.filter(function(e){return e.type===17}).map(function(e){return e.number});return t.length===6?t:null},AT=function(r){var t=r.filter(function(s){return s.type===17}).map(function(s){return s.number}),e=t[0],A=t[1];t[2],t[3];var n=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],a=t[13];return t[14],t[15],t.length===16?[e,A,n,i,o,a]:null},rT={matrix:tT,matrix3d:AT},m0={type:16,number:50,flags:Uo},nT=[m0,m0],iT={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,t){var e=t.filter(Ft);return e.length!==2?nT:[e[0],e[1]]}},oT={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Po;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(Po||(Po={}));var aT={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"break-all":return Po.BREAK_ALL;case"keep-all":return Po.KEEP_ALL;case"normal":default:return Po.NORMAL}}},sT={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,t){if(t.type===20)return{auto:!0,order:0};if(ci(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},C0={name:"time",parse:function(r,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},uT={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,t){return ci(t)?t.number:1}},lT={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fT={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,t){return t.filter(rt).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return e!==0})}},hT={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,t){var e=[],A=[];return t.forEach(function(n){switch(n.type){case 20:case 0:e.push(n.value);break;case 17:e.push(n.number.toString());break;case 4:A.push(e.join(" ")),e.length=0;break}}),e.length&&A.push(e.join(" ")),A.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},cT={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},dT={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,t){if(ci(t))return t.number;if(rt(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},pT={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,t){return t.filter(rt).map(function(e){return e.value})}},gT={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},It=function(r,t){return(r&t)!=0},vT={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,t){if(t.length===0)return[];var e=t[0];return e.type===20&&e.value==="none"?[]:t}},BT={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,t){if(t.length===0)return null;var e=t[0];if(e.type===20&&e.value==="none")return null;for(var A=[],n=t.filter(qg),i=0;i<n.length;i++){var o=n[i],a=n[i+1];if(o.type===20){var s=a&&ci(a)?a.number:1;A.push({counter:o.value,increment:s})}}return A}},yT={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,t){if(t.length===0)return[];for(var e=[],A=t.filter(qg),n=0;n<A.length;n++){var i=A[n],o=A[n+1];if(rt(i)&&i.value!=="none"){var a=o&&ci(o)?o.number:0;e.push({counter:i.value,reset:a})}}return e}},_T={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,t){return t.filter(Ro).map(function(e){return C0.parse(r,e)})}},wT={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,t){if(t.length===0)return null;var e=t[0];if(e.type===20&&e.value==="none")return null;var A=[],n=t.filter(WS);if(n.length%2!=0)return null;for(var i=0;i<n.length;i+=2){var o=n[i].value,a=n[i+1].value;A.push({open:o,close:a})}return A}},E0=function(r,t,e){if(!r)return"";var A=r[Math.min(t,r.length-1)];return A?e?A.open:A.close:""},mT={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,t){return t.length===1&&Hf(t[0],"none")?[]:zA(t).map(function(e){for(var A={color:255,offsetX:Lt,offsetY:Lt,blur:Lt,spread:Lt,inset:!1},n=0,i=0;i<e.length;i++){var o=e[i];Hf(o,"inset")?A.inset=!0:Mr(o)?(n===0?A.offsetX=o:n===1?A.offsetY=o:n===2?A.blur=o:A.spread=o,n++):A.color=Hr.parse(r,o)}return A})}},CT={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,t){var e=[0,1,2],A=[];return t.filter(rt).forEach(function(n){switch(n.value){case"stroke":A.push(1);break;case"fill":A.push(0);break;case"markers":A.push(2);break}}),e.forEach(function(n){A.indexOf(n)===-1&&A.push(n)}),A}},ET={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},FT={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,t){return Ro(t)?t.number:0}},QT=function(){function r(t,e){var A,n;this.animationDuration=G(t,_T,e.animationDuration),this.backgroundClip=G(t,zS,e.backgroundClip),this.backgroundColor=G(t,$S,e.backgroundColor),this.backgroundImage=G(t,ax,e.backgroundImage),this.backgroundOrigin=G(t,sx,e.backgroundOrigin),this.backgroundPosition=G(t,ux,e.backgroundPosition),this.backgroundRepeat=G(t,lx,e.backgroundRepeat),this.backgroundSize=G(t,hx,e.backgroundSize),this.borderTopColor=G(t,dx,e.borderTopColor),this.borderRightColor=G(t,px,e.borderRightColor),this.borderBottomColor=G(t,gx,e.borderBottomColor),this.borderLeftColor=G(t,vx,e.borderLeftColor),this.borderTopLeftRadius=G(t,Bx,e.borderTopLeftRadius),this.borderTopRightRadius=G(t,yx,e.borderTopRightRadius),this.borderBottomRightRadius=G(t,_x,e.borderBottomRightRadius),this.borderBottomLeftRadius=G(t,wx,e.borderBottomLeftRadius),this.borderTopStyle=G(t,mx,e.borderTopStyle),this.borderRightStyle=G(t,Cx,e.borderRightStyle),this.borderBottomStyle=G(t,Ex,e.borderBottomStyle),this.borderLeftStyle=G(t,Fx,e.borderLeftStyle),this.borderTopWidth=G(t,Qx,e.borderTopWidth),this.borderRightWidth=G(t,Ix,e.borderRightWidth),this.borderBottomWidth=G(t,Ux,e.borderBottomWidth),this.borderLeftWidth=G(t,Sx,e.borderLeftWidth),this.boxShadow=G(t,mT,e.boxShadow),this.color=G(t,xx,e.color),this.direction=G(t,Tx,e.direction),this.display=G(t,Ox,e.display),this.float=G(t,Lx,e.cssFloat),this.fontFamily=G(t,hT,e.fontFamily),this.fontSize=G(t,cT,e.fontSize),this.fontStyle=G(t,gT,e.fontStyle),this.fontVariant=G(t,pT,e.fontVariant),this.fontWeight=G(t,dT,e.fontWeight),this.letterSpacing=G(t,Mx,e.letterSpacing),this.lineBreak=G(t,Px,e.lineBreak),this.lineHeight=G(t,Hx,e.lineHeight),this.listStyleImage=G(t,Nx,e.listStyleImage),this.listStylePosition=G(t,Dx,e.listStylePosition),this.listStyleType=G(t,bf,e.listStyleType),this.marginTop=G(t,Gx,e.marginTop),this.marginRight=G(t,bx,e.marginRight),this.marginBottom=G(t,Kx,e.marginBottom),this.marginLeft=G(t,kx,e.marginLeft),this.opacity=G(t,uT,e.opacity);var i=G(t,Vx,e.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=G(t,Yx,e.overflowWrap),this.paddingTop=G(t,Xx,e.paddingTop),this.paddingRight=G(t,Wx,e.paddingRight),this.paddingBottom=G(t,jx,e.paddingBottom),this.paddingLeft=G(t,Zx,e.paddingLeft),this.paintOrder=G(t,CT,e.paintOrder),this.position=G(t,$x,e.position),this.textAlign=G(t,zx,e.textAlign),this.textDecorationColor=G(t,lT,(A=e.textDecorationColor)!==null&&A!==void 0?A:e.color),this.textDecorationLine=G(t,fT,(n=e.textDecorationLine)!==null&&n!==void 0?n:e.textDecoration),this.textShadow=G(t,Jx,e.textShadow),this.textTransform=G(t,qx,e.textTransform),this.transform=G(t,eT,e.transform),this.transformOrigin=G(t,iT,e.transformOrigin),this.visibility=G(t,oT,e.visibility),this.webkitTextStrokeColor=G(t,ET,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=G(t,FT,e.webkitTextStrokeWidth),this.wordBreak=G(t,aT,e.wordBreak),this.zIndex=G(t,sT,e.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return Nr(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return It(this.display,4)||It(this.display,33554432)||It(this.display,268435456)||It(this.display,536870912)||It(this.display,67108864)||It(this.display,134217728)},r}(),IT=function(){function r(t,e){this.content=G(t,vT,e.content),this.quotes=G(t,wT,e.quotes)}return r}(),F0=function(){function r(t,e){this.counterIncrement=G(t,BT,e.counterIncrement),this.counterReset=G(t,yT,e.counterReset)}return r}(),G=function(r,t,e){var A=new $g,n=e!==null&&typeof e!="undefined"?e.toString():t.initialValue;A.write(n);var i=new Jg(A.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(r,rt(o)?o.value:t.initialValue);case 0:return t.parse(r,i.parseComponentValue());case 1:return t.parse(r,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return ms.parse(r,i.parseComponentValue());case"color":return Hr.parse(r,i.parseComponentValue());case"image":return Gf.parse(r,i.parseComponentValue());case"length":var a=i.parseComponentValue();return Mr(a)?a:Lt;case"length-percentage":var s=i.parseComponentValue();return Ft(s)?s:Lt;case"time":return C0.parse(r,i.parseComponentValue())}break}},UT="data-html2canvas-debug",ST=function(r){var t=r.getAttribute(UT);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Kf=function(r,t){var e=ST(r);return e===1||t===e},$A=function(){function r(t,e){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,Kf(e,3))debugger;this.styles=new QT(t,window.getComputedStyle(e,null)),th(e)&&(this.styles.animationDuration.some(function(A){return A>0})&&(e.style.animationDuration="0s"),this.styles.transform!==null&&(e.style.transform="none")),this.bounds=ns(this.context,e),Kf(e,4)&&(this.flags|=16)}return r}(),xT="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Q0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ho=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var Rs=0;Rs<Q0.length;Rs++)Ho[Q0.charCodeAt(Rs)]=Rs;var TT=function(r){var t=r.length*.75,e=r.length,A,n=0,i,o,a,s;r[r.length-1]==="="&&(t--,r[r.length-2]==="="&&t--);var u=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(t):new Array(t),l=Array.isArray(u)?u:new Uint8Array(u);for(A=0;A<e;A+=4)i=Ho[r.charCodeAt(A)],o=Ho[r.charCodeAt(A+1)],a=Ho[r.charCodeAt(A+2)],s=Ho[r.charCodeAt(A+3)],l[n++]=i<<2|o>>4,l[n++]=(o&15)<<4|a>>2,l[n++]=(a&3)<<6|s&63;return u},OT=function(r){for(var t=r.length,e=[],A=0;A<t;A+=2)e.push(r[A+1]<<8|r[A]);return e},RT=function(r){for(var t=r.length,e=[],A=0;A<t;A+=4)e.push(r[A+3]<<24|r[A+2]<<16|r[A+1]<<8|r[A]);return e},Cn=5,kf=6+5,Vf=2,LT=kf-Cn,I0=65536>>Cn,MT=1<<Cn,Yf=MT-1,PT=1024>>Cn,HT=I0+PT,NT=HT,DT=2048>>6,GT=NT+DT,bT=65536>>kf,KT=1<<LT,kT=KT-1,U0=function(r,t,e){return r.slice?r.slice(t,e):new Uint16Array(Array.prototype.slice.call(r,t,e))},VT=function(r,t,e){return r.slice?r.slice(t,e):new Uint32Array(Array.prototype.slice.call(r,t,e))},YT=function(r,t){var e=TT(r),A=Array.isArray(e)?RT(e):new Uint32Array(e),n=Array.isArray(e)?OT(e):new Uint16Array(e),i=24,o=U0(n,i/2,A[4]/2),a=A[5]===2?U0(n,(i+A[4])/2):VT(A,Math.ceil((i+A[4])/4));return new XT(A[0],A[1],A[2],A[3],o,a)},XT=function(){function r(t,e,A,n,i,o){this.initialValue=t,this.errorValue=e,this.highStart=A,this.highValueIndex=n,this.index=i,this.data=o}return r.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=this.index[t>>Cn],e=(e<<Vf)+(t&Yf),this.data[e];if(t<=65535)return e=this.index[I0+(t-55296>>Cn)],e=(e<<Vf)+(t&Yf),this.data[e];if(t<this.highStart)return e=GT-bT+(t>>kf),e=this.index[e],e+=t>>Cn&kT,e=this.index[e],e=(e<<Vf)+(t&Yf),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),S0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",WT=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var Ls=0;Ls<S0.length;Ls++)WT[S0.charCodeAt(Ls)]=Ls;var jT=1,Xf=2,Wf=3,x0=4,T0=5,ZT=7,O0=8,jf=9,Zf=10,R0=11,L0=12,M0=13,P0=14,zf=15,zT=function(r){for(var t=[],e=0,A=r.length;e<A;){var n=r.charCodeAt(e++);if(n>=55296&&n<=56319&&e<A){var i=r.charCodeAt(e++);(i&64512)==56320?t.push(((n&1023)<<10)+(i&1023)+65536):(t.push(n),e--)}else t.push(n)}return t},$T=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var e=r.length;if(!e)return"";for(var A=[],n=-1,i="";++n<e;){var o=r[n];o<=65535?A.push(o):(o-=65536,A.push((o>>10)+55296,o%1024+56320)),(n+1===e||A.length>16384)&&(i+=String.fromCharCode.apply(String,A),A.length=0)}return i},JT=YT(xT),wA="\xD7",$f="\xF7",qT=function(r){return JT.get(r)},e4=function(r,t,e){var A=e-2,n=t[A],i=t[e-1],o=t[e];if(i===Xf&&o===Wf)return wA;if(i===Xf||i===Wf||i===x0||o===Xf||o===Wf||o===x0)return $f;if(i===O0&&[O0,jf,R0,L0].indexOf(o)!==-1||(i===R0||i===jf)&&(o===jf||o===Zf)||(i===L0||i===Zf)&&o===Zf||o===M0||o===T0||o===ZT||i===jT)return wA;if(i===M0&&o===P0){for(;n===T0;)n=t[--A];if(n===P0)return wA}if(i===zf&&o===zf){for(var a=0;n===zf;)a++,n=t[--A];if(a%2==0)return wA}return $f},t4=function(r){var t=zT(r),e=t.length,A=0,n=0,i=t.map(qT);return{next:function(){if(A>=e)return{done:!0,value:null};for(var o=wA;A<e&&(o=e4(t,i,++A))===wA;);if(o!==wA||A===e){var a=$T.apply(null,t.slice(n,A));return n=A,{value:a,done:!1}}return{done:!0,value:null}}}},H0=function(r){for(var t=t4(r),e=[],A;!(A=t.next()).done;)A.value&&e.push(A.value.slice());return e},A4=function(r){var t=123;if(r.createRange){var e=r.createRange();if(e.getBoundingClientRect){var A=r.createElement("boundtest");A.style.height=t+"px",A.style.display="block",r.body.appendChild(A),e.selectNode(A);var n=e.getBoundingClientRect(),i=Math.round(n.height);if(r.body.removeChild(A),i===t)return!0}}return!1},r4=function(r){var t=r.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",r.body.appendChild(t);var e=r.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var A=t.firstChild,n=is(A.data).map(function(s){return wt(s)}),i=0,o={},a=n.every(function(s,u){e.setStart(A,i),e.setEnd(A,i+s.length);var l=e.getBoundingClientRect();i+=s.length;var f=l.x>o.x||l.y>o.y;return o=l,u===0?!0:f});return r.body.removeChild(t),a},n4=function(){return typeof new Image().crossOrigin!="undefined"},i4=function(){return typeof new XMLHttpRequest().responseType=="string"},o4=function(r){var t=new Image,e=r.createElement("canvas"),A=e.getContext("2d");if(!A)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{A.drawImage(t,0,0),e.toDataURL()}catch(n){return!1}return!0},N0=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},a4=function(r){var t=r.createElement("canvas"),e=100;t.width=e,t.height=e;var A=t.getContext("2d");if(!A)return Promise.reject(!1);A.fillStyle="rgb(0, 255, 0)",A.fillRect(0,0,e,e);var n=new Image,i=t.toDataURL();n.src=i;var o=Jf(e,e,0,0,n);return A.fillStyle="red",A.fillRect(0,0,e,e),D0(o).then(function(a){A.drawImage(a,0,0);var s=A.getImageData(0,0,e,e).data;A.fillStyle="red",A.fillRect(0,0,e,e);var u=r.createElement("div");return u.style.backgroundImage="url("+i+")",u.style.height=e+"px",N0(s)?D0(Jf(e,e,0,0,u)):Promise.reject(!1)}).then(function(a){return A.drawImage(a,0,0),N0(A.getImageData(0,0,e,e).data)}).catch(function(){return!1})},Jf=function(r,t,e,A,n){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",r.toString()),o.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",e.toString()),a.setAttributeNS(null,"y",A.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(n),o},D0=function(r){return new Promise(function(t,e){var A=new Image;A.onload=function(){return t(A)},A.onerror=e,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},jt={get SUPPORT_RANGE_BOUNDS(){var r=A4(document);return Object.defineProperty(jt,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=jt.SUPPORT_RANGE_BOUNDS&&r4(document);return Object.defineProperty(jt,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=o4(document);return Object.defineProperty(jt,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?a4(document):Promise.resolve(!1);return Object.defineProperty(jt,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=n4();return Object.defineProperty(jt,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=i4();return Object.defineProperty(jt,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(jt,"SUPPORT_CORS_XHR",{value:r}),r}},No=function(){function r(t,e){this.text=t,this.bounds=e}return r}(),s4=function(r,t,e,A){var n=f4(t,e),i=[],o=0;return n.forEach(function(a){if(e.textDecorationLine.length||a.trim().length>0)if(jt.SUPPORT_RANGE_BOUNDS)jt.SUPPORT_WORD_BREAKING?i.push(new No(a,l4(r,A,o,a.length))):i.push(new No(a,fr.fromDOMRectList(r,G0(A,o,a.length).getClientRects())));else{var s=A.splitText(a.length);i.push(new No(a,u4(r,A))),A=s}else jt.SUPPORT_RANGE_BOUNDS||(A=A.splitText(a.length));o+=a.length}),i},u4=function(r,t){var e=t.ownerDocument;if(e){var A=e.createElement("html2canvaswrapper");A.appendChild(t.cloneNode(!0));var n=t.parentNode;if(n){n.replaceChild(A,t);var i=ns(r,A);return A.firstChild&&n.replaceChild(A.firstChild,A),i}}return fr.EMPTY},G0=function(r,t,e){var A=r.ownerDocument;if(!A)throw new Error("Node has no owner document");var n=A.createRange();return n.setStart(r,t),n.setEnd(r,t+e),n},l4=function(r,t,e,A){return fr.fromClientRect(r,G0(t,e,A).getBoundingClientRect())},f4=function(r,t){return t.letterSpacing!==0?H0(r):c4(r,t)},h4=[32,160,4961,65792,65793,4153,4241],c4=function(r,t){for(var e=b2(r,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),A=[],n,i=function(){if(n.value){var o=n.value.slice(),a=is(o),s="";a.forEach(function(u){h4.indexOf(u)===-1?s+=wt(u):(s.length&&A.push(s),A.push(wt(u)),s="")}),s.length&&A.push(s)}};!(n=e.next()).done;)i();return A},d4=function(){function r(t,e,A){this.text=p4(e.data,A.textTransform),this.textBounds=s4(t,this.text,A,e)}return r}(),p4=function(r,t){switch(t){case 1:return r.toLowerCase();case 3:return r.replace(g4,v4);case 2:return r.toUpperCase();default:return r}},g4=/(^|\s|:|-|\(|\))([a-z])/g,v4=function(r,t,e){return r.length>0?t+e.toUpperCase():r},b0=function(r){MA(t,r);function t(e,A){var n=r.call(this,e,A)||this;return n.src=A.currentSrc||A.src,n.intrinsicWidth=A.naturalWidth,n.intrinsicHeight=A.naturalHeight,n.context.cache.addImage(n.src),n}return t}($A),K0=function(r){MA(t,r);function t(e,A){var n=r.call(this,e,A)||this;return n.canvas=A,n.intrinsicWidth=A.width,n.intrinsicHeight=A.height,n}return t}($A),k0=function(r){MA(t,r);function t(e,A){var n=r.call(this,e,A)||this,i=new XMLSerializer,o=ns(e,A);return A.setAttribute("width",o.width+"px"),A.setAttribute("height",o.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(A)),n.intrinsicWidth=A.width.baseVal.value,n.intrinsicHeight=A.height.baseVal.value,n.context.cache.addImage(n.svg),n}return t}($A),V0=function(r){MA(t,r);function t(e,A){var n=r.call(this,e,A)||this;return n.value=A.value,n}return t}($A),qf=function(r){MA(t,r);function t(e,A){var n=r.call(this,e,A)||this;return n.start=A.start,n.reversed=typeof A.reversed=="boolean"&&A.reversed===!0,n}return t}($A),B4=[{type:15,flags:0,unit:"px",number:3}],y4=[{type:16,flags:0,number:50}],_4=function(r){return r.width>r.height?new fr(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new fr(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},w4=function(r){var t=r.type===m4?new Array(r.value.length+1).join("\u2022"):r.value;return t.length===0?r.placeholder||"":t},Ms="checkbox",Ps="radio",m4="password",Y0=707406591,eh=function(r){MA(t,r);function t(e,A){var n=r.call(this,e,A)||this;switch(n.type=A.type.toLowerCase(),n.checked=A.checked,n.value=w4(A),(n.type===Ms||n.type===Ps)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=_4(n.bounds)),n.type){case Ms:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=B4;break;case Ps:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=y4;break}return n}return t}($A),X0=function(r){MA(t,r);function t(e,A){var n=r.call(this,e,A)||this,i=A.options[A.selectedIndex||0];return n.value=i&&i.text||"",n}return t}($A),W0=function(r){MA(t,r);function t(e,A){var n=r.call(this,e,A)||this;return n.value=A.value,n}return t}($A),j0=function(r){MA(t,r);function t(e,A){var n=r.call(this,e,A)||this;n.src=A.src,n.width=parseInt(A.width,10)||0,n.height=parseInt(A.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(A.contentWindow&&A.contentWindow.document&&A.contentWindow.document.documentElement){n.tree=z0(e,A.contentWindow.document.documentElement);var i=A.contentWindow.document.documentElement?Mo(e,getComputedStyle(A.contentWindow.document.documentElement).backgroundColor):cr.TRANSPARENT,o=A.contentWindow.document.body?Mo(e,getComputedStyle(A.contentWindow.document.body).backgroundColor):cr.TRANSPARENT;n.backgroundColor=Nr(i)?Nr(o)?n.styles.backgroundColor:o:i}}catch(a){}return n}return t}($A),C4=["OL","UL","MENU"],Hs=function(r,t,e,A){for(var n=t.firstChild,i=void 0;n;n=i)if(i=n.nextSibling,$0(n)&&n.data.trim().length>0)e.textNodes.push(new d4(r,n,e.styles));else if(Do(n))if(T4(n)&&n.assignedNodes)n.assignedNodes().forEach(function(a){return Hs(r,a,e,A)});else{var o=Z0(r,n);o.styles.isVisible()&&(E4(n,o,A)?o.flags|=4:F4(o.styles)&&(o.flags|=2),C4.indexOf(n.tagName)!==-1&&(o.flags|=8),e.elements.push(o),n.slot,n.shadowRoot?Hs(r,n.shadowRoot,o,A):!Ds(n)&&!J0(n)&&!Gs(n)&&Hs(r,n,o,A))}},Z0=function(r,t){return rh(t)?new b0(r,t):q0(t)?new K0(r,t):J0(t)?new k0(r,t):Q4(t)?new V0(r,t):I4(t)?new qf(r,t):U4(t)?new eh(r,t):Gs(t)?new X0(r,t):Ds(t)?new W0(r,t):ev(t)?new j0(r,t):new $A(r,t)},z0=function(r,t){var e=Z0(r,t);return e.flags|=4,Hs(r,t,e,e),e},E4=function(r,t,e){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Ah(r)&&e.styles.isTransparent()},F4=function(r){return r.isPositioned()||r.isFloating()},$0=function(r){return r.nodeType===Node.TEXT_NODE},Do=function(r){return r.nodeType===Node.ELEMENT_NODE},th=function(r){return Do(r)&&typeof r.style!="undefined"&&!Ns(r)},Ns=function(r){return typeof r.className=="object"},Q4=function(r){return r.tagName==="LI"},I4=function(r){return r.tagName==="OL"},U4=function(r){return r.tagName==="INPUT"},S4=function(r){return r.tagName==="HTML"},J0=function(r){return r.tagName==="svg"},Ah=function(r){return r.tagName==="BODY"},q0=function(r){return r.tagName==="CANVAS"},rh=function(r){return r.tagName==="IMG"},ev=function(r){return r.tagName==="IFRAME"},tv=function(r){return r.tagName==="STYLE"},x4=function(r){return r.tagName==="SCRIPT"},Ds=function(r){return r.tagName==="TEXTAREA"},Gs=function(r){return r.tagName==="SELECT"},T4=function(r){return r.tagName==="SLOT"},O4=function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},r.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},r.prototype.pop=function(t){var e=this;t.forEach(function(A){return e.counters[A].pop()})},r.prototype.parse=function(t){var e=this,A=t.counterIncrement,n=t.counterReset,i=!0;A!==null&&A.forEach(function(a){var s=e.counters[a.counter];s&&a.increment!==0&&(i=!1,s.length||s.push(1),s[Math.max(0,s.length-1)]+=a.increment)});var o=[];return i&&n.forEach(function(a){var s=e.counters[a.counter];o.push(a.counter),s||(s=e.counters[a.counter]=[]),s.push(a.reset)}),o},r}(),Av={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},rv={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},R4={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},L4={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},gi=function(r,t,e,A,n,i){return r<t||r>e?bo(r,n,i.length>0):A.integers.reduce(function(o,a,s){for(;r>=a;)r-=a,o+=A.values[s];return o},"")+i},nv=function(r,t,e,A){var n="";do e||r--,n=A(r)+n,r/=t;while(r*t>=t);return n},mt=function(r,t,e,A,n){var i=e-t+1;return(r<0?"-":"")+(nv(Math.abs(r),i,A,function(o){return wt(Math.floor(o%i)+t)})+n)},En=function(r,t,e){e===void 0&&(e=". ");var A=t.length;return nv(Math.abs(r),A,!1,function(n){return t[Math.floor(n%A)]})+e},vi=1<<0,Gr=1<<1,br=1<<2,Go=1<<3,dr=function(r,t,e,A,n,i){if(r<-9999||r>9999)return bo(r,4,n.length>0);var o=Math.abs(r),a=n;if(o===0)return t[0]+a;for(var s=0;o>0&&s<=4;s++){var u=o%10;u===0&&It(i,vi)&&a!==""?a=t[u]+a:u>1||u===1&&s===0||u===1&&s===1&&It(i,Gr)||u===1&&s===1&&It(i,br)&&r>100||u===1&&s>1&&It(i,Go)?a=t[u]+(s>0?e[s-1]:"")+a:u===1&&s>0&&(a=e[s-1]+a),o=Math.floor(o/10)}return(r<0?A:"")+a},iv="\u5341\u767E\u5343\u842C",ov="\u62FE\u4F70\u4EDF\u842C",av="\u30DE\u30A4\u30CA\u30B9",nh="\uB9C8\uC774\uB108\uC2A4",bo=function(r,t,e){var A=e?". ":"",n=e?"\u3001":"",i=e?", ":"",o=e?" ":"";switch(t){case 0:return"\u2022"+o;case 1:return"\u25E6"+o;case 2:return"\u25FE"+o;case 5:var a=mt(r,48,57,!0,A);return a.length<4?"0"+a:a;case 4:return En(r,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",n);case 6:return gi(r,1,3999,Av,3,A).toLowerCase();case 7:return gi(r,1,3999,Av,3,A);case 8:return mt(r,945,969,!1,A);case 9:return mt(r,97,122,!1,A);case 10:return mt(r,65,90,!1,A);case 11:return mt(r,1632,1641,!0,A);case 12:case 49:return gi(r,1,9999,rv,3,A);case 35:return gi(r,1,9999,rv,3,A).toLowerCase();case 13:return mt(r,2534,2543,!0,A);case 14:case 30:return mt(r,6112,6121,!0,A);case 15:return En(r,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",n);case 16:return En(r,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",n);case 17:case 48:return dr(r,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",iv,"\u8CA0",n,Gr|br|Go);case 47:return dr(r,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",ov,"\u8CA0",n,vi|Gr|br|Go);case 42:return dr(r,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",iv,"\u8D1F",n,Gr|br|Go);case 41:return dr(r,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",ov,"\u8D1F",n,vi|Gr|br|Go);case 26:return dr(r,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",av,n,0);case 25:return dr(r,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",av,n,vi|Gr|br);case 31:return dr(r,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",nh,i,vi|Gr|br);case 33:return dr(r,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",nh,i,0);case 32:return dr(r,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",nh,i,vi|Gr|br);case 18:return mt(r,2406,2415,!0,A);case 20:return gi(r,1,19999,L4,3,A);case 21:return mt(r,2790,2799,!0,A);case 22:return mt(r,2662,2671,!0,A);case 22:return gi(r,1,10999,R4,3,A);case 23:return En(r,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case 24:return En(r,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case 27:return mt(r,3302,3311,!0,A);case 28:return En(r,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",n);case 29:return En(r,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",n);case 34:return mt(r,3792,3801,!0,A);case 37:return mt(r,6160,6169,!0,A);case 38:return mt(r,4160,4169,!0,A);case 39:return mt(r,2918,2927,!0,A);case 40:return mt(r,1776,1785,!0,A);case 43:return mt(r,3046,3055,!0,A);case 44:return mt(r,3174,3183,!0,A);case 45:return mt(r,3664,3673,!0,A);case 46:return mt(r,3872,3881,!0,A);case 3:default:return mt(r,48,57,!0,A)}},sv="data-html2canvas-ignore",uv=function(){function r(t,e,A){if(this.context=t,this.options=A,this.scrolledElements=[],this.referenceElement=e,this.counters=new O4,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement)}return r.prototype.toIFrame=function(t,e){var A=this,n=M4(t,e);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,a=n.contentWindow,s=a.document,u=N4(n).then(function(){return Wt(A,void 0,void 0,function(){var l,f;return bt(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(K4),a&&(a.scrollTo(e.left,e.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==e.top||a.scrollX!==e.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-e.left,a.scrollY-e.top,0,0))),l=this.options.onclone,f=this.clonedReferenceElement,typeof f=="undefined"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:s.fonts&&s.fonts.ready?[4,s.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,H4(s)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof l=="function"?[2,Promise.resolve().then(function(){return l(s,f)}).then(function(){return n})]:[2,n]}})})});return s.open(),s.write(G4(document.doctype)+"<html></html>"),b4(this.referenceElement.ownerDocument,i,o),s.replaceChild(s.adoptNode(this.documentElement),s.documentElement),s.close(),u},r.prototype.createElementClone=function(t){if(Kf(t,2))debugger;if(q0(t))return this.createCanvasClone(t);if(tv(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return rh(e)&&(rh(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),e.loading==="lazy"&&(e.loading="eager")),e},r.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var A=[].slice.call(e.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),n=t.cloneNode(!1);return n.textContent=A,n}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},r.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var A=t.ownerDocument.createElement("img");try{return A.src=t.toDataURL(),A}catch(u){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var n=t.cloneNode(!1);try{n.width=t.width,n.height=t.height;var i=t.getContext("2d"),o=n.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var a=(e=t.getContext("webgl2"))!==null&&e!==void 0?e:t.getContext("webgl");if(a){var s=a.getContextAttributes();(s==null?void 0:s.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return n}catch(u){this.context.logger.info("Unable to clone canvas as it is tainted",t)}return n},r.prototype.cloneNode=function(t){if($0(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var e=t.ownerDocument.defaultView;if(e&&Do(t)&&(th(t)||Ns(t))){var A=this.createElementClone(t);A.style.transitionProperty="none";var n=e.getComputedStyle(t),i=e.getComputedStyle(t,":before"),o=e.getComputedStyle(t,":after");this.referenceElement===t&&th(A)&&(this.clonedReferenceElement=A),Ah(A)&&Y4(A);for(var a=this.counters.parse(new F0(this.context,n)),s=this.resolvePseudoContent(t,A,i,Ko.BEFORE),u=t.firstChild;u;u=u.nextSibling)(!Do(u)||!x4(u)&&!u.hasAttribute(sv)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(u)))&&(!this.options.copyStyles||!Do(u)||!tv(u))&&A.appendChild(this.cloneNode(u));s&&A.insertBefore(s,A.firstChild);var l=this.resolvePseudoContent(t,A,o,Ko.AFTER);return l&&A.appendChild(l),this.counters.pop(a),n&&(this.options.copyStyles||Ns(t))&&!ev(t)&&lv(n,A),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([A,t.scrollLeft,t.scrollTop]),(Ds(t)||Gs(t))&&(Ds(A)||Gs(A))&&(A.value=t.value),A}return t.cloneNode(!1)},r.prototype.resolvePseudoContent=function(t,e,A,n){var i=this;if(!!A){var o=A.content,a=e.ownerDocument;if(!(!a||!o||o==="none"||o==="-moz-alt-content"||A.display==="none")){this.counters.parse(new F0(this.context,A));var s=new IT(this.context,A),u=a.createElement("html2canvaspseudoelement");lv(A,u),s.content.forEach(function(f){if(f.type===0)u.appendChild(a.createTextNode(f.value));else if(f.type===22){var h=a.createElement("img");h.src=f.value,h.style.opacity="1",u.appendChild(h)}else if(f.type===18){if(f.name==="attr"){var c=f.values.filter(rt);c.length&&u.appendChild(a.createTextNode(t.getAttribute(c[0].value)||""))}else if(f.name==="counter"){var d=f.values.filter(di),p=d[0],B=d[1];if(p&&rt(p)){var g=i.counters.getCounterValue(p.value),y=B&&rt(B)?bf.parse(i.context,B.value):3;u.appendChild(a.createTextNode(bo(g,y,!1)))}}else if(f.name==="counters"){var m=f.values.filter(di),p=m[0],_=m[1],B=m[2];if(p&&rt(p)){var C=i.counters.getCounterValues(p.value),F=B&&rt(B)?bf.parse(i.context,B.value):3,E=_&&_.type===0?_.value:"",Q=C.map(function(O){return bo(O,F,!1)}).join(E);u.appendChild(a.createTextNode(Q))}}}else if(f.type===20)switch(f.value){case"open-quote":u.appendChild(a.createTextNode(E0(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(a.createTextNode(E0(s.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(a.createTextNode(f.value))}}),u.className=ih+" "+oh;var l=n===Ko.BEFORE?" "+ih:" "+oh;return Ns(e)?e.className.baseValue+=l:e.className+=l,u}}},r.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},r}(),Ko;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(Ko||(Ko={}));var M4=function(r,t){var e=r.createElement("iframe");return e.className="html2canvas-container",e.style.visibility="hidden",e.style.position="fixed",e.style.left="-10000px",e.style.top="0px",e.style.border="0",e.width=t.width.toString(),e.height=t.height.toString(),e.scrolling="no",e.setAttribute(sv,"true"),r.body.appendChild(e),e},P4=function(r){return new Promise(function(t){if(r.complete){t();return}if(!r.src){t();return}r.onload=t,r.onerror=t})},H4=function(r){return Promise.all([].slice.call(r.images,0).map(P4))},N4=function(r){return new Promise(function(t,e){var A=r.contentWindow;if(!A)return e("No window assigned for iframe");var n=A.document;A.onload=r.onload=function(){A.onload=r.onload=null;var i=setInterval(function(){n.body.childNodes.length>0&&n.readyState==="complete"&&(clearInterval(i),t(r))},50)}})},D4=["all","d","content"],lv=function(r,t){for(var e=r.length-1;e>=0;e--){var A=r.item(e);D4.indexOf(A)===-1&&t.style.setProperty(A,r.getPropertyValue(A))}return t},G4=function(r){var t="";return r&&(t+="<!DOCTYPE ",r.name&&(t+=r.name),r.internalSubset&&(t+=r.internalSubset),r.publicId&&(t+='"'+r.publicId+'"'),r.systemId&&(t+='"'+r.systemId+'"'),t+=">"),t},b4=function(r,t,e){r&&r.defaultView&&(t!==r.defaultView.pageXOffset||e!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(t,e)},K4=function(r){var t=r[0],e=r[1],A=r[2];t.scrollLeft=e,t.scrollTop=A},k4=":before",V4=":after",ih="___html2canvas___pseudoelement_before",oh="___html2canvas___pseudoelement_after",fv=`{
    content: "" !important;
    display: none !important;
}`,Y4=function(r){X4(r,"."+ih+k4+fv+`
         .`+oh+V4+fv)},X4=function(r,t){var e=r.ownerDocument;if(e){var A=e.createElement("style");A.textContent=t,r.appendChild(A)}},hv=function(){function r(){}return r.getOrigin=function(t){var e=r._link;return e?(e.href=t,e.href=e.href,e.protocol+e.hostname+e.port):"about:blank"},r.isSameOrigin=function(t){return r.getOrigin(t)===r._origin},r.setContext=function(t){r._link=t.document.createElement("a"),r._origin=r.getOrigin(t.location.href)},r._origin="about:blank",r}(),W4=function(){function r(t,e){this.context=t,this._options=e,this._cache={}}return r.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)||(sh(t)||$4(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),e},r.prototype.match=function(t){return this._cache[t]},r.prototype.loadImage=function(t){return Wt(this,void 0,void 0,function(){var e,A,n,i,o=this;return bt(this,function(a){switch(a.label){case 0:return e=hv.isSameOrigin(t),A=!ah(t)&&this._options.useCORS===!0&&jt.SUPPORT_CORS_IMAGES&&!e,n=!ah(t)&&!e&&!sh(t)&&typeof this._options.proxy=="string"&&jt.SUPPORT_CORS_XHR&&!A,!e&&this._options.allowTaint===!1&&!ah(t)&&!sh(t)&&!n&&!A?[2]:(i=t,n?[4,this.proxy(i)]:[3,2]);case 1:i=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(s,u){var l=new Image;l.onload=function(){return s(l)},l.onerror=u,(J4(i)||A)&&(l.crossOrigin="anonymous"),l.src=i,l.complete===!0&&setTimeout(function(){return s(l)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},r.prototype.has=function(t){return typeof this._cache[t]!="undefined"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(t){var e=this,A=this._options.proxy;if(!A)throw new Error("No proxy defined");var n=t.substring(0,256);return new Promise(function(i,o){var a=jt.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(s.status===200)if(a==="text")i(s.response);else{var f=new FileReader;f.addEventListener("load",function(){return i(f.result)},!1),f.addEventListener("error",function(h){return o(h)},!1),f.readAsDataURL(s.response)}else o("Failed to proxy resource "+n+" with status code "+s.status)},s.onerror=o;var u=A.indexOf("?")>-1?"&":"?";if(s.open("GET",""+A+u+"url="+encodeURIComponent(t)+"&responseType="+a),a!=="text"&&s instanceof XMLHttpRequest&&(s.responseType=a),e._options.imageTimeout){var l=e._options.imageTimeout;s.timeout=l,s.ontimeout=function(){return o("Timed out ("+l+"ms) proxying "+n)}}s.send()})},r}(),j4=/^data:image\/svg\+xml/i,Z4=/^data:image\/.*;base64,/i,z4=/^data:image\/.*/i,$4=function(r){return jt.SUPPORT_SVG_DRAWING||!q4(r)},ah=function(r){return z4.test(r)},J4=function(r){return Z4.test(r)},sh=function(r){return r.substr(0,4)==="blob"},q4=function(r){return r.substr(-3).toLowerCase()==="svg"||j4.test(r)},D=function(){function r(t,e){this.type=0,this.x=t,this.y=e}return r.prototype.add=function(t,e){return new r(this.x+t,this.y+e)},r}(),Bi=function(r,t,e){return new D(r.x+(t.x-r.x)*e,r.y+(t.y-r.y)*e)},bs=function(){function r(t,e,A,n){this.type=1,this.start=t,this.startControl=e,this.endControl=A,this.end=n}return r.prototype.subdivide=function(t,e){var A=Bi(this.start,this.startControl,t),n=Bi(this.startControl,this.endControl,t),i=Bi(this.endControl,this.end,t),o=Bi(A,n,t),a=Bi(n,i,t),s=Bi(o,a,t);return e?new r(this.start,A,o,s):new r(s,a,i,this.end)},r.prototype.add=function(t,e){return new r(this.start.add(t,e),this.startControl.add(t,e),this.endControl.add(t,e),this.end.add(t,e))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r}(),mA=function(r){return r.type===1},eO=function(){function r(t){var e=t.styles,A=t.bounds,n=Lo(e.borderTopLeftRadius,A.width,A.height),i=n[0],o=n[1],a=Lo(e.borderTopRightRadius,A.width,A.height),s=a[0],u=a[1],l=Lo(e.borderBottomRightRadius,A.width,A.height),f=l[0],h=l[1],c=Lo(e.borderBottomLeftRadius,A.width,A.height),d=c[0],p=c[1],B=[];B.push((i+s)/A.width),B.push((d+f)/A.width),B.push((o+p)/A.height),B.push((u+h)/A.height);var g=Math.max.apply(Math,B);g>1&&(i/=g,o/=g,s/=g,u/=g,f/=g,h/=g,d/=g,p/=g);var y=A.width-s,m=A.height-h,_=A.width-f,C=A.height-p,F=e.borderTopWidth,E=e.borderRightWidth,Q=e.borderBottomWidth,w=e.borderLeftWidth,T=ut(e.paddingTop,t.bounds.width),O=ut(e.paddingRight,t.bounds.width),L=ut(e.paddingBottom,t.bounds.width),P=ut(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?ft(A.left+w/3,A.top+F/3,i-w/3,o-F/3,et.TOP_LEFT):new D(A.left+w/3,A.top+F/3),this.topRightBorderDoubleOuterBox=i>0||o>0?ft(A.left+y,A.top+F/3,s-E/3,u-F/3,et.TOP_RIGHT):new D(A.left+A.width-E/3,A.top+F/3),this.bottomRightBorderDoubleOuterBox=f>0||h>0?ft(A.left+_,A.top+m,f-E/3,h-Q/3,et.BOTTOM_RIGHT):new D(A.left+A.width-E/3,A.top+A.height-Q/3),this.bottomLeftBorderDoubleOuterBox=d>0||p>0?ft(A.left+w/3,A.top+C,d-w/3,p-Q/3,et.BOTTOM_LEFT):new D(A.left+w/3,A.top+A.height-Q/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?ft(A.left+w*2/3,A.top+F*2/3,i-w*2/3,o-F*2/3,et.TOP_LEFT):new D(A.left+w*2/3,A.top+F*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?ft(A.left+y,A.top+F*2/3,s-E*2/3,u-F*2/3,et.TOP_RIGHT):new D(A.left+A.width-E*2/3,A.top+F*2/3),this.bottomRightBorderDoubleInnerBox=f>0||h>0?ft(A.left+_,A.top+m,f-E*2/3,h-Q*2/3,et.BOTTOM_RIGHT):new D(A.left+A.width-E*2/3,A.top+A.height-Q*2/3),this.bottomLeftBorderDoubleInnerBox=d>0||p>0?ft(A.left+w*2/3,A.top+C,d-w*2/3,p-Q*2/3,et.BOTTOM_LEFT):new D(A.left+w*2/3,A.top+A.height-Q*2/3),this.topLeftBorderStroke=i>0||o>0?ft(A.left+w/2,A.top+F/2,i-w/2,o-F/2,et.TOP_LEFT):new D(A.left+w/2,A.top+F/2),this.topRightBorderStroke=i>0||o>0?ft(A.left+y,A.top+F/2,s-E/2,u-F/2,et.TOP_RIGHT):new D(A.left+A.width-E/2,A.top+F/2),this.bottomRightBorderStroke=f>0||h>0?ft(A.left+_,A.top+m,f-E/2,h-Q/2,et.BOTTOM_RIGHT):new D(A.left+A.width-E/2,A.top+A.height-Q/2),this.bottomLeftBorderStroke=d>0||p>0?ft(A.left+w/2,A.top+C,d-w/2,p-Q/2,et.BOTTOM_LEFT):new D(A.left+w/2,A.top+A.height-Q/2),this.topLeftBorderBox=i>0||o>0?ft(A.left,A.top,i,o,et.TOP_LEFT):new D(A.left,A.top),this.topRightBorderBox=s>0||u>0?ft(A.left+y,A.top,s,u,et.TOP_RIGHT):new D(A.left+A.width,A.top),this.bottomRightBorderBox=f>0||h>0?ft(A.left+_,A.top+m,f,h,et.BOTTOM_RIGHT):new D(A.left+A.width,A.top+A.height),this.bottomLeftBorderBox=d>0||p>0?ft(A.left,A.top+C,d,p,et.BOTTOM_LEFT):new D(A.left,A.top+A.height),this.topLeftPaddingBox=i>0||o>0?ft(A.left+w,A.top+F,Math.max(0,i-w),Math.max(0,o-F),et.TOP_LEFT):new D(A.left+w,A.top+F),this.topRightPaddingBox=s>0||u>0?ft(A.left+Math.min(y,A.width-E),A.top+F,y>A.width+E?0:Math.max(0,s-E),Math.max(0,u-F),et.TOP_RIGHT):new D(A.left+A.width-E,A.top+F),this.bottomRightPaddingBox=f>0||h>0?ft(A.left+Math.min(_,A.width-w),A.top+Math.min(m,A.height-Q),Math.max(0,f-E),Math.max(0,h-Q),et.BOTTOM_RIGHT):new D(A.left+A.width-E,A.top+A.height-Q),this.bottomLeftPaddingBox=d>0||p>0?ft(A.left+w,A.top+Math.min(C,A.height-Q),Math.max(0,d-w),Math.max(0,p-Q),et.BOTTOM_LEFT):new D(A.left+w,A.top+A.height-Q),this.topLeftContentBox=i>0||o>0?ft(A.left+w+P,A.top+F+T,Math.max(0,i-(w+P)),Math.max(0,o-(F+T)),et.TOP_LEFT):new D(A.left+w+P,A.top+F+T),this.topRightContentBox=s>0||u>0?ft(A.left+Math.min(y,A.width+w+P),A.top+F+T,y>A.width+w+P?0:s-w+P,u-(F+T),et.TOP_RIGHT):new D(A.left+A.width-(E+O),A.top+F+T),this.bottomRightContentBox=f>0||h>0?ft(A.left+Math.min(_,A.width-(w+P)),A.top+Math.min(m,A.height+F+T),Math.max(0,f-(E+O)),h-(Q+L),et.BOTTOM_RIGHT):new D(A.left+A.width-(E+O),A.top+A.height-(Q+L)),this.bottomLeftContentBox=d>0||p>0?ft(A.left+w+P,A.top+C,Math.max(0,d-(w+P)),p-(Q+L),et.BOTTOM_LEFT):new D(A.left+w+P,A.top+A.height-(Q+L))}return r}(),et;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(et||(et={}));var ft=function(r,t,e,A,n){var i=4*((Math.sqrt(2)-1)/3),o=e*i,a=A*i,s=r+e,u=t+A;switch(n){case et.TOP_LEFT:return new bs(new D(r,u),new D(r,u-a),new D(s-o,t),new D(s,t));case et.TOP_RIGHT:return new bs(new D(r,t),new D(r+o,t),new D(s,u-a),new D(s,u));case et.BOTTOM_RIGHT:return new bs(new D(s,t),new D(s,t+a),new D(r+o,u),new D(r,u));case et.BOTTOM_LEFT:default:return new bs(new D(s,u),new D(s-o,u),new D(r,t+a),new D(r,t))}},Ks=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},tO=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},ks=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},AO=function(){function r(t,e,A){this.offsetX=t,this.offsetY=e,this.matrix=A,this.type=0,this.target=2|4}return r}(),Vs=function(){function r(t,e){this.path=t,this.target=e,this.type=1}return r}(),rO=function(){function r(t){this.opacity=t,this.type=2,this.target=2|4}return r}(),nO=function(r){return r.type===0},cv=function(r){return r.type===1},iO=function(r){return r.type===2},dv=function(r,t){return r.length===t.length?r.some(function(e,A){return e===t[A]}):!1},oO=function(r,t,e,A,n){return r.map(function(i,o){switch(o){case 0:return i.add(t,e);case 1:return i.add(t+A,e);case 2:return i.add(t+A,e+n);case 3:return i.add(t,e+n)}return i})},pv=function(){function r(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r}(),gv=function(){function r(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new eO(this.container),this.container.styles.opacity<1&&this.effects.push(new rO(this.container.styles.opacity)),this.container.styles.transform!==null){var A=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new AO(A,n,i))}if(this.container.styles.overflowX!==0){var o=Ks(this.curves),a=ks(this.curves);dv(o,a)?this.effects.push(new Vs(o,2|4)):(this.effects.push(new Vs(o,2)),this.effects.push(new Vs(a,4)))}}return r.prototype.getEffects=function(t){for(var e=[2,3].indexOf(this.container.styles.position)===-1,A=this.parent,n=this.effects.slice(0);A;){var i=A.effects.filter(function(s){return!cv(s)});if(e||A.container.styles.position!==0||!A.parent){if(n.unshift.apply(n,i),e=[2,3].indexOf(A.container.styles.position)===-1,A.container.styles.overflowX!==0){var o=Ks(A.curves),a=ks(A.curves);dv(o,a)||n.unshift(new Vs(a,2|4))}}else n.unshift.apply(n,i);A=A.parent}return n.filter(function(s){return It(s.target,t)})},r}(),uh=function(r,t,e,A){r.container.elements.forEach(function(n){var i=It(n.flags,4),o=It(n.flags,2),a=new gv(n,r);It(n.styles.display,2048)&&A.push(a);var s=It(n.flags,8)?[]:A;if(i||o){var u=i||n.styles.isPositioned()?e:t,l=new pv(a);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var f=n.styles.zIndex.order;if(f<0){var h=0;u.negativeZIndex.some(function(d,p){return f>d.element.container.styles.zIndex.order?(h=p,!1):h>0}),u.negativeZIndex.splice(h,0,l)}else if(f>0){var c=0;u.positiveZIndex.some(function(d,p){return f>=d.element.container.styles.zIndex.order?(c=p+1,!1):c>0}),u.positiveZIndex.splice(c,0,l)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else n.styles.isFloating()?u.nonPositionedFloats.push(l):u.nonPositionedInlineLevel.push(l);uh(a,l,i?l:e,s)}else n.styles.isInlineLevel()?t.inlineLevel.push(a):t.nonInlineLevel.push(a),uh(a,t,e,s);It(n.flags,8)&&vv(n,s)})},vv=function(r,t){for(var e=r instanceof qf?r.start:1,A=r instanceof qf?r.reversed:!1,n=0;n<t.length;n++){var i=t[n];i.container instanceof V0&&typeof i.container.value=="number"&&i.container.value!==0&&(e=i.container.value),i.listValue=bo(e,i.container.styles.listStyleType,!0),e+=A?-1:1}},aO=function(r){var t=new gv(r,null),e=new pv(t),A=[];return uh(t,e,e,A),vv(t.container,A),e},Bv=function(r,t){switch(t){case 0:return CA(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return CA(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return CA(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return CA(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},sO=function(r,t){switch(t){case 0:return CA(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return CA(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return CA(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return CA(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},uO=function(r,t){switch(t){case 0:return CA(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return CA(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return CA(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return CA(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},lO=function(r,t){switch(t){case 0:return Ys(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return Ys(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return Ys(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return Ys(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},Ys=function(r,t){var e=[];return mA(r)?e.push(r.subdivide(.5,!1)):e.push(r),mA(t)?e.push(t.subdivide(.5,!0)):e.push(t),e},CA=function(r,t,e,A){var n=[];return mA(r)?n.push(r.subdivide(.5,!1)):n.push(r),mA(e)?n.push(e.subdivide(.5,!0)):n.push(e),mA(A)?n.push(A.subdivide(.5,!0).reverse()):n.push(A),mA(t)?n.push(t.subdivide(.5,!1).reverse()):n.push(t),n},yv=function(r){var t=r.bounds,e=r.styles;return t.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))},Xs=function(r){var t=r.styles,e=r.bounds,A=ut(t.paddingLeft,e.width),n=ut(t.paddingRight,e.width),i=ut(t.paddingTop,e.width),o=ut(t.paddingBottom,e.width);return e.add(A+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+A+n),-(t.borderTopWidth+t.borderBottomWidth+i+o))},fO=function(r,t){return r===0?t.bounds:r===2?Xs(t):yv(t)},hO=function(r,t){return r===0?t.bounds:r===2?Xs(t):yv(t)},lh=function(r,t,e){var A=fO(_i(r.styles.backgroundOrigin,t),r),n=hO(_i(r.styles.backgroundClip,t),r),i=cO(_i(r.styles.backgroundSize,t),e,A),o=i[0],a=i[1],s=Lo(_i(r.styles.backgroundPosition,t),A.width-o,A.height-a),u=dO(_i(r.styles.backgroundRepeat,t),s,i,A,n),l=Math.round(A.left+s[0]),f=Math.round(A.top+s[1]);return[u,l,f,o,a]},yi=function(r){return rt(r)&&r.value===pi.AUTO},Ws=function(r){return typeof r=="number"},cO=function(r,t,e){var A=t[0],n=t[1],i=t[2],o=r[0],a=r[1];if(!o)return[0,0];if(Ft(o)&&a&&Ft(a))return[ut(o,e.width),ut(a,e.height)];var s=Ws(i);if(rt(o)&&(o.value===pi.CONTAIN||o.value===pi.COVER)){if(Ws(i)){var u=e.width/e.height;return u<i!=(o.value===pi.COVER)?[e.width,e.width/i]:[e.height*i,e.height]}return[e.width,e.height]}var l=Ws(A),f=Ws(n),h=l||f;if(yi(o)&&(!a||yi(a))){if(l&&f)return[A,n];if(!s&&!h)return[e.width,e.height];if(h&&s){var c=l?A:n*i,d=f?n:A/i;return[c,d]}var p=l?A:e.width,B=f?n:e.height;return[p,B]}if(s){var g=0,y=0;return Ft(o)?g=ut(o,e.width):Ft(a)&&(y=ut(a,e.height)),yi(o)?g=y*i:(!a||yi(a))&&(y=g/i),[g,y]}var m=null,_=null;if(Ft(o)?m=ut(o,e.width):a&&Ft(a)&&(_=ut(a,e.height)),m!==null&&(!a||yi(a))&&(_=l&&f?m/A*n:e.height),_!==null&&yi(o)&&(m=l&&f?_/n*A:e.width),m!==null&&_!==null)return[m,_];throw new Error("Unable to calculate background-size for element")},_i=function(r,t){var e=r[t];return typeof e=="undefined"?r[0]:e},dO=function(r,t,e,A,n){var i=t[0],o=t[1],a=e[0],s=e[1];switch(r){case 2:return[new D(Math.round(A.left),Math.round(A.top+o)),new D(Math.round(A.left+A.width),Math.round(A.top+o)),new D(Math.round(A.left+A.width),Math.round(s+A.top+o)),new D(Math.round(A.left),Math.round(s+A.top+o))];case 3:return[new D(Math.round(A.left+i),Math.round(A.top)),new D(Math.round(A.left+i+a),Math.round(A.top)),new D(Math.round(A.left+i+a),Math.round(A.height+A.top)),new D(Math.round(A.left+i),Math.round(A.height+A.top))];case 1:return[new D(Math.round(A.left+i),Math.round(A.top+o)),new D(Math.round(A.left+i+a),Math.round(A.top+o)),new D(Math.round(A.left+i+a),Math.round(A.top+o+s)),new D(Math.round(A.left+i),Math.round(A.top+o+s))];default:return[new D(Math.round(n.left),Math.round(n.top)),new D(Math.round(n.left+n.width),Math.round(n.top)),new D(Math.round(n.left+n.width),Math.round(n.height+n.top)),new D(Math.round(n.left),Math.round(n.height+n.top))]}},pO="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",_v="Hidden Text",gO=function(){function r(t){this._data={},this._document=t}return r.prototype.parseMetrics=function(t,e){var A=this._document.createElement("div"),n=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;A.style.visibility="hidden",A.style.fontFamily=t,A.style.fontSize=e,A.style.margin="0",A.style.padding="0",A.style.whiteSpace="nowrap",o.appendChild(A),n.src=pO,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=e,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(_v)),A.appendChild(i),A.appendChild(n);var a=n.offsetTop-i.offsetTop+2;A.removeChild(i),A.appendChild(this._document.createTextNode(_v)),A.style.lineHeight="normal",n.style.verticalAlign="super";var s=n.offsetTop-A.offsetTop+2;return o.removeChild(A),{baseline:a,middle:s}},r.prototype.getMetrics=function(t,e){var A=t+" "+e;return typeof this._data[A]=="undefined"&&(this._data[A]=this.parseMetrics(t,e)),this._data[A]},r}(),wv=function(){function r(t,e){this.context=t,this.options=e}return r}(),vO=1e4,BO=function(r){MA(t,r);function t(e,A){var n=r.call(this,e,A)||this;return n._activeEffects=[],n.canvas=A.canvas?A.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),A.canvas||(n.canvas.width=Math.floor(A.width*A.scale),n.canvas.height=Math.floor(A.height*A.scale),n.canvas.style.width=A.width+"px",n.canvas.style.height=A.height+"px"),n.fontMetrics=new gO(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-A.x,-A.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+A.width+"x"+A.height+") with scale "+A.scale),n}return t.prototype.applyEffects=function(e){for(var A=this;this._activeEffects.length;)this.popEffect();e.forEach(function(n){return A.applyEffect(n)})},t.prototype.applyEffect=function(e){this.ctx.save(),iO(e)&&(this.ctx.globalAlpha=e.opacity),nO(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),cv(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(e){return Wt(this,void 0,void 0,function(){var A;return bt(this,function(n){switch(n.label){case 0:return A=e.element.container.styles,A.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(e){return Wt(this,void 0,void 0,function(){return bt(this,function(A){switch(A.label){case 0:if(It(e.container.flags,16))debugger;return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return A.sent(),[4,this.renderNodeContent(e)];case 2:A.sent(),A.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(e,A,n){var i=this;if(A===0)this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n);else{var o=H0(e.text);o.reduce(function(a,s){return i.ctx.fillText(s,a,e.bounds.top+n),a+i.ctx.measureText(s).width},e.bounds.left)}},t.prototype.createFontStyle=function(e){var A=e.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),n=e.fontFamily.join(", "),i=Ro(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,A,e.fontWeight,i,n].join(" "),n,i]},t.prototype.renderTextNode=function(e,A){return Wt(this,void 0,void 0,function(){var n,i,o,a,s,u,l,f,h=this;return bt(this,function(c){return n=this.createFontStyle(A),i=n[0],o=n[1],a=n[2],this.ctx.font=i,this.ctx.direction=A.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(o,a),u=s.baseline,l=s.middle,f=A.paintOrder,e.textBounds.forEach(function(d){f.forEach(function(p){switch(p){case 0:h.ctx.fillStyle=Tt(A.color),h.renderTextWithLetterSpacing(d,A.letterSpacing,u);var B=A.textShadow;B.length&&d.text.trim().length&&(B.slice(0).reverse().forEach(function(g){h.ctx.shadowColor=Tt(g.color),h.ctx.shadowOffsetX=g.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=g.offsetY.number*h.options.scale,h.ctx.shadowBlur=g.blur.number,h.renderTextWithLetterSpacing(d,A.letterSpacing,u)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),A.textDecorationLine.length&&(h.ctx.fillStyle=Tt(A.textDecorationColor||A.color),A.textDecorationLine.forEach(function(g){switch(g){case 1:h.ctx.fillRect(d.bounds.left,Math.round(d.bounds.top+u),d.bounds.width,1);break;case 2:h.ctx.fillRect(d.bounds.left,Math.round(d.bounds.top),d.bounds.width,1);break;case 3:h.ctx.fillRect(d.bounds.left,Math.ceil(d.bounds.top+l),d.bounds.width,1);break}}));break;case 1:A.webkitTextStrokeWidth&&d.text.trim().length&&(h.ctx.strokeStyle=Tt(A.webkitTextStrokeColor),h.ctx.lineWidth=A.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(d.text,d.bounds.left,d.bounds.top+u)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(e,A,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var i=Xs(e),o=ks(A);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(e){return Wt(this,void 0,void 0,function(){var A,n,i,o,a,s,u,u,l,f,h,c,d,p,B,g,y,m,_,u,C,d,g;return bt(this,function(F){switch(F.label){case 0:this.applyEffects(e.getEffects(4)),A=e.container,n=e.curves,i=A.styles,o=0,a=A.textNodes,F.label=1;case 1:return o<a.length?(s=a[o],[4,this.renderTextNode(s,i)]):[3,4];case 2:F.sent(),F.label=3;case 3:return o++,[3,1];case 4:if(!(A instanceof b0))return[3,8];F.label=5;case 5:return F.trys.push([5,7,,8]),[4,this.context.cache.match(A.src)];case 6:return u=F.sent(),this.renderReplacedElement(A,n,u),[3,8];case 7:return F.sent(),this.context.logger.error("Error loading image "+A.src),[3,8];case 8:if(A instanceof K0&&this.renderReplacedElement(A,n,A.canvas),!(A instanceof k0))return[3,12];F.label=9;case 9:return F.trys.push([9,11,,12]),[4,this.context.cache.match(A.svg)];case 10:return u=F.sent(),this.renderReplacedElement(A,n,u),[3,12];case 11:return F.sent(),this.context.logger.error("Error loading svg "+A.svg.substring(0,255)),[3,12];case 12:return A instanceof j0&&A.tree?(l=new t(this.context,{scale:this.options.scale,backgroundColor:A.backgroundColor,x:0,y:0,width:A.width,height:A.height}),[4,l.render(A.tree)]):[3,14];case 13:f=F.sent(),A.width&&A.height&&this.ctx.drawImage(f,0,0,A.width,A.height,A.bounds.left,A.bounds.top,A.bounds.width,A.bounds.height),F.label=14;case 14:if(A instanceof eh&&(h=Math.min(A.bounds.width,A.bounds.height),A.type===Ms?A.checked&&(this.ctx.save(),this.path([new D(A.bounds.left+h*.39363,A.bounds.top+h*.79),new D(A.bounds.left+h*.16,A.bounds.top+h*.5549),new D(A.bounds.left+h*.27347,A.bounds.top+h*.44071),new D(A.bounds.left+h*.39694,A.bounds.top+h*.5649),new D(A.bounds.left+h*.72983,A.bounds.top+h*.23),new D(A.bounds.left+h*.84,A.bounds.top+h*.34085),new D(A.bounds.left+h*.39363,A.bounds.top+h*.79)]),this.ctx.fillStyle=Tt(Y0),this.ctx.fill(),this.ctx.restore()):A.type===Ps&&A.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(A.bounds.left+h/2,A.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Tt(Y0),this.ctx.fill(),this.ctx.restore())),yO(A)&&A.value.length){switch(c=this.createFontStyle(i),d=c[0],p=c[1],B=this.fontMetrics.getMetrics(d,p).baseline,this.ctx.font=d,this.ctx.fillStyle=Tt(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=wO(A.styles.textAlign),g=Xs(A),y=0,A.styles.textAlign){case 1:y+=g.width/2;break;case 2:y+=g.width;break}m=g.add(y,0,0,-g.height/2+1),this.ctx.save(),this.path([new D(g.left,g.top),new D(g.left+g.width,g.top),new D(g.left+g.width,g.top+g.height),new D(g.left,g.top+g.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new No(A.value,m),i.letterSpacing,B),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!It(A.styles.display,2048))return[3,20];if(A.styles.listStyleImage===null)return[3,19];if(_=A.styles.listStyleImage,_.type!==0)return[3,18];u=void 0,C=_.url,F.label=15;case 15:return F.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return u=F.sent(),this.ctx.drawImage(u,A.bounds.left-(u.width+10),A.bounds.top),[3,18];case 17:return F.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:e.listValue&&A.styles.listStyleType!==-1&&(d=this.createFontStyle(i)[0],this.ctx.font=d,this.ctx.fillStyle=Tt(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",g=new fr(A.bounds.left,A.bounds.top+ut(A.styles.paddingTop,A.bounds.width),A.bounds.width,w0(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new No(e.listValue,g),i.letterSpacing,w0(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),F.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(e){return Wt(this,void 0,void 0,function(){var A,n,i,o,a,i,s,u,i,l,f,i,h,c,i,d,p,i,B,g,i;return bt(this,function(y){switch(y.label){case 0:if(It(e.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:y.sent(),A=0,n=e.negativeZIndex,y.label=2;case 2:return A<n.length?(i=n[A],[4,this.renderStack(i)]):[3,5];case 3:y.sent(),y.label=4;case 4:return A++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:y.sent(),o=0,a=e.nonInlineLevel,y.label=7;case 7:return o<a.length?(i=a[o],[4,this.renderNode(i)]):[3,10];case 8:y.sent(),y.label=9;case 9:return o++,[3,7];case 10:s=0,u=e.nonPositionedFloats,y.label=11;case 11:return s<u.length?(i=u[s],[4,this.renderStack(i)]):[3,14];case 12:y.sent(),y.label=13;case 13:return s++,[3,11];case 14:l=0,f=e.nonPositionedInlineLevel,y.label=15;case 15:return l<f.length?(i=f[l],[4,this.renderStack(i)]):[3,18];case 16:y.sent(),y.label=17;case 17:return l++,[3,15];case 18:h=0,c=e.inlineLevel,y.label=19;case 19:return h<c.length?(i=c[h],[4,this.renderNode(i)]):[3,22];case 20:y.sent(),y.label=21;case 21:return h++,[3,19];case 22:d=0,p=e.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return d<p.length?(i=p[d],[4,this.renderStack(i)]):[3,26];case 24:y.sent(),y.label=25;case 25:return d++,[3,23];case 26:B=0,g=e.positiveZIndex,y.label=27;case 27:return B<g.length?(i=g[B],[4,this.renderStack(i)]):[3,30];case 28:y.sent(),y.label=29;case 29:return B++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},t.prototype.formatPath=function(e){var A=this;e.forEach(function(n,i){var o=mA(n)?n.start:n;i===0?A.ctx.moveTo(o.x,o.y):A.ctx.lineTo(o.x,o.y),mA(n)&&A.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},t.prototype.renderRepeat=function(e,A,n,i){this.path(e),this.ctx.fillStyle=A,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},t.prototype.resizeImage=function(e,A,n){var i;if(e.width===A&&e.height===n)return e;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,a=o.createElement("canvas");a.width=Math.max(1,A),a.height=Math.max(1,n);var s=a.getContext("2d");return s.drawImage(e,0,0,e.width,e.height,0,0,A,n),a},t.prototype.renderBackgroundImage=function(e){return Wt(this,void 0,void 0,function(){var A,n,i,o,a,s;return bt(this,function(u){switch(u.label){case 0:A=e.styles.backgroundImage.length-1,n=function(l){var f,h,c,d,p,B,g,y,m,_,d,p,B,g,y,C,F,E,Q,w,T,O,L,P,m,Y,d,b,k,g,y,K,p,B,ue,ne,he,We,R,nt,ie,je;return bt(this,function(dt){switch(dt.label){case 0:if(l.type!==0)return[3,5];f=void 0,h=l.url,dt.label=1;case 1:return dt.trys.push([1,3,,4]),[4,i.context.cache.match(h)];case 2:return f=dt.sent(),[3,4];case 3:return dt.sent(),i.context.logger.error("Error loading background-image "+h),[3,4];case 4:return f&&(c=lh(e,A,[f.width,f.height,f.width/f.height]),d=c[0],p=c[1],B=c[2],g=c[3],y=c[4],m=i.ctx.createPattern(i.resizeImage(f,g,y),"repeat"),i.renderRepeat(d,m,p,B)),[3,6];case 5:nx(l)?(_=lh(e,A,[null,null,null]),d=_[0],p=_[1],B=_[2],g=_[3],y=_[4],C=qS(l.angle,g,y),F=C[0],E=C[1],Q=C[2],w=C[3],T=C[4],O=document.createElement("canvas"),O.width=g,O.height=y,L=O.getContext("2d"),P=L.createLinearGradient(E,w,Q,T),l0(l.stops,F).forEach(function(pt){return P.addColorStop(pt.stop,Tt(pt.color))}),L.fillStyle=P,L.fillRect(0,0,g,y),g>0&&y>0&&(m=i.ctx.createPattern(O,"repeat"),i.renderRepeat(d,m,p,B))):ix(l)&&(Y=lh(e,A,[null,null,null]),d=Y[0],b=Y[1],k=Y[2],g=Y[3],y=Y[4],K=l.position.length===0?[Nf]:l.position,p=ut(K[0],g),B=ut(K[K.length-1],y),ue=ex(l,p,B,g,y),ne=ue[0],he=ue[1],ne>0&&he>0&&(We=i.ctx.createRadialGradient(b+p,k+B,0,b+p,k+B,ne),l0(l.stops,ne*2).forEach(function(pt){return We.addColorStop(pt.stop,Tt(pt.color))}),i.path(d),i.ctx.fillStyle=We,ne!==he?(R=e.bounds.left+.5*e.bounds.width,nt=e.bounds.top+.5*e.bounds.height,ie=he/ne,je=1/ie,i.ctx.save(),i.ctx.translate(R,nt),i.ctx.transform(1,0,0,ie,0,0),i.ctx.translate(-R,-nt),i.ctx.fillRect(b,je*(k-nt)+nt,g,y*je),i.ctx.restore()):i.ctx.fill())),dt.label=6;case 6:return A--,[2]}})},i=this,o=0,a=e.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<a.length?(s=a[o],[5,n(s)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(e,A,n){return Wt(this,void 0,void 0,function(){return bt(this,function(i){return this.path(Bv(n,A)),this.ctx.fillStyle=Tt(e),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(e,A,n,i){return Wt(this,void 0,void 0,function(){var o,a;return bt(this,function(s){switch(s.label){case 0:return A<3?[4,this.renderSolidBorder(e,n,i)]:[3,2];case 1:return s.sent(),[2];case 2:return o=sO(i,n),this.path(o),this.ctx.fillStyle=Tt(e),this.ctx.fill(),a=uO(i,n),this.path(a),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(e){return Wt(this,void 0,void 0,function(){var A,n,i,o,a,s,u,l,f=this;return bt(this,function(h){switch(h.label){case 0:return this.applyEffects(e.getEffects(2)),A=e.container.styles,n=!Nr(A.backgroundColor)||A.backgroundImage.length,i=[{style:A.borderTopStyle,color:A.borderTopColor,width:A.borderTopWidth},{style:A.borderRightStyle,color:A.borderRightColor,width:A.borderRightWidth},{style:A.borderBottomStyle,color:A.borderBottomColor,width:A.borderBottomWidth},{style:A.borderLeftStyle,color:A.borderLeftColor,width:A.borderLeftWidth}],o=_O(_i(A.backgroundClip,0),e.curves),n||A.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Nr(A.backgroundColor)||(this.ctx.fillStyle=Tt(A.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),A.boxShadow.slice(0).reverse().forEach(function(c){f.ctx.save();var d=Ks(e.curves),p=c.inset?0:vO,B=oO(d,-p+(c.inset?1:-1)*c.spread.number,(c.inset?1:-1)*c.spread.number,c.spread.number*(c.inset?-2:2),c.spread.number*(c.inset?-2:2));c.inset?(f.path(d),f.ctx.clip(),f.mask(B)):(f.mask(d),f.ctx.clip(),f.path(B)),f.ctx.shadowOffsetX=c.offsetX.number+p,f.ctx.shadowOffsetY=c.offsetY.number,f.ctx.shadowColor=Tt(c.color),f.ctx.shadowBlur=c.blur.number,f.ctx.fillStyle=c.inset?Tt(c.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),h.label=2;case 2:a=0,s=0,u=i,h.label=3;case 3:return s<u.length?(l=u[s],l.style!==0&&!Nr(l.color)&&l.width>0?l.style!==2?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,a,e.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return l.style!==3?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,a,e.curves,3)];case 6:return h.sent(),[3,11];case 7:return l.style!==4?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,a,e.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,a,e.curves)];case 10:h.sent(),h.label=11;case 11:a++,h.label=12;case 12:return s++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(e,A,n,i,o){return Wt(this,void 0,void 0,function(){var a,s,u,l,f,h,c,d,p,B,g,y,m,_,C,F,C,F;return bt(this,function(E){return this.ctx.save(),a=lO(i,n),s=Bv(i,n),o===2&&(this.path(s),this.ctx.clip()),mA(s[0])?(u=s[0].start.x,l=s[0].start.y):(u=s[0].x,l=s[0].y),mA(s[1])?(f=s[1].end.x,h=s[1].end.y):(f=s[1].x,h=s[1].y),n===0||n===2?c=Math.abs(u-f):c=Math.abs(l-h),this.ctx.beginPath(),o===3?this.formatPath(a):this.formatPath(s.slice(0,2)),d=A<3?A*3:A*2,p=A<3?A*2:A,o===3&&(d=A,p=A),B=!0,c<=d*2?B=!1:c<=d*2+p?(g=c/(2*d+p),d*=g,p*=g):(y=Math.floor((c+p)/(d+p)),m=(c-y*d)/(y-1),_=(c-(y+1)*d)/y,p=_<=0||Math.abs(p-m)<Math.abs(p-_)?m:_),B&&(o===3?this.ctx.setLineDash([0,d+p]):this.ctx.setLineDash([d,p])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=A):this.ctx.lineWidth=A*2+1.1,this.ctx.strokeStyle=Tt(e),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(mA(s[0])&&(C=s[3],F=s[0],this.ctx.beginPath(),this.formatPath([new D(C.end.x,C.end.y),new D(F.start.x,F.start.y)]),this.ctx.stroke()),mA(s[1])&&(C=s[1],F=s[2],this.ctx.beginPath(),this.formatPath([new D(C.end.x,C.end.y),new D(F.start.x,F.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(e){return Wt(this,void 0,void 0,function(){var A;return bt(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Tt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),A=aO(e),[4,this.renderStack(A)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(wv),yO=function(r){return r instanceof W0||r instanceof X0?!0:r instanceof eh&&r.type!==Ps&&r.type!==Ms},_O=function(r,t){switch(r){case 0:return Ks(t);case 2:return tO(t);case 1:default:return ks(t)}},wO=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},mO=function(r){MA(t,r);function t(e,A){var n=r.call(this,e,A)||this;return n.canvas=A.canvas?A.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=A,n.canvas.width=Math.floor(A.width*A.scale),n.canvas.height=Math.floor(A.height*A.scale),n.canvas.style.width=A.width+"px",n.canvas.style.height=A.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-A.x,-A.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+A.width+"x"+A.height+" at "+A.x+","+A.y+") with scale "+A.scale),n}return t.prototype.render=function(e){return Wt(this,void 0,void 0,function(){var A,n;return bt(this,function(i){switch(i.label){case 0:return A=Jf(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,CO(A)];case 1:return n=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Tt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(wv),CO=function(r){return new Promise(function(t,e){var A=new Image;A.onload=function(){t(A)},A.onerror=e,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},EO=function(){function r(t){var e=t.id,A=t.enabled;this.id=e,this.enabled=A,this.start=Date.now()}return r.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,rs([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&typeof window!="undefined"&&window.console&&typeof console.info=="function"&&console.info.apply(console,rs([this.id,this.getTime()+"ms"],t))},r.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,rs([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},r.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.error=="function"?console.error.apply(console,rs([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},r.instances={},r}(),FO=function(){function r(t,e){var A;this.windowBounds=e,this.instanceName="#"+r.instanceCount++,this.logger=new EO({id:this.instanceName,enabled:t.logging}),this.cache=(A=t.cache)!==null&&A!==void 0?A:new W4(this,t)}return r.instanceCount=1,r}(),QO=function(r,t){return t===void 0&&(t={}),IO(r,t)};typeof window!="undefined"&&hv.setContext(window);var IO=function(r,t){return Wt(void 0,void 0,void 0,function(){var e,A,n,i,o,a,s,u,l,f,h,c,d,p,B,g,y,m,_,C,F,E,F,Q,w,T,O,L,P,Y,b,k,K,ue,ne,he,We,R,nt,ie;return bt(this,function(je){switch(je.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(e=r.ownerDocument,!e)throw new Error("Element is not attached to a Document");if(A=e.defaultView,!A)throw new Error("Document is not attached to a Window");return n={allowTaint:(Q=t.allowTaint)!==null&&Q!==void 0?Q:!1,imageTimeout:(w=t.imageTimeout)!==null&&w!==void 0?w:15e3,proxy:t.proxy,useCORS:(T=t.useCORS)!==null&&T!==void 0?T:!1},i=vf({logging:(O=t.logging)!==null&&O!==void 0?O:!0,cache:t.cache},n),o={windowWidth:(L=t.windowWidth)!==null&&L!==void 0?L:A.innerWidth,windowHeight:(P=t.windowHeight)!==null&&P!==void 0?P:A.innerHeight,scrollX:(Y=t.scrollX)!==null&&Y!==void 0?Y:A.pageXOffset,scrollY:(b=t.scrollY)!==null&&b!==void 0?b:A.pageYOffset},a=new fr(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),s=new FO(i,a),u=(k=t.foreignObjectRendering)!==null&&k!==void 0?k:!1,l={allowTaint:(K=t.allowTaint)!==null&&K!==void 0?K:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},s.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),f=new uv(s,r,l),h=f.clonedReferenceElement,h?[4,f.toIFrame(e,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return c=je.sent(),d=Ah(h)||S4(h)?s2(h.ownerDocument):ns(s,h),p=d.width,B=d.height,g=d.left,y=d.top,m=UO(s,h,t.backgroundColor),_={canvas:t.canvas,backgroundColor:m,scale:(ne=(ue=t.scale)!==null&&ue!==void 0?ue:A.devicePixelRatio)!==null&&ne!==void 0?ne:1,x:((he=t.x)!==null&&he!==void 0?he:0)+g,y:((We=t.y)!==null&&We!==void 0?We:0)+y,width:(R=t.width)!==null&&R!==void 0?R:Math.ceil(p),height:(nt=t.height)!==null&&nt!==void 0?nt:Math.ceil(B)},u?(s.logger.debug("Document cloned, using foreign object rendering"),F=new mO(s,_),[4,F.render(h)]):[3,3];case 2:return C=je.sent(),[3,5];case 3:return s.logger.debug("Document cloned, element located at "+g+","+y+" with size "+p+"x"+B+" using computed rendering"),s.logger.debug("Starting DOM parsing"),E=z0(s,h),m===E.styles.backgroundColor&&(E.styles.backgroundColor=cr.TRANSPARENT),s.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),F=new BO(s,_),[4,F.render(E)];case 4:C=je.sent(),je.label=5;case 5:return((ie=t.removeContainer)!==null&&ie!==void 0?ie:!0)&&(uv.destroy(c)||s.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),s.logger.debug("Finished rendering"),[2,C]}})})},UO=function(r,t,e){var A=t.ownerDocument,n=A.documentElement?Mo(r,getComputedStyle(A.documentElement).backgroundColor):cr.TRANSPARENT,i=A.body?Mo(r,getComputedStyle(A.body).backgroundColor):cr.TRANSPARENT,o=typeof e=="string"?Mo(r,e):e===null?cr.TRANSPARENT:4294967295;return t===A.documentElement?Nr(n)?Nr(i)?o:i:n:o};const SO=Yr({name:"PreviewModel",setup(){const r=_r({styleDiv:{width:"560px",height:"550px","text-align":"center"},imgStr:"",dialogVisible:!1,dialogTitle:"",loadingInstance:"",picName:"",width:"560",height:"500"}),t=_r({filterData:e=>{r.imgStr=e.dataUrl,r.picName=e.picName,r.dialogVisible=!r.dialogVisible,r.dialogTitle="\u5BFC\u51FA\u9884\u89C8"},publicProduct:()=>{const e=document.getElementById("drawFallingDiv");QO(e).then(function(A){const n=A.toDataURL("image/png",1);r.dialogVisible=!1,t.downloadImage(r.picName,n)})},downloadImage:(e,A)=>{if(window.navigator.msSaveOrOpenBlob){const n=atob(A.split(",")[1]),i=A.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(n.length),a=new Uint8Array(o);for(let u=0;u<n.length;u++)a[u]=n.charCodeAt(u);const s=new Blob([o],{type:i});window.navigator.msSaveOrOpenBlob(s,e)}else{const n=document.createElement("a");n.setAttribute("href",A),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},handleClose:e=>{e()}});return qt(qt({},wr(r)),wr(t))}}),xO=["src","width","height"],TO={class:"dialog-footer"},OO=ce("\u53D6 \u6D88"),RO=ce("\u4E0B \u8F7D");function LO(r,t,e,A,n,i){const o=q("el-button"),a=q("el-dialog");return Je(),gt("div",null,[I(a,{title:r.dialogTitle,"before-close":r.handleClose,top:"5vh",modelValue:r.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=s=>r.dialogVisible=s),modal:!1,width:"32%","append-to-body":""},{footer:S(()=>[ee("span",TO,[I(o,{icon:"el-icon-time",onClick:t[0]||(t[0]=s=>r.dialogVisible=!1)},{default:S(()=>[OO]),_:1}),I(o,{type:"primary",icon:"el-icon-time",onClick:r.publicProduct},{default:S(()=>[RO]),_:1},8,["onClick"])])]),default:S(()=>[ee("div",{style:fu(r.styleDiv),id:"drawFallingDiv"},[ee("img",{src:r.imgStr,width:r.width,height:r.height},null,8,xO)],4)]),_:1},8,["title","before-close","modelValue"])])}var MO=yr(SO,[["render",LO],["__scopeId","data-v-bb57f12e"]]);const PO=Yr({name:"MapToolbar",components:{PreviewModel:MO},props:_r({basemaoControl:{type:String,default:"\u5E95\u56FE\u63A7\u5236"},conControl:{type:String,default:"\u63A7\u4EF6\u63A7\u5236"},measureTool:{type:String,default:"\u91CF\u6D4B\u5DE5\u5177"},drawTool:{type:String,default:"\u7ED8\u5236\u5DE5\u5177"},revoke:{type:String,default:"\u64A4\u9500"},print:{type:String,default:"\u6253\u5370"},clear:{type:String,default:"\u6E05\u9664"}}),setup(r,{emit:t}){let e=oe(null),A=oe(null);const n=_r({hideOnClick:oe(!1),radio1:oe("arcgismap"),checked1:oe(!0),checked2:oe(!0),checked3:oe(!0)}),i=_r({changeCheck:(a,s)=>{e.changeControl(a,s)},changeRadio:a=>{e.changeBaseMap(a)},measure:a=>{e.measureTool(a)},clearMap:()=>{e.clearMap()},drawHander:a=>{e.drawTool(a)},clearLastDraw:()=>{e.clearLastDraw()}});async function o(){const{dataUrl:a}=await e.printMap(),s={dataUrl:a,picName:"\u6253\u5370"};A.value.filterData(s)}return Jo(()=>{e=$i(),console.log("map2",$i());const a=pa();console.log("mousePositionDom",a.mousePositionDom)}),Ri(qt(Ri(qt(qt({},wr(r)),wr(n)),{basemapArr:o2,controlArr:a2}),wr(i)),{previewRef:A,printMap:o})}}),HO={class:"map_toolbar_container"},NO={class:"el-dropdown-link"},DO={class:"el-dropdown-link"},GO=ce("\u5168\u5C4F"),bO=ce("\u6BD4\u4F8B\u5C3A"),KO=ce("\u9F20\u6807\u4F4D\u7F6E"),kO={class:"el-dropdown-link"},VO=ce("\u6D4B\u8DDD"),YO=ce("\u6D4B\u9762"),XO={class:"el-dropdown-link"},WO=ce("\u7ED8\u5236\u70B9"),jO=ce("\u7ED8\u5236\u7EBF"),ZO=ce("\u7ED8\u5236\u9762"),zO=ce("\u7ED8\u5236\u5706"),$O=ce("\u7ED8\u5236\u77E9\u5F62"),JO=ce("\u624B\u7ED8");function qO(r,t,e,A,n,i){const o=q("el-divider"),a=q("el-radio"),s=q("el-dropdown-item"),u=q("el-radio-group"),l=q("el-dropdown-menu"),f=q("el-dropdown"),h=q("el-checkbox"),c=q("el-button"),d=q("PreviewModel");return Je(),gt(QA,null,[ee("div",HO,[I(f,{size:"mini","hide-on-click":r.hideOnClick},{dropdown:S(()=>[I(l,null,{default:S(()=>[I(u,{modelValue:r.radio1,"onUpdate:modelValue":t[0]||(t[0]=p=>r.radio1=p),onChange:r.changeRadio},{default:S(()=>[(Je(!0),gt(QA,null,HA(r.basemapArr,p=>(Je(),gt("span",{key:p.value},[I(s,null,{default:S(()=>[I(a,{size:"mini",label:p.value},{default:S(()=>[ce(vt(p.name),1)]),_:2},1032,["label"])]),_:2},1024)]))),128))]),_:1},8,["modelValue","onChange"])]),_:1})]),default:S(()=>[ee("span",NO,[ce(vt(r.basemaoControl)+" ",1),I(o,{direction:"vertical"})])]),_:1},8,["hide-on-click"]),I(f,{size:"mini","hide-on-click":r.hideOnClick},{dropdown:S(()=>[I(l,null,{default:S(()=>[I(s,null,{default:S(()=>[I(h,{modelValue:r.checked1,"onUpdate:modelValue":t[1]||(t[1]=p=>r.checked1=p),size:"mini",label:"fullscreen",onChange:t[2]||(t[2]=p=>r.changeCheck("fullscreen",r.checked1))},{default:S(()=>[GO]),_:1},8,["modelValue"])]),_:1}),I(s,null,{default:S(()=>[I(h,{modelValue:r.checked2,"onUpdate:modelValue":t[3]||(t[3]=p=>r.checked2=p),size:"mini",label:"scaleline",onChange:t[4]||(t[4]=p=>r.changeCheck("scaleline",r.checked2))},{default:S(()=>[bO]),_:1},8,["modelValue"])]),_:1}),I(s,null,{default:S(()=>[I(h,{modelValue:r.checked3,"onUpdate:modelValue":t[5]||(t[5]=p=>r.checked3=p),size:"mini",label:"mousePosition",onChange:t[6]||(t[6]=p=>r.changeCheck("mousePosition",r.checked3))},{default:S(()=>[KO]),_:1},8,["modelValue"])]),_:1})]),_:1})]),default:S(()=>[ee("span",DO,[ce(vt(r.conControl)+" ",1),I(o,{direction:"vertical"})])]),_:1},8,["hide-on-click"]),I(f,{size:"mini","hide-on-click":r.hideOnClick},{dropdown:S(()=>[I(l,null,{default:S(()=>[I(s,null,{default:S(()=>[I(c,{size:"mini",onClick:t[7]||(t[7]=p=>r.measure("LineString"))},{default:S(()=>[VO]),_:1})]),_:1}),I(s,null,{default:S(()=>[I(c,{size:"mini",onClick:t[8]||(t[8]=p=>r.measure("Polygon"))},{default:S(()=>[YO]),_:1})]),_:1})]),_:1})]),default:S(()=>[ee("span",kO,[ce(vt(r.measureTool)+" ",1),I(o,{direction:"vertical"})])]),_:1},8,["hide-on-click"]),I(f,{size:"mini","hide-on-click":r.hideOnClick},{dropdown:S(()=>[I(l,null,{default:S(()=>[I(s,null,{default:S(()=>[I(c,{size:"mini",onClick:t[9]||(t[9]=p=>r.drawHander("Point"))},{default:S(()=>[WO]),_:1})]),_:1}),I(s,null,{default:S(()=>[I(c,{size:"mini",onClick:t[10]||(t[10]=p=>r.drawHander("LineString"))},{default:S(()=>[jO]),_:1})]),_:1}),I(s,null,{default:S(()=>[I(c,{size:"mini",onClick:t[11]||(t[11]=p=>r.drawHander("Polygon"))},{default:S(()=>[ZO]),_:1})]),_:1}),I(s,null,{default:S(()=>[I(c,{size:"mini",onClick:t[12]||(t[12]=p=>r.drawHander("Circle"))},{default:S(()=>[zO]),_:1})]),_:1}),I(s,null,{default:S(()=>[I(c,{size:"mini",onClick:t[13]||(t[13]=p=>r.drawHander("Squre"))},{default:S(()=>[$O]),_:1})]),_:1}),I(s,null,{default:S(()=>[I(c,{size:"mini",onClick:t[14]||(t[14]=p=>r.drawHander("Hand"))},{default:S(()=>[JO]),_:1})]),_:1})]),_:1})]),default:S(()=>[ee("span",XO,[ce(vt(r.drawTool)+" ",1),I(o,{direction:"vertical"})])]),_:1},8,["hide-on-click"]),I(f,{size:"mini","hide-on-click":r.hideOnClick,disabled:""},{default:S(()=>[I(c,{size:"mini",onClick:r.clearLastDraw},{default:S(()=>[ce(vt(r.revoke),1)]),_:1},8,["onClick"]),I(o,{direction:"vertical"})]),_:1},8,["hide-on-click"]),I(f,{size:"mini","hide-on-click":r.hideOnClick,disabled:""},{default:S(()=>[I(c,{size:"mini",onClick:r.printMap},{default:S(()=>[ce(vt(r.print),1)]),_:1},8,["onClick"]),I(o,{direction:"vertical"})]),_:1},8,["hide-on-click"]),I(f,{size:"mini","hide-on-click":r.hideOnClick,disabled:""},{default:S(()=>[I(c,{size:"mini",onClick:r.clearMap},{default:S(()=>[ce(vt(r.clear),1)]),_:1},8,["onClick"])]),_:1},8,["hide-on-click"])]),I(d,{ref:"previewRef"},null,512)],64)}var eR=yr(PO,[["render",qO],["__scopeId","data-v-22de2d4b"]]);const tR=Yr({name:"layerGroup",mixins:[kh.olMixin],props:{name:{type:String,default:"\u56FE\u5C42\u7EC4"}},mounted(){t1(()=>{})},setup(r){Nh();let t=oe(null);console.log("map",$i());let e=oe(null),A=oe(null);const n=ze("EPSG:4326"),i=n.getExtent(),o=[.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953125,858306884765625e-19,4291534423828125e-20,21457672119140625e-21,10728836059570312e-21,5364418029785156e-21,2682209014892578e-21,1341104507446289e-21,6705522537231445e-22,33527612686157227e-23,1676380634e-16,838190317e-16,419095159e-16],a=["0.143984375","0.0719921875","0.03599609375","0.017998046875","0.0089990234375","0.00449951171875","0.002249755859375","0.0011248779296875","0.0005624389648437","0.0002812194824219","0.0001406097412109","0.0000703048706055","0.0000351524353027"],s=["EPSG:4326:0","EPSG:4326:1","EPSG:4326:2","EPSG:4326:3","EPSG:4326:4","EPSG:4326:5","EPSG:4326:6","EPSG:4326:7","EPSG:4326:8","EPSG:4326:9"],u=["EPSG:4490:0","EPSG:4490:1","EPSG:4490:2","EPSG:4490:3","EPSG:4490:4","EPSG:4490:5","EPSG:4490:6","EPSG:4490:7","EPSG:4490:8","EPSG:4490:9"],l=oe(!0),f=oe(!0),h=oe(!0),c=oe(!1),d=oe(!1),p=oe(!0),B=oe(1),g=oe(.7),y=oe(1),m=oe(.7),_=oe(1),C=oe(1);let F=oe(null),E=oe(null),Q=oe(null),w=oe(null),T=oe(null),O=oe(null);const L=_r({x:106.26667,y:37.06667}),P=()=>{pt()},Y=oe(2500),b=tt=>tt/100,k=(tt,Vt)=>{switch(Vt){case 1:F.setOpacity(tt);break;case 2:E.setOpacity(tt);break;case 3:Q.setOpacity(tt);break;case 4:w.setOpacity(tt);break;case 5:T.setOpacity(tt);break;case 6:O.setOpacity(tt);break}},K=()=>{Dh(t)&&(t=$i(),t.addLayer(e),pr())},ue=()=>{e&&!Dh(t)&&(t.removeLayer(e),t=oe(null))};let ne=new bd({source:new eU({ratio:1,url:"http://localhost:8086/geoserver/test/wms",params:{FORMAT:"image/png",VERSION:"1.1.1",tiled:!0,LAYERS:"test:ningxia_country",exceptions:"application/vnd.ogc.se_inimage"}})}),he=new ni({opacity:.7,source:new jp({url:"http://localhost:8086/geoserver/gwc/service/wmts",layer:"test:coupl",format:"image/png",matrixSet:"EPSG:4326",projection:n,tileGrid:new Wp({origin:bA(i),resolutions:o,matrixIds:s,extent:[104.15,35.1,107.8,39.5]}),style:"",wrapX:!0})}),We=new ni({opacity:.7,visible:!1,source:new jp({url:"http://localhost:8086/geoserver/gwc/service/wmts",layer:"test:coupl",format:"image/png",matrixSet:"EPSG:4490",projection:ze("EPSG:4490"),tileGrid:new Wp({origin:[104.15,39.5],resolutions:a,matrixIds:u,extent:[104.15,35.1,107.8,39.5]}),style:"",wrapX:!0})});const R="http://localhost:8086/geoserver/test/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=test:test_sql&outputFormat=application/json&viewparams=gid:6&cql_filter=gid<=6",nt=new dn({format:new Il,url:function(tt){return R},strategy:EC}),ie=new hn({source:nt,style:new ht({stroke:new zt({color:"rgba(0, 0, 255, 1.0)",width:2})})}),je=new dn,dt=new hn({source:je,style:new ht({stroke:new zt({color:"rgba(0, 0, 255, 1.0)",width:2})})}),pt=()=>{const tt=new ZU().writeGetFeature({srsName:"EPSG:4326",featureNS:"http://test",featurePrefix:"test",featureTypes:["query_intersects"],outputFormat:"application/json",viewParams:"x:"+L.x+";y:"+L.y+";radiu:"+Y.value});fetch("http://localhost:8086/geoserver/test/ows?service=WFS",{method:"POST",body:new XMLSerializer().serializeToString(tt)}).then(function(Vt){return Vt.json()}).then(function(Vt){A=new Il().readFeatures(Vt),je.clear(),je.addFeatures(A)})};pt();const Pt="http://localhost:8086/geoserver/gwc/service/wmts?layer=test%3Acoupl&style=&tilematrixset=EPSG%3A4326&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&";var kt=new ni({visible:!1,source:new Af({projection:n,maxZoom:24,minZoom:0,tileGrid:new Da({origin:bA(i),resolutions:o,extent:[104.15,35.1,107.8,39.5],tileSize:[256,256]}),tileUrlFunction:function(tt,Vt,Qn){if(!tt)return"";var Ot=tt[0],Yt=tt[1],In=tt[2];return Pt+"TileMatrix=EPSG%3A4326%3A"+Ot+"&TileCol="+Yt+"&TileRow="+In}})});e=new lo({layers:[ne,he,ie,We,kt,dt]});const pr=()=>{t.getLayerGroup().getLayers().forEach(function(Vt,Qn){Vt instanceof lo&&Vt.getLayers().forEach(function(Ot,Yt){Yt===0?F=Ot:Yt===1?E=Ot:Yt===2?Q=Ot:Yt===3?w=Ot:Yt===4?T=Ot:Yt===5&&(O=Ot)})})};return A1([l,f,h,c,d,p],(tt,Vt)=>{F.setVisible(l.value),E.setVisible(f.value),Q.setVisible(h.value),w.setVisible(c.value),T.setVisible(d.value),O.setVisible(p.value)}),Ri(qt({name:r.name,checked1:l,checked2:f,checked3:h,checked4:c,checked5:d,checked6:p,label:"\u663E\u9690",opacity:"\u900F\u660E\u5EA6",value1:B,value2:g,value3:y,value4:m,value5:_,value6:C,formatTooltip:b,inputVal:k,addData:K,clearData:ue},wr(L)),{radiu:Y,onSubmit:P})}}),AR={class:"layerGroup"},rR={class:"card-header"},nR=ce("\u52A0\u8F7D\u6570\u636E"),iR=ce("\u6E05\u9664\u6570\u636E"),oR=ce("Query");function aR(r,t,e,A,n,i){const o=q("el-button"),a=q("el-checkbox"),s=q("el-slider"),u=q("el-collapse-item"),l=q("el-input"),f=q("el-form-item"),h=q("el-form"),c=q("el-collapse"),d=q("el-scrollbar"),p=q("el-card"),B=q("el-container");return Je(),gt("div",AR,[I(B,null,{default:S(()=>[I(p,{class:"box-card",shadow:"never","body-style":{padding:"10px"}},{header:S(()=>[ee("div",rR,[ee("span",null,vt(r.name),1),I(o,{class:"button",type:"text",onClick:r.addData},{default:S(()=>[nR]),_:1},8,["onClick"]),I(o,{class:"button",type:"text",onClick:r.clearData},{default:S(()=>[iR]),_:1},8,["onClick"])])]),default:S(()=>[I(d,{height:"300px"},{default:S(()=>[ee("div",null,[I(c,null,{default:S(()=>[I(u,{title:"ningxia_country",name:"1"},{default:S(()=>[ee("div",null,[I(a,{modelValue:r.checked1,"onUpdate:modelValue":t[0]||(t[0]=g=>r.checked1=g),label:r.label,size:"small"},null,8,["modelValue","label"]),ee("div",null,[ee("span",null,vt(r.opacity),1),I(s,{class:"slider_opacity",modelValue:r.value1,"onUpdate:modelValue":t[1]||(t[1]=g=>r.value1=g),min:0,max:1,step:.01,"input-size":"mini",onInput:t[2]||(t[2]=g=>r.inputVal(r.value1,1))},null,8,["modelValue","step"])])])]),_:1}),I(u,{title:"coupl4326",name:"2"},{default:S(()=>[ee("div",null,[I(a,{modelValue:r.checked2,"onUpdate:modelValue":t[3]||(t[3]=g=>r.checked2=g),label:r.label,size:"small"},null,8,["modelValue","label"]),ee("div",null,[ee("span",null,vt(r.opacity),1),I(s,{class:"slider_opacity",modelValue:r.value2,"onUpdate:modelValue":t[4]||(t[4]=g=>r.value2=g),min:0,max:1,step:.01,"input-size":"mini",onInput:t[5]||(t[5]=g=>r.inputVal(r.value2,2))},null,8,["modelValue","step"])])])]),_:1}),I(u,{title:"coupl4490",name:"4"},{default:S(()=>[ee("div",null,[I(a,{modelValue:r.checked4,"onUpdate:modelValue":t[6]||(t[6]=g=>r.checked4=g),label:r.label,size:"small"},null,8,["modelValue","label"]),ee("div",null,[ee("span",null,vt(r.opacity),1),I(s,{class:"slider_opacity",modelValue:r.value4,"onUpdate:modelValue":t[7]||(t[7]=g=>r.value4=g),min:0,max:1,step:.01,"input-size":"mini",onInput:t[8]||(t[8]=g=>r.inputVal(r.value4,4))},null,8,["modelValue","step"])])])]),_:1}),I(u,{title:"test_sql",name:"3"},{default:S(()=>[ee("div",null,[I(a,{modelValue:r.checked3,"onUpdate:modelValue":t[9]||(t[9]=g=>r.checked3=g),label:r.label,size:"small"},null,8,["modelValue","label"]),ee("div",null,[ee("span",null,vt(r.opacity),1),I(s,{class:"slider_opacity",modelValue:r.value3,"onUpdate:modelValue":t[10]||(t[10]=g=>r.value3=g),min:0,max:1,step:.01,"input-size":"mini",onInput:t[11]||(t[11]=g=>r.inputVal(r.value3,3))},null,8,["modelValue","step"])])])]),_:1}),I(u,{title:"xyzLayer",name:"5"},{default:S(()=>[ee("div",null,[I(a,{modelValue:r.checked5,"onUpdate:modelValue":t[12]||(t[12]=g=>r.checked5=g),label:r.label,size:"small"},null,8,["modelValue","label"]),ee("div",null,[ee("span",null,vt(r.opacity),1),I(s,{class:"slider_opacity",modelValue:r.value5,"onUpdate:modelValue":t[13]||(t[13]=g=>r.value5=g),min:0,max:1,step:.01,"input-size":"mini",onInput:t[14]||(t[14]=g=>r.inputVal(r.value5,5))},null,8,["modelValue","step"])])])]),_:1}),I(u,{title:"query_intersects",name:"6"},{default:S(()=>[ee("div",null,[I(a,{modelValue:r.checked6,"onUpdate:modelValue":t[15]||(t[15]=g=>r.checked6=g),label:r.label,size:"small"},null,8,["modelValue","label"]),ee("div",null,[ee("span",null,vt(r.opacity),1),I(s,{class:"slider_opacity",modelValue:r.value6,"onUpdate:modelValue":t[16]||(t[16]=g=>r.value6=g),min:0,max:1,step:.01,"input-size":"mini",onInput:t[17]||(t[17]=g=>r.inputVal(r.value6,6))},null,8,["modelValue","step"])])]),I(h,{inline:!0,class:"demo-form-inline"},{default:S(()=>[I(f,{label:"x:"},{default:S(()=>[I(l,{modelValue:r.x,"onUpdate:modelValue":t[18]||(t[18]=g=>r.x=g),placeholder:"\u8BF7\u8F93\u5165\u7ECF\u5EA6"},null,8,["modelValue"])]),_:1}),I(f,{label:"y:"},{default:S(()=>[I(l,{modelValue:r.y,"onUpdate:modelValue":t[19]||(t[19]=g=>r.y=g),placeholder:"\u8BF7\u8F93\u5165\u7EAC\u5EA6"},null,8,["modelValue"])]),_:1}),I(f,{label:"radiu:"},{default:S(()=>[I(l,{modelValue:r.radiu,"onUpdate:modelValue":t[20]||(t[20]=g=>r.radiu=g),placeholder:"\u8BF7\u8F93\u5165\u534A\u5F84"},null,8,["modelValue"])]),_:1}),I(f,null,{default:S(()=>[I(o,{type:"primary",onClick:r.onSubmit},{default:S(()=>[oR]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})])}var sR=yr(tR,[["render",aR],["__scopeId","data-v-10d84c60"]]),fh={exports:{}},mv=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}},uR=mv,Fn=Object.prototype.toString;function hh(r){return Fn.call(r)==="[object Array]"}function ch(r){return typeof r=="undefined"}function lR(r){return r!==null&&!ch(r)&&r.constructor!==null&&!ch(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function fR(r){return Fn.call(r)==="[object ArrayBuffer]"}function hR(r){return typeof FormData!="undefined"&&r instanceof FormData}function cR(r){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(r):t=r&&r.buffer&&r.buffer instanceof ArrayBuffer,t}function dR(r){return typeof r=="string"}function pR(r){return typeof r=="number"}function Cv(r){return r!==null&&typeof r=="object"}function js(r){if(Fn.call(r)!=="[object Object]")return!1;var t=Object.getPrototypeOf(r);return t===null||t===Object.prototype}function gR(r){return Fn.call(r)==="[object Date]"}function vR(r){return Fn.call(r)==="[object File]"}function BR(r){return Fn.call(r)==="[object Blob]"}function Ev(r){return Fn.call(r)==="[object Function]"}function yR(r){return Cv(r)&&Ev(r.pipe)}function _R(r){return typeof URLSearchParams!="undefined"&&r instanceof URLSearchParams}function wR(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function mR(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function dh(r,t){if(!(r===null||typeof r=="undefined"))if(typeof r!="object"&&(r=[r]),hh(r))for(var e=0,A=r.length;e<A;e++)t.call(null,r[e],e,r);else for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.call(null,r[n],n,r)}function ph(){var r={};function t(n,i){js(r[i])&&js(n)?r[i]=ph(r[i],n):js(n)?r[i]=ph({},n):hh(n)?r[i]=n.slice():r[i]=n}for(var e=0,A=arguments.length;e<A;e++)dh(arguments[e],t);return r}function CR(r,t,e){return dh(t,function(n,i){e&&typeof n=="function"?r[i]=uR(n,e):r[i]=n}),r}function ER(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}var oA={isArray:hh,isArrayBuffer:fR,isBuffer:lR,isFormData:hR,isArrayBufferView:cR,isString:dR,isNumber:pR,isObject:Cv,isPlainObject:js,isUndefined:ch,isDate:gR,isFile:vR,isBlob:BR,isFunction:Ev,isStream:yR,isURLSearchParams:_R,isStandardBrowserEnv:mR,forEach:dh,merge:ph,extend:CR,trim:wR,stripBOM:ER},wi=oA;function Fv(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Qv=function(t,e,A){if(!e)return t;var n;if(A)n=A(e);else if(wi.isURLSearchParams(e))n=e.toString();else{var i=[];wi.forEach(e,function(s,u){s===null||typeof s=="undefined"||(wi.isArray(s)?u=u+"[]":s=[s],wi.forEach(s,function(f){wi.isDate(f)?f=f.toISOString():wi.isObject(f)&&(f=JSON.stringify(f)),i.push(Fv(u)+"="+Fv(f))}))}),n=i.join("&")}if(n){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+n}return t},FR=oA;function Zs(){this.handlers=[]}Zs.prototype.use=function(t,e,A){return this.handlers.push({fulfilled:t,rejected:e,synchronous:A?A.synchronous:!1,runWhen:A?A.runWhen:null}),this.handlers.length-1};Zs.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Zs.prototype.forEach=function(t){FR.forEach(this.handlers,function(A){A!==null&&t(A)})};var QR=Zs,IR=oA,UR=function(t,e){IR.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})},Iv=function(t,e,A,n,i){return t.config=e,A&&(t.code=A),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},SR=Iv,Uv=function(t,e,A,n,i){var o=new Error(t);return SR(o,e,A,n,i)},xR=Uv,TR=function(t,e,A){var n=A.config.validateStatus;!A.status||!n||n(A.status)?t(A):e(xR("Request failed with status code "+A.status,A.config,null,A.request,A))},zs=oA,OR=zs.isStandardBrowserEnv()?function(){return{write:function(e,A,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(A)),zs.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),zs.isString(i)&&s.push("path="+i),zs.isString(o)&&s.push("domain="+o),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var A=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return A?decodeURIComponent(A[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),RR=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},LR=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t},MR=RR,PR=LR,HR=function(t,e){return t&&!MR(e)?PR(t,e):e},gh=oA,NR=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],DR=function(t){var e={},A,n,i;return t&&gh.forEach(t.split(`
`),function(a){if(i=a.indexOf(":"),A=gh.trim(a.substr(0,i)).toLowerCase(),n=gh.trim(a.substr(i+1)),A){if(e[A]&&NR.indexOf(A)>=0)return;A==="set-cookie"?e[A]=(e[A]?e[A]:[]).concat([n]):e[A]=e[A]?e[A]+", "+n:n}}),e},Sv=oA,GR=Sv.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a"),A;function n(i){var o=i;return t&&(e.setAttribute("href",o),o=e.href),e.setAttribute("href",o),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return A=n(window.location.href),function(o){var a=Sv.isString(o)?n(o):o;return a.protocol===A.protocol&&a.host===A.host}}():function(){return function(){return!0}}();function vh(r){this.message=r}vh.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};vh.prototype.__CANCEL__=!0;var $s=vh,Js=oA,bR=TR,KR=OR,kR=Qv,VR=HR,YR=DR,XR=GR,Bh=Uv,WR=eu,jR=$s,xv=function(t){return new Promise(function(A,n){var i=t.data,o=t.headers,a=t.responseType,s;function u(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}Js.isFormData(i)&&delete o["Content-Type"];var l=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",h=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.Authorization="Basic "+btoa(f+":"+h)}var c=VR(t.baseURL,t.url);l.open(t.method.toUpperCase(),kR(c,t.params,t.paramsSerializer),!0),l.timeout=t.timeout;function d(){if(!!l){var B="getAllResponseHeaders"in l?YR(l.getAllResponseHeaders()):null,g=!a||a==="text"||a==="json"?l.responseText:l.response,y={data:g,status:l.status,statusText:l.statusText,headers:B,config:t,request:l};bR(function(_){A(_),u()},function(_){n(_),u()},y),l=null}}if("onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(d)},l.onabort=function(){!l||(n(Bh("Request aborted",t,"ECONNABORTED",l)),l=null)},l.onerror=function(){n(Bh("Network Error",t,null,l)),l=null},l.ontimeout=function(){var g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",y=t.transitional||WR.transitional;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),n(Bh(g,t,y.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",l)),l=null},Js.isStandardBrowserEnv()){var p=(t.withCredentials||XR(c))&&t.xsrfCookieName?KR.read(t.xsrfCookieName):void 0;p&&(o[t.xsrfHeaderName]=p)}"setRequestHeader"in l&&Js.forEach(o,function(g,y){typeof i=="undefined"&&y.toLowerCase()==="content-type"?delete o[y]:l.setRequestHeader(y,g)}),Js.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),a&&a!=="json"&&(l.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&l.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(s=function(B){!l||(n(!B||B&&B.type?new jR("canceled"):B),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s))),i||(i=null),l.send(i)})},Mt=oA,Tv=UR,ZR=Iv,zR={"Content-Type":"application/x-www-form-urlencoded"};function Ov(r,t){!Mt.isUndefined(r)&&Mt.isUndefined(r["Content-Type"])&&(r["Content-Type"]=t)}function $R(){var r;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(r=xv),r}function JR(r,t,e){if(Mt.isString(r))try{return(t||JSON.parse)(r),Mt.trim(r)}catch(A){if(A.name!=="SyntaxError")throw A}return(e||JSON.stringify)(r)}var qs={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:$R(),transformRequest:[function(t,e){return Tv(e,"Accept"),Tv(e,"Content-Type"),Mt.isFormData(t)||Mt.isArrayBuffer(t)||Mt.isBuffer(t)||Mt.isStream(t)||Mt.isFile(t)||Mt.isBlob(t)?t:Mt.isArrayBufferView(t)?t.buffer:Mt.isURLSearchParams(t)?(Ov(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Mt.isObject(t)||e&&e["Content-Type"]==="application/json"?(Ov(e,"application/json"),JR(t)):t}],transformResponse:[function(t){var e=this.transitional||qs.transitional,A=e&&e.silentJSONParsing,n=e&&e.forcedJSONParsing,i=!A&&this.responseType==="json";if(i||n&&Mt.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(i)throw o.name==="SyntaxError"?ZR(o,this,"E_JSON_PARSE"):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Mt.forEach(["delete","get","head"],function(t){qs.headers[t]={}});Mt.forEach(["post","put","patch"],function(t){qs.headers[t]=Mt.merge(zR)});var eu=qs,qR=oA,eL=eu,tL=function(t,e,A){var n=this||eL;return qR.forEach(A,function(o){t=o.call(n,t,e)}),t},Rv=function(t){return!!(t&&t.__CANCEL__)},Lv=oA,yh=tL,AL=Rv,rL=eu,nL=$s;function _h(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new nL("canceled")}var iL=function(t){_h(t),t.headers=t.headers||{},t.data=yh.call(t,t.data,t.headers,t.transformRequest),t.headers=Lv.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Lv.forEach(["delete","get","head","post","put","patch","common"],function(n){delete t.headers[n]});var e=t.adapter||rL.adapter;return e(t).then(function(n){return _h(t),n.data=yh.call(t,n.data,n.headers,t.transformResponse),n},function(n){return AL(n)||(_h(t),n&&n.response&&(n.response.data=yh.call(t,n.response.data,n.response.headers,t.transformResponse))),Promise.reject(n)})},aA=oA,Mv=function(t,e){e=e||{};var A={};function n(l,f){return aA.isPlainObject(l)&&aA.isPlainObject(f)?aA.merge(l,f):aA.isPlainObject(f)?aA.merge({},f):aA.isArray(f)?f.slice():f}function i(l){if(aA.isUndefined(e[l])){if(!aA.isUndefined(t[l]))return n(void 0,t[l])}else return n(t[l],e[l])}function o(l){if(!aA.isUndefined(e[l]))return n(void 0,e[l])}function a(l){if(aA.isUndefined(e[l])){if(!aA.isUndefined(t[l]))return n(void 0,t[l])}else return n(void 0,e[l])}function s(l){if(l in e)return n(t[l],e[l]);if(l in t)return n(void 0,t[l])}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s};return aA.forEach(Object.keys(t).concat(Object.keys(e)),function(f){var h=u[f]||i,c=h(f);aA.isUndefined(c)&&h!==s||(A[f]=c)}),A},Pv={version:"0.23.0"},oL=Pv.version,wh={};["object","boolean","number","function","string","symbol"].forEach(function(r,t){wh[r]=function(A){return typeof A===r||"a"+(t<1?"n ":" ")+r}});var Hv={};wh.transitional=function(t,e,A){function n(i,o){return"[Axios v"+oL+"] Transitional option '"+i+"'"+o+(A?". "+A:"")}return function(i,o,a){if(t===!1)throw new Error(n(o," has been removed"+(e?" in "+e:"")));return e&&!Hv[o]&&(Hv[o]=!0,console.warn(n(o," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(i,o,a):!0}};function aL(r,t,e){if(typeof r!="object")throw new TypeError("options must be an object");for(var A=Object.keys(r),n=A.length;n-- >0;){var i=A[n],o=t[i];if(o){var a=r[i],s=a===void 0||o(a,i,r);if(s!==!0)throw new TypeError("option "+i+" must be "+s);continue}if(e!==!0)throw Error("Unknown option "+i)}}var sL={assertOptions:aL,validators:wh},Nv=oA,uL=Qv,Dv=QR,Gv=iL,tu=Mv,bv=sL,mi=bv.validators;function ko(r){this.defaults=r,this.interceptors={request:new Dv,response:new Dv}}ko.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=tu(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;e!==void 0&&bv.assertOptions(e,{silentJSONParsing:mi.transitional(mi.boolean),forcedJSONParsing:mi.transitional(mi.boolean),clarifyTimeoutError:mi.transitional(mi.boolean)},!1);var A=[],n=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(t)===!1||(n=n&&h.synchronous,A.unshift(h.fulfilled,h.rejected))});var i=[];this.interceptors.response.forEach(function(h){i.push(h.fulfilled,h.rejected)});var o;if(!n){var a=[Gv,void 0];for(Array.prototype.unshift.apply(a,A),a=a.concat(i),o=Promise.resolve(t);a.length;)o=o.then(a.shift(),a.shift());return o}for(var s=t;A.length;){var u=A.shift(),l=A.shift();try{s=u(s)}catch(f){l(f);break}}try{o=Gv(s)}catch(f){return Promise.reject(f)}for(;i.length;)o=o.then(i.shift(),i.shift());return o};ko.prototype.getUri=function(t){return t=tu(this.defaults,t),uL(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};Nv.forEach(["delete","get","head","options"],function(t){ko.prototype[t]=function(e,A){return this.request(tu(A||{},{method:t,url:e,data:(A||{}).data}))}});Nv.forEach(["post","put","patch"],function(t){ko.prototype[t]=function(e,A,n){return this.request(tu(n||{},{method:t,url:e,data:A}))}});var lL=ko,fL=$s;function Ci(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(n){t=n});var e=this;this.promise.then(function(A){if(!!e._listeners){var n,i=e._listeners.length;for(n=0;n<i;n++)e._listeners[n](A);e._listeners=null}}),this.promise.then=function(A){var n,i=new Promise(function(o){e.subscribe(o),n=o}).then(A);return i.cancel=function(){e.unsubscribe(n)},i},r(function(n){e.reason||(e.reason=new fL(n),t(e.reason))})}Ci.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Ci.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Ci.prototype.unsubscribe=function(t){if(!!this._listeners){var e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}};Ci.source=function(){var t,e=new Ci(function(n){t=n});return{token:e,cancel:t}};var hL=Ci,cL=function(t){return function(A){return t.apply(null,A)}},dL=function(t){return typeof t=="object"&&t.isAxiosError===!0},Kv=oA,pL=mv,Au=lL,gL=Mv,vL=eu;function kv(r){var t=new Au(r),e=pL(Au.prototype.request,t);return Kv.extend(e,Au.prototype,t),Kv.extend(e,t),e.create=function(n){return kv(gL(r,n))},e}var JA=kv(vL);JA.Axios=Au;JA.Cancel=$s;JA.CancelToken=hL;JA.isCancel=Rv;JA.VERSION=Pv.version;JA.all=function(t){return Promise.all(t)};JA.spread=cL;JA.isAxiosError=dL;fh.exports=JA;fh.exports.default=JA;var Vv=fh.exports;let mh;const Ei=Vv.create({baseURL:"/api",timeout:5e4,withCredentials:!0});Ei.interceptors.request.use(r=>(mh=r1.service({fullscreen:!0,text:"Loading",lock:!0,spinner:"el-icon-loading",background:"rgba(0,0,0,0.1)"}),r),r=>{console.log(r),Promise.reject(r)});Ei.interceptors.response.use(r=>{if(mh.close(),r.status===200){const t=r.data;if(t.code==="0"||t.code===0)return r.data;if(t.code==="401"||t.code===401)location.href="/login";else return t.message&&qo({message:t.message,type:"error",duration:3*1e3}),r.data}},r=>{mh.close();var t=r.response&&r.response.data.message||"";switch(r.response&&r.response.status||302){case 400:break;case 401:location.href=r.response.data.loginUrl;break;case 403:t="\u672A\u6388\u6743\u8BF7\u6C42";break;case 404:t="\u8BF7\u6C42\u7684\u8D44\u6E90\u4E0D\u5B58\u5728";break;case 500:t="\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF";break;case 302:t="\u8BF7\u91CD\u65B0\u767B\u5F55";break}return qo({message:t||"\u672A\u77E5\u9519\u8BEF",type:"error",duration:3*1e3}),Promise.reject(r)});const BL={get(r,t){const e={method:"get",url:r};return t&&(e.params=t),Ei(e)},post(r,t){const e={method:"post",url:r};return t&&(e.data=t),Ei(e)},put(r,t){const e={method:"put",url:r};return t&&(e.params=t),Ei(e)},delete(r,t){const e={method:"delete",url:r};return t&&(e.params=t),Ei(e)}};const yL=Yr({name:"rightMenu",setup(){let r=oe(null),t=oe(null),e=oe(null);oe(null);const A=_r({activeNames:["1"],hourArr:i1(),curHour:new Date().getHours(),curStationDate:bh(),curGridDate:bh(),stationDic:["gjz","station","stationName","warningIcon"],realDic:["rain","tem","avgWind","wepNow"],hourRain:"pre1",curElement:"TMP",legends:"",legendToggle:!1,btList:o1(),singleIndex:-1}),n={stationType:"gjz",station:!0,stationName:"stationName",warningIcon:"warningIcon",rain:"pre1",tem:"tem",avgWind:"avgWind",vis:"",wepNow:"wepNow",rhu:"",gst:"",extremeWind:"",snowDepth:""},i=_r({addIso(){t.drawIsoByKc()},disabledDate(o){return o.getTime()>Date.now()},getLegendArr:(o,a)=>{let s;return o.TMP===A.curElement||o.TMAX===A.curElement||o.TMIN===A.curElement?s=a.temperatureCor:o.ER03===A.curElement?s=a.rainCor:o.EDA10===A.curElement?s=a.windCor:o.ERH===A.curElement?s=a.humidityCor:o.VIS03===A.curElement?s=a.VIS03Cor:o.ECT===A.curElement&&(s=a.ECTCor),s},getLegendColor:o=>{let a=[];for(let s=0;s<o.length;s++)a.push({label:o[s].text,color:"rgba("+o[s].r+", "+o[s].g+", "+o[s].b+", 0.5)"});return a},setIndex:(o,a)=>{A.singleIndex=o.value},clearData:()=>{t.clearStationData(),e.clearGridData()},clearStationData:()=>{t.clearStationData()},clearGridData:()=>{e.clearGridData(),A.legendToggle=!1,A.singleIndex=-1,e.clearGridWindData()},onSubmit:()=>{Vv.get("/public/api/json/2021120812.json").then(o=>{const a=o.data.filter(s=>s.stationType==="gjz");t.addStationData(a,n)})},onSubmitGrid:()=>{const o="grid5x5/getGrid5x5",a=A.curGridDate.toString().split("-").join("");if(A.singleIndex===-1){qo({message:"\u8BF7\u70B9\u51FB\u9009\u62E9\u65F6\u6548\uFF01",type:"warning"});return}const s={dateTime:a,fileName:a,statistic:0,suffix:A.singleIndex,type:A.curElement};BL.get(o,s).then(u=>{if(u.code===200&&u.data.errorInfo===null){const l=u.data,f=i.getLegendArr(f1,h1);A.legends=i.getLegendColor(f),A.legendToggle=!0,e.addGridData(l,f,s.type)}else qo({message:"\u83B7\u53D6\u6570\u636E\u5931\u8D25\uFF01\u7F3A\u5931\u6587\u4EF6\uFF1A"+u.data.errorInfo,type:"error"})})},changeStation:o=>{const a={stationType:o.find(s=>s==="gjz")?o.find(s=>s==="qyz")?"all":"gjz":o.find(s=>s==="qyz")?o.find(s=>s==="gjz")?"all":"qyz":"",station:o.find(s=>s==="station")!==void 0,stationName:o.find(s=>s==="stationName"),warningIcon:o.find(s=>s==="warningIcon")};Object.assign(n,a),t.changeStationData(n)},changeReal:o=>{const a={rain:o.find(s=>s==="rain")?"pre1":"",tem:o.find(s=>s==="tem"),avgWind:o.find(s=>s==="avgWind"),vis:o.find(s=>s==="vis"),wepNow:o.find(s=>s==="wepNow"),rhu:o.find(s=>s==="rhu"),gst:o.find(s=>s==="gst"),extremeWind:o.find(s=>s==="extremeWind"),snowDepth:o.find(s=>s==="snowDepth")};Object.assign(n,a),t.changeStationData(n)},changeHourRain:o=>{Object.assign(n,{hourRain:o}),t.changeStationData(n)}});return Jo(()=>{r=$i(),t=new kp.station(r),e=new kp.grid(r)}),qt(Ri(qt({},wr(A)),{stationArr:s1,realArr:u1,hourRainArr:l1,elementArr:a1}),wr(i))}}),_L={class:"rightMenu"},wL={class:"text item"},mL=ce("\u524D\u4E00\u65F6\u6B21"),CL=ce("\u67E5\u8BE2"),EL=ce("\u6E05\u9664"),FL=ce("\u540E\u4E00\u65F6\u6B21"),QL=ce("\u7B49\u503C\u9762"),IL={slot:"formBtn"},UL=ce("\u524D\u4E00\u65F6\u6B21"),SL=ce("\u67E5\u8BE2"),xL=ce("\u6E05\u9664"),TL=ce("\u540E\u4E00\u65F6\u6B21"),OL={key:0,slot:"legend",class:"legend pos-fixed"};function RL(r,t,e,A,n,i){const o=q("el-date-picker"),a=q("el-form-item"),s=q("el-option"),u=q("el-select"),l=q("i-arrow-left"),f=q("el-icon"),h=q("el-button"),c=q("i-arrow-right"),d=q("el-button-group"),p=q("el-checkbox"),B=q("el-checkbox-group"),g=q("el-radio"),y=q("el-radio-group"),m=q("el-form"),_=q("el-collapse-item"),C=q("el-collapse"),F=q("el-card");return Je(),gt("div",_L,[I(F,{class:"box-card",shadow:"never"},{default:S(()=>[ee("div",wL,[I(C,{modelValue:r.activeNames,"onUpdate:modelValue":t[7]||(t[7]=E=>r.activeNames=E)},{default:S(()=>[I(_,{title:"\u7AD9\u70B9\u6570\u636E",name:"1"},{default:S(()=>[I(m,{inline:!0},{default:S(()=>[I(a,{label:"\u65E5\u671F\uFF1A"},{default:S(()=>[I(o,{modelValue:r.curStationDate,"onUpdate:modelValue":t[0]||(t[0]=E=>r.curStationDate=E),type:"date",size:"mini",placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD","disabled-date":r.disabledDate,clearable:!1},null,8,["modelValue","disabled-date"])]),_:1}),I(a,{label:"\u65F6\uFF1A"},{default:S(()=>[I(u,{modelValue:r.curHour,"onUpdate:modelValue":t[1]||(t[1]=E=>r.curHour=E),placeholder:"\u8BF7\u9009\u62E9\u65F6\u6B21",size:"mini"},{default:S(()=>[(Je(!0),gt(QA,null,HA(r.hourArr,(E,Q)=>(Je(),NA(s,{key:Q,label:E,value:E},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),I(d,{class:"el-bt-group"},{default:S(()=>[I(h,{type:"primary",size:"mini"},{default:S(()=>[I(f,{size:10},{default:S(()=>[I(l)]),_:1}),mL]),_:1}),I(h,{type:"primary",onClick:r.onSubmit,size:"mini"},{default:S(()=>[CL]),_:1},8,["onClick"]),I(h,{type:"primary",onClick:r.clearStationData,size:"mini"},{default:S(()=>[EL]),_:1},8,["onClick"]),I(h,{type:"primary",size:"mini"},{default:S(()=>[FL,I(f,{size:10},{default:S(()=>[I(c)]),_:1})]),_:1}),I(h,{type:"primary",onClick:r.addIso,size:"mini"},{default:S(()=>[QL]),_:1},8,["onClick"])]),_:1}),I(a,{label:"\u7AD9\u70B9\u663E\u793A\uFF1A"},{default:S(()=>[I(B,{modelValue:r.stationDic,"onUpdate:modelValue":t[2]||(t[2]=E=>r.stationDic=E),onChange:r.changeStation},{default:S(()=>[(Je(!0),gt(QA,null,HA(r.stationArr,(E,Q)=>(Je(),NA(p,{key:Q,label:E.label},{default:S(()=>[ce(vt(E.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),I(a,{label:"\u5B9E\u51B5\u663E\u793A\uFF1A"},{default:S(()=>[I(B,{modelValue:r.realDic,"onUpdate:modelValue":t[3]||(t[3]=E=>r.realDic=E),onChange:r.changeReal},{default:S(()=>[(Je(!0),gt(QA,null,HA(r.realArr,(E,Q)=>(Je(),NA(p,{key:Q,label:E.label},{default:S(()=>[ce(vt(E.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),I(a,{label:"\u5C0F\u65F6\u964D\u6C34\uFF1A"},{default:S(()=>[I(y,{modelValue:r.hourRain,"onUpdate:modelValue":t[4]||(t[4]=E=>r.hourRain=E),onChange:r.changeHourRain},{default:S(()=>[(Je(!0),gt(QA,null,HA(r.hourRainArr,(E,Q)=>(Je(),NA(g,{key:Q,label:E.label},{default:S(()=>[ce(vt(E.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1})]),_:1}),I(_,{title:"\u683C\u70B9\u6570\u636E",name:"2"},{default:S(()=>[I(m,{inline:!0},{default:S(()=>[I(a,{label:"\u65E5\u671F\uFF1A"},{default:S(()=>[I(o,{modelValue:r.curGridDate,"onUpdate:modelValue":t[5]||(t[5]=E=>r.curGridDate=E),type:"date",size:"mini",placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD","disabled-date":r.disabledDate,clearable:!1},null,8,["modelValue","disabled-date"])]),_:1}),I(a,{label:"\u8981\u7D20\uFF1A"},{default:S(()=>[I(u,{modelValue:r.curElement,"onUpdate:modelValue":t[6]||(t[6]=E=>r.curElement=E),placeholder:"\u8BF7\u9009\u62E9\u8981\u7D20",size:"mini"},{default:S(()=>[(Je(!0),gt(QA,null,HA(r.elementArr,(E,Q)=>(Je(),NA(s,{key:Q,label:E.name,value:E.label},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),I(a,{label:"\u65F6\u6548\uFF1A"},{default:S(()=>[ee("div",IL,[(Je(!0),gt(QA,null,HA(r.btList,(E,Q)=>(Je(),NA(d,{key:Q},{default:S(()=>[I(h,{onClick:w=>r.setIndex(E,Q),class:n1(["buttonDiv",{elBackground:r.singleIndex==E.value}])},{default:S(()=>[ce(vt(E.label),1)]),_:2},1032,["onClick","class"])]),_:2},1024))),128))])]),_:1}),I(d,{class:"el-bt-group"},{default:S(()=>[I(h,{type:"primary",size:"mini"},{default:S(()=>[I(f,{size:10},{default:S(()=>[I(l)]),_:1}),UL]),_:1}),I(h,{type:"primary",onClick:r.onSubmitGrid,size:"mini"},{default:S(()=>[SL]),_:1},8,["onClick"]),I(h,{type:"primary",onClick:r.clearGridData,size:"mini"},{default:S(()=>[xL]),_:1},8,["onClick"]),I(h,{type:"primary",size:"mini"},{default:S(()=>[TL,I(f,{size:10},{default:S(()=>[I(c)]),_:1})]),_:1})]),_:1}),r.legendToggle?(Je(),gt("div",OL,[(Je(!0),gt(QA,null,HA(r.legends,E=>(Je(),gt("li",{key:E.label},[ee("div",{style:fu({backgroundColor:E.color})},vt(E.label),5)]))),128))])):Mh("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})])}var Ch=yr(yL,[["render",RL],["__scopeId","data-v-f2a7dbc2"]]),ru=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ch});const LL=Yr({name:"PopupDialog",props:{title:{type:String,default:"hello world"},width:{type:String||Number,default:"30%"}},setup(r,{emit:t}){const e=oe({comp:null}),A=oe(""),n=oe(""),i=oe(!1),o=l=>{i.value=l},a=l=>{e.value.comp=l},s=l=>{const f=A.value.$el.parentNode,h=f.childNodes,c=f.querySelector(".el-dialog"),d=c.querySelector(".el-dialog__title");d.innerHTML=l,c.style.display="block",f.appendChild(c),h.length>2&&f.removeChild(h[1])},u=()=>{const l=A.value.$el.parentNode.querySelector(".el-dialog");l.style.display="none",t("handleDialogClose")};return{title:r.title,width:r.width,centerDialogVisible:i,changeVisible:o,dialogRef:A,component:e,setComponent:a,removeDom:s,handleDialogClose:u,bodyComp:n}}});function ML(r,t,e,A,n,i){const o=q("el-scrollbar"),a=q("el-dialog");return Je(),gt("div",null,[I(a,{ref:"dialogRef",modelValue:r.centerDialogVisible,"onUpdate:modelValue":t[0]||(t[0]=s=>r.centerDialogVisible=s),title:r.title,width:r.width,center:!0,"close-on-press-escape":!1,"close-on-click-modal":!1,modal:!1,"destroy-on-close":!0,"append-to-body":!1,"custom-class":"tool-panel",onClose:r.handleDialogClose},{default:S(()=>[I(o,{height:"500px","max-height":"800px","view-class":"scrollbar_view_class"},{default:S(()=>[(Je(),NA(Gh(r.component.comp),{ref:"bodyComp"},null,512))]),_:1})]),_:1},8,["modelValue","title","width","onClose"])])}var PL=yr(LL,[["render",ML],["__scopeId","data-v-6f3c6946"]]);let Eh=!1,Fh,nu;function HL(){Eh=!1,Fh=null}function NL(r){if(Eh){let t=Fh,e=window.getComputedStyle(t,null);t.style.marginLeft=`${parseFloat(e.marginLeft)+r.clientX-nu.x}px`,t.style.marginTop=`${parseFloat(e.marginTop)+r.clientY-nu.y}px`,nu={x:r.clientX,y:r.clientY}}}document.addEventListener("mouseup",HL);document.addEventListener("mousemove",NL);function DL(r){r.querySelector(".el-dialog__header").addEventListener("mousedown",e=>{e.target.classList.contains("el-dialog__close")||(Eh=!0,Fh=r,nu={x:e.clientX,y:e.clientY})})}var GL={bind:DL};const bL=Yr({name:"index",components:{Map:i2,MapToolbar:eR,LeftMenu:hu,RightMenu:Ch,PopupDialog:PL},setup(){const r=[],t=oe(),e=oe();let A=oe("hello"),n=oe(!1);const i=a=>{console.log("tool",a),console.log("popupRef",t.value),A.value=a.label,console.log("title",A.value);const s=a.action;console.log("name",s),s==="ningxiaReal"?t.value.setComponent(sR):s==="gridReal"&&t.value.setComponent(Ch),t.value.changeVisible(!0),t.value.removeDom(a.label),n.value&&o(),n.value=!0},o=()=>{console.log("\u5173\u95EDX"),n.value=!1,t.value.bodyComp.clearData()};return Jo(()=>{GL.bind(t.value.dialogRef.dialogRef)}),{title:A,dialogList:r,leftMenu:hu,rightPanel:null,showRightDialog:i,popupRef:t,handleDialogClose:o,mapRef:e}},data(){return{isRightMenu:!1,leftMenu:null,rightPanel:null,rightBoxShow:!1,dialogList:[]}},mounted(){this.leftMenu=hu},methods:{resetPopupData(){console.log("\u70B9\u51FB\u53D6\u6D88")},async submitPopupData(){console.log("\u70B9\u51FB\u786E\u5B9A")},handleClose(){console.log("\u5934\u90E8\u7684X")},showRightMenu(){this.isRightMenu=!0},closeRightMenu(){this.isRightMenu=!1},showRightTool(r){this.rightPanel=r.component,this.rightBoxShow=!0},findChild(r,t){const e=t.$children.length-1,A=t.$children[e],n=A.$children.length-1,i=A.$children[n],o=i.$children.length-1;i.$children[o]},showRightDialog(r){console.log("tool",r);const t=this.dialogList,e=r.action;if(t.find(a=>a.id==e)){const a=this.$refs[e][0];return this.findChild(e,a),a.show()}let n=r.component;if(!n)return!1;const i=document.body.clientHeight,o=i&&i-200+"px";t.push({id:e,title:r.title||r.label,width:r.width||"350px",height:r.height||o||"auto",component:n})},onCloseRightDialog(r){const t=r.$refs.bodyComp;t.close&&t.close()}}}),KL={class:"container"},kL={class:"map-left-panel"};function VL(r,t,e,A,n,i){const o=q("Map"),a=q("MapToolbar"),s=q("PopupDialog");return Je(),gt("div",KL,[ee("div",kL,[(Je(),NA(Gh(r.leftMenu),{onShowDialog:r.showRightDialog},null,8,["onShowDialog"]))]),I(o,{ref:"mapRef"},null,512),I(a),I(s,{ref:"popupRef",title:r.title,"append-to-body":!0,width:"28%",onHandleDialogClose:r.handleDialogClose},null,8,["title","onHandleDialogClose"])])}var jL=yr(bL,[["render",VL],["__scopeId","data-v-87d906e4"]]);export{jL as default};
